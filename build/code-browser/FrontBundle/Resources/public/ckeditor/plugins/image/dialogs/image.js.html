<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>
            Mayflower Code Browser - Source Code
        </title>
        <link rel="stylesheet" type="text/css" href="../../../../../../js/jquery.sidebar/css/codebrowser/sidebar.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../../css/global.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../../css/cruisecontrol.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../../css/review.css" />

        <script type="text/javascript" src="../../../../../../js/jquery-1.4.2.min.js"></script>
        <script type="text/javascript" src="../../../../../../js/jquery.sidebar/jquery-ui-1.7.2.custom.min.js"></script>
        <script type="text/javascript" src="../../../../../../js/jquery.sidebar/jquery.sidebar.js"></script>
        <script type="text/javascript" src="../../../../../../js/jquery.cluetip/lib/jquery.hoverIntent.js"></script>
        <script type="text/javascript" src="../../../../../../js/jquery.cluetip/lib/jquery.bgiframe.min.js"></script>
        <script type="text/javascript" src="../../../../../../js/jquery.cluetip/jquery.cluetip.min.js"></script>

        <script type="text/javascript" src="../../../../../../js/review.js"></script>
    </head>
    <body class="codebrowser">
        <div class="header">
            <a href="./../../../../../../index.html">Go back to index</a> |
            <a href="https://github.com/Mayflower/PHP_CodeBrowser">PHP CodeBrowser</a>
        </div>
        <hr/>
        <div id="review">
            <div class="filepath">
                FrontBundle/Resources/public/ckeditor/plugins/image/dialogs/image.js            </div>

            <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="code"><ol class="code"><li id="line_1" class="odd"><span class="lineNumber">&nbsp;1&nbsp;</span>&iuml;&raquo;&iquest;/*<a name="line_1"></a></li>
<li id="line_2" class="even"><span class="lineNumber">&nbsp;2&nbsp;</span>&nbsp;Copyright&nbsp;(c)&nbsp;2003-2016,&nbsp;CKSource&nbsp;-&nbsp;Frederico&nbsp;Knabben.&nbsp;All&nbsp;rights&nbsp;reserved.<a name="line_2"></a></li>
<li id="line_3" class="odd"><span class="lineNumber">&nbsp;3&nbsp;</span>&nbsp;For&nbsp;licensing,&nbsp;see&nbsp;LICENSE.md&nbsp;or&nbsp;http://ckeditor.com/license<a name="line_3"></a></li>
<li id="line_4" class="even"><span class="lineNumber">&nbsp;4&nbsp;</span>*/<a name="line_4"></a></li>
<li id="line_5" class="odd"><span class="lineNumber">&nbsp;5&nbsp;</span>(function(){var&nbsp;v=function(d,l){function&nbsp;v(){var&nbsp;a=arguments,b=this.getContentElement("advanced","txtdlgGenStyle");b&amp;&amp;b.commit.apply(b,a);this.foreach(function(b){b.commit&amp;&amp;"txtdlgGenStyle"!=b.id&amp;&amp;b.commit.apply(b,a)})}function&nbsp;k(a){if(!w){w=1;var&nbsp;b=this.getDialog(),c=b.imageElement;if(c){this.commit(1,c);a=[].concat(a);for(var&nbsp;d=a.length,f,g=0;g&lt;d;g++)(f=b.getContentElement.apply(b,a[g].split(":")))&amp;&amp;f.setup(1,c)}w=0}}var&nbsp;m=/^\s*(\d+)((px)|\%)?\s*$/i,z=/(^\s*(\d+)((px)|\%)?\s*$)|^$/i,r=/^\d+px$/,<a name="line_5"></a></li>
<li id="line_6" class="even"><span class="lineNumber">&nbsp;6&nbsp;</span>A=function(){var&nbsp;a=this.getValue(),b=this.getDialog(),c=a.match(m);c&amp;&amp;("%"==c[2]&amp;&amp;n(b,!1),a=c[1]);b.lockRatio&amp;&amp;(c=b.originalElement,"true"==c.getCustomData("isReady")&amp;&amp;("txtHeight"==this.id?(a&amp;&amp;"0"!=a&amp;&amp;(a=Math.round(a/c.$.height*c.$.width)),isNaN(a)||b.setValueOf("info","txtWidth",a)):(a&amp;&amp;"0"!=a&amp;&amp;(a=Math.round(a/c.$.width*c.$.height)),isNaN(a)||b.setValueOf("info","txtHeight",a))));e(b)},e=function(a){if(!a.originalElement||!a.preview)return&nbsp;1;a.commitContent(4,a.preview);return&nbsp;0},w,n=function(a,<a name="line_6"></a></li>
<li id="line_7" class="odd"><span class="lineNumber">&nbsp;7&nbsp;</span>b){if(!a.getContentElement("info","ratioLock"))return&nbsp;null;var&nbsp;c=a.originalElement;if(!c)return&nbsp;null;if("check"==b){if(!a.userlockRatio&amp;&amp;"true"==c.getCustomData("isReady")){var&nbsp;d=a.getValueOf("info","txtWidth"),f=a.getValueOf("info","txtHeight"),c=1E3*c.$.width/c.$.height,g=1E3*d/f;a.lockRatio=!1;d||f?isNaN(c)||isNaN(g)||Math.round(c)!=Math.round(g)||(a.lockRatio=!0):a.lockRatio=!0}}else&nbsp;void&nbsp;0!==b?a.lockRatio=b:(a.userlockRatio=1,a.lockRatio=!a.lockRatio);d=CKEDITOR.document.getById(t);a.lockRatio?<a name="line_7"></a></li>
<li id="line_8" class="even"><span class="lineNumber">&nbsp;8&nbsp;</span>d.removeClass("cke_btn_unlocked"):d.addClass("cke_btn_unlocked");d.setAttribute("aria-checked",a.lockRatio);CKEDITOR.env.hc&amp;&amp;d.getChild(0).setHtml(a.lockRatio?CKEDITOR.env.ie?"&acirc;&#150;&nbsp;":"&acirc;&#150;&pound;":CKEDITOR.env.ie?"&acirc;&#150;&iexcl;":"&acirc;&#150;&cent;");return&nbsp;a.lockRatio},B=function(a,b){var&nbsp;c=a.originalElement;if("true"==c.getCustomData("isReady")){var&nbsp;d=a.getContentElement("info","txtWidth"),f=a.getContentElement("info","txtHeight"),g;b?c=g=0:(g=c.$.width,c=c.$.height);d&amp;&amp;d.setValue(g);f&amp;&amp;f.setValue(c)}e(a)},C=function(a,b){function&nbsp;c(a,b){var&nbsp;c=<a name="line_8"></a></li>
<li id="line_9" class="odd"><span class="lineNumber">&nbsp;9&nbsp;</span>a.match(m);return&nbsp;c?("%"==c[2]&amp;&amp;(c[1]+="%",n(d,!1)),c[1]):b}if(1==a){var&nbsp;d=this.getDialog(),f="",g="txtWidth"==this.id?"width":"height",e=b.getAttribute(g);e&amp;&amp;(f=c(e,f));f=c(b.getStyle(g),f);this.setValue(f)}},x,u=function(){var&nbsp;a=this.originalElement,b=CKEDITOR.document.getById(p);a.setCustomData("isReady","true");a.removeListener("load",u);a.removeListener("error",h);a.removeListener("abort",h);b&amp;&amp;b.setStyle("display","none");this.dontResetSize||B(this,!1===d.config.image_prefillDimensions);this.firstLoad&amp;&amp;<a name="line_9"></a></li>
<li id="line_10" class="even"><span class="lineNumber">10&nbsp;</span>CKEDITOR.tools.setTimeout(function(){n(this,"check")},0,this);this.dontResetSize=this.firstLoad=!1;e(this)},h=function(){var&nbsp;a=this.originalElement,b=CKEDITOR.document.getById(p);a.removeListener("load",u);a.removeListener("error",h);a.removeListener("abort",h);a=CKEDITOR.getUrl(CKEDITOR.plugins.get("image").path+"images/noimage.png");this.preview&amp;&amp;this.preview.setAttribute("src",a);b&amp;&amp;b.setStyle("display","none");n(this,!1)},q=function(a){return&nbsp;CKEDITOR.tools.getNextId()+"_"+a},t=q("btnLockSizes"),<a name="line_10"></a></li>
<li id="line_11" class="odd"><span class="lineNumber">11&nbsp;</span>y=q("btnResetSize"),p=q("ImagePreviewLoader"),E=q("previewLink"),D=q("previewImage");return{title:d.lang.image["image"==l?"title":"titleButton"],minWidth:420,minHeight:360,onShow:function(){this.linkEditMode=this.imageEditMode=this.linkElement=this.imageElement=!1;this.lockRatio=!0;this.userlockRatio=0;this.dontResetSize=!1;this.firstLoad=!0;this.addLink=!1;var&nbsp;a=this.getParentEditor(),b=a.getSelection(),c=(b=b&amp;&amp;b.getSelectedElement())&amp;&amp;a.elementPath(b).contains("a",1),d=CKEDITOR.document.getById(p);<a name="line_11"></a></li>
<li id="line_12" class="even"><span class="lineNumber">12&nbsp;</span>d&amp;&amp;d.setStyle("display","none");x=new&nbsp;CKEDITOR.dom.element("img",a.document);this.preview=CKEDITOR.document.getById(D);this.originalElement=a.document.createElement("img");this.originalElement.setAttribute("alt","");this.originalElement.setCustomData("isReady","false");c&amp;&amp;(this.linkElement=c,this.addLink=this.linkEditMode=!0,a=c.getChildren(),1==a.count()&amp;&amp;(d=a.getItem(0),d.type==CKEDITOR.NODE_ELEMENT&amp;&amp;(d.is("img")||d.is("input"))&amp;&amp;(this.imageElement=a.getItem(0),this.imageElement.is("img")?this.imageEditMode=<a name="line_12"></a></li>
<li id="line_13" class="odd"><span class="lineNumber">13&nbsp;</span>"img":this.imageElement.is("input")&amp;&amp;(this.imageEditMode="input"))),"image"==l&amp;&amp;this.setupContent(2,c));if(this.customImageElement)this.imageEditMode="img",this.imageElement=this.customImageElement,delete&nbsp;this.customImageElement;else&nbsp;if(b&amp;&amp;"img"==b.getName()&amp;&amp;!b.data("cke-realelement")||b&amp;&amp;"input"==b.getName()&amp;&amp;"image"==b.getAttribute("type"))this.imageEditMode=b.getName(),this.imageElement=b;this.imageEditMode&amp;&amp;(this.cleanImageElement=this.imageElement,this.imageElement=this.cleanImageElement.clone(!0,<a name="line_13"></a></li>
<li id="line_14" class="even"><span class="lineNumber">14&nbsp;</span>!0),this.setupContent(1,this.imageElement));n(this,!0);CKEDITOR.tools.trim(this.getValueOf("info","txtUrl"))||(this.preview.removeAttribute("src"),this.preview.setStyle("display","none"))},onOk:function(){if(this.imageEditMode){var&nbsp;a=this.imageEditMode;"image"==l&amp;&amp;"input"==a&amp;&amp;confirm(d.lang.image.button2Img)?(this.imageElement=d.document.createElement("img"),this.imageElement.setAttribute("alt",""),d.insertElement(this.imageElement)):"image"!=l&amp;&amp;"img"==a&amp;&amp;confirm(d.lang.image.img2Button)?(this.imageElement=<a name="line_14"></a></li>
<li id="line_15" class="odd"><span class="lineNumber">15&nbsp;</span>d.document.createElement("input"),this.imageElement.setAttributes({type:"image",alt:""}),d.insertElement(this.imageElement)):(this.imageElement=this.cleanImageElement,delete&nbsp;this.cleanImageElement)}else"image"==l?this.imageElement=d.document.createElement("img"):(this.imageElement=d.document.createElement("input"),this.imageElement.setAttribute("type","image")),this.imageElement.setAttribute("alt","");this.linkEditMode||(this.linkElement=d.document.createElement("a"));this.commitContent(1,this.imageElement);<a name="line_15"></a></li>
<li id="line_16" class="even"><span class="lineNumber">16&nbsp;</span>this.commitContent(2,this.linkElement);this.imageElement.getAttribute("style")||this.imageElement.removeAttribute("style");this.imageEditMode?!this.linkEditMode&amp;&amp;this.addLink?(d.insertElement(this.linkElement),this.imageElement.appendTo(this.linkElement)):this.linkEditMode&amp;&amp;!this.addLink&amp;&amp;(d.getSelection().selectElement(this.linkElement),d.insertElement(this.imageElement)):this.addLink?this.linkEditMode?this.linkElement.equals(d.getSelection().getSelectedElement())?(this.linkElement.setHtml(""),this.linkElement.append(this.imageElement,<a name="line_16"></a></li>
<li id="line_17" class="odd"><span class="lineNumber">17&nbsp;</span>!1)):d.insertElement(this.imageElement):(d.insertElement(this.linkElement),this.linkElement.append(this.imageElement,!1)):d.insertElement(this.imageElement)},onLoad:function(){"image"!=l&amp;&amp;this.hidePage("Link");var&nbsp;a=this._.element.getDocument();this.getContentElement("info","ratioLock")&amp;&amp;(this.addFocusable(a.getById(y),5),this.addFocusable(a.getById(t),5));this.commitContent=v},onHide:function(){this.preview&amp;&amp;this.commitContent(8,this.preview);this.originalElement&amp;&amp;(this.originalElement.removeListener("load",<a name="line_17"></a></li>
<li id="line_18" class="even"><span class="lineNumber">18&nbsp;</span>u),this.originalElement.removeListener("error",h),this.originalElement.removeListener("abort",h),this.originalElement.remove(),this.originalElement=!1);delete&nbsp;this.imageElement},contents:[{id:"info",label:d.lang.image.infoTab,accessKey:"I",elements:[{type:"vbox",padding:0,children:[{type:"hbox",widths:["280px","110px"],align:"right",children:[{id:"txtUrl",type:"text",label:d.lang.common.url,required:!0,onChange:function(){var&nbsp;a=this.getDialog(),b=this.getValue();if(0&lt;b.length){var&nbsp;a=this.getDialog(),<a name="line_18"></a></li>
<li id="line_19" class="odd"><span class="lineNumber">19&nbsp;</span>c=a.originalElement;a.preview&amp;&amp;a.preview.removeStyle("display");c.setCustomData("isReady","false");var&nbsp;d=CKEDITOR.document.getById(p);d&amp;&amp;d.setStyle("display","");c.on("load",u,a);c.on("error",h,a);c.on("abort",h,a);c.setAttribute("src",b);a.preview&amp;&amp;(x.setAttribute("src",b),a.preview.setAttribute("src",x.$.src),e(a))}else&nbsp;a.preview&amp;&amp;(a.preview.removeAttribute("src"),a.preview.setStyle("display","none"))},setup:function(a,b){if(1==a){var&nbsp;c=b.data("cke-saved-src")||b.getAttribute("src");this.getDialog().dontResetSize=<a name="line_19"></a></li>
<li id="line_20" class="even"><span class="lineNumber">20&nbsp;</span>!0;this.setValue(c);this.setInitValue()}},commit:function(a,b){1==a&amp;&amp;(this.getValue()||this.isChanged())?(b.data("cke-saved-src",this.getValue()),b.setAttribute("src",this.getValue())):8==a&amp;&amp;(b.setAttribute("src",""),b.removeAttribute("src"))},validate:CKEDITOR.dialog.validate.notEmpty(d.lang.image.urlMissing)},{type:"button",id:"browse",style:"display:inline-block;margin-top:14px;",align:"center",label:d.lang.common.browseServer,hidden:!0,filebrowser:"info:txtUrl"}]}]},{id:"txtAlt",type:"text",label:d.lang.image.alt,<a name="line_20"></a></li>
<li id="line_21" class="odd"><span class="lineNumber">21&nbsp;</span>accessKey:"T","default":"",onChange:function(){e(this.getDialog())},setup:function(a,b){1==a&amp;&amp;this.setValue(b.getAttribute("alt"))},commit:function(a,b){1==a?(this.getValue()||this.isChanged())&amp;&amp;b.setAttribute("alt",this.getValue()):4==a?b.setAttribute("alt",this.getValue()):8==a&amp;&amp;b.removeAttribute("alt")}},{type:"hbox",children:[{id:"basic",type:"vbox",children:[{type:"hbox",requiredContent:"img{width,height}",widths:["50%","50%"],children:[{type:"vbox",padding:1,children:[{type:"text",width:"45px",<a name="line_21"></a></li>
<li id="line_22" class="even"><span class="lineNumber">22&nbsp;</span>id:"txtWidth",label:d.lang.common.width,onKeyUp:A,onChange:function(){k.call(this,"advanced:txtdlgGenStyle")},validate:function(){var&nbsp;a=this.getValue().match(z);(a=!(!a||0===parseInt(a[1],10)))||alert(d.lang.common.invalidWidth);return&nbsp;a},setup:C,commit:function(a,b){var&nbsp;c=this.getValue();1==a?(c&amp;&amp;d.activeFilter.check("img{width,height}")?b.setStyle("width",CKEDITOR.tools.cssLength(c)):b.removeStyle("width"),b.removeAttribute("width")):4==a?c.match(m)?b.setStyle("width",CKEDITOR.tools.cssLength(c)):<a name="line_22"></a></li>
<li id="line_23" class="odd"><span class="lineNumber">23&nbsp;</span>(c=this.getDialog().originalElement,"true"==c.getCustomData("isReady")&amp;&amp;b.setStyle("width",c.$.width+"px")):8==a&amp;&amp;(b.removeAttribute("width"),b.removeStyle("width"))}},{type:"text",id:"txtHeight",width:"45px",label:d.lang.common.height,onKeyUp:A,onChange:function(){k.call(this,"advanced:txtdlgGenStyle")},validate:function(){var&nbsp;a=this.getValue().match(z);(a=!(!a||0===parseInt(a[1],10)))||alert(d.lang.common.invalidHeight);return&nbsp;a},setup:C,commit:function(a,b){var&nbsp;c=this.getValue();1==a?(c&amp;&amp;d.activeFilter.check("img{width,height}")?<a name="line_23"></a></li>
<li id="line_24" class="even"><span class="lineNumber">24&nbsp;</span>b.setStyle("height",CKEDITOR.tools.cssLength(c)):b.removeStyle("height"),b.removeAttribute("height")):4==a?c.match(m)?b.setStyle("height",CKEDITOR.tools.cssLength(c)):(c=this.getDialog().originalElement,"true"==c.getCustomData("isReady")&amp;&amp;b.setStyle("height",c.$.height+"px")):8==a&amp;&amp;(b.removeAttribute("height"),b.removeStyle("height"))}}]},{id:"ratioLock",type:"html",style:"margin-top:30px;width:40px;height:40px;",onLoad:function(){var&nbsp;a=CKEDITOR.document.getById(y),b=CKEDITOR.document.getById(t);<a name="line_24"></a></li>
<li id="line_25" class="odd"><span class="lineNumber">25&nbsp;</span>a&amp;&amp;(a.on("click",function(a){B(this);a.data&amp;&amp;a.data.preventDefault()},this.getDialog()),a.on("mouseover",function(){this.addClass("cke_btn_over")},a),a.on("mouseout",function(){this.removeClass("cke_btn_over")},a));b&amp;&amp;(b.on("click",function(a){n(this);var&nbsp;b=this.originalElement,d=this.getValueOf("info","txtWidth");"true"==b.getCustomData("isReady")&amp;&amp;d&amp;&amp;(b=b.$.height/b.$.width*d,isNaN(b)||(this.setValueOf("info","txtHeight",Math.round(b)),e(this)));a.data&amp;&amp;a.data.preventDefault()},this.getDialog()),<a name="line_25"></a></li>
<li id="line_26" class="even"><span class="lineNumber">26&nbsp;</span>b.on("mouseover",function(){this.addClass("cke_btn_over")},b),b.on("mouseout",function(){this.removeClass("cke_btn_over")},b))},html:'\x3cdiv\x3e\x3ca&nbsp;href\x3d"javascript:void(0)"&nbsp;tabindex\x3d"-1"&nbsp;title\x3d"'+d.lang.image.lockRatio+'"&nbsp;class\x3d"cke_btn_locked"&nbsp;id\x3d"'+t+'"&nbsp;role\x3d"checkbox"\x3e\x3cspan&nbsp;class\x3d"cke_icon"\x3e\x3c/span\x3e\x3cspan&nbsp;class\x3d"cke_label"\x3e'+d.lang.image.lockRatio+'\x3c/span\x3e\x3c/a\x3e\x3ca&nbsp;href\x3d"javascript:void(0)"&nbsp;tabindex\x3d"-1"&nbsp;title\x3d"'+d.lang.image.resetSize+<a name="line_26"></a></li>
<li id="line_27" class="odd"><span class="lineNumber">27&nbsp;</span>'"&nbsp;class\x3d"cke_btn_reset"&nbsp;id\x3d"'+y+'"&nbsp;role\x3d"button"\x3e\x3cspan&nbsp;class\x3d"cke_label"\x3e'+d.lang.image.resetSize+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e"}]},{type:"vbox",padding:1,children:[{type:"text",id:"txtBorder",requiredContent:"img{border-width}",width:"60px",label:d.lang.image.border,"default":"",onKeyUp:function(){e(this.getDialog())},onChange:function(){k.call(this,"advanced:txtdlgGenStyle")},validate:CKEDITOR.dialog.validate.integer(d.lang.image.validateBorder),setup:function(a,b){if(1==<a name="line_27"></a></li>
<li id="line_28" class="even"><span class="lineNumber">28&nbsp;</span>a){var&nbsp;c;c=(c=(c=b.getStyle("border-width"))&amp;&amp;c.match(/^(\d+px)(?:&nbsp;\1&nbsp;\1&nbsp;\1)?$/))&amp;&amp;parseInt(c[1],10);isNaN(parseInt(c,10))&amp;&amp;(c=b.getAttribute("border"));this.setValue(c)}},commit:function(a,b){var&nbsp;c=parseInt(this.getValue(),10);1==a||4==a?(isNaN(c)?!c&amp;&amp;this.isChanged()&amp;&amp;b.removeStyle("border"):(b.setStyle("border-width",CKEDITOR.tools.cssLength(c)),b.setStyle("border-style","solid")),1==a&amp;&amp;b.removeAttribute("border")):8==a&amp;&amp;(b.removeAttribute("border"),b.removeStyle("border-width"),b.removeStyle("border-style"),<a name="line_28"></a></li>
<li id="line_29" class="odd"><span class="lineNumber">29&nbsp;</span>b.removeStyle("border-color"))}},{type:"text",id:"txtHSpace",requiredContent:"img{margin-left,margin-right}",width:"60px",label:d.lang.image.hSpace,"default":"",onKeyUp:function(){e(this.getDialog())},onChange:function(){k.call(this,"advanced:txtdlgGenStyle")},validate:CKEDITOR.dialog.validate.integer(d.lang.image.validateHSpace),setup:function(a,b){if(1==a){var&nbsp;c,d;c=b.getStyle("margin-left");d=b.getStyle("margin-right");c=c&amp;&amp;c.match(r);d=d&amp;&amp;d.match(r);c=parseInt(c,10);d=parseInt(d,10);c=c==d&amp;&amp;c;<a name="line_29"></a></li>
<li id="line_30" class="even"><span class="lineNumber">30&nbsp;</span>isNaN(parseInt(c,10))&amp;&amp;(c=b.getAttribute("hspace"));this.setValue(c)}},commit:function(a,b){var&nbsp;c=parseInt(this.getValue(),10);1==a||4==a?(isNaN(c)?!c&amp;&amp;this.isChanged()&amp;&amp;(b.removeStyle("margin-left"),b.removeStyle("margin-right")):(b.setStyle("margin-left",CKEDITOR.tools.cssLength(c)),b.setStyle("margin-right",CKEDITOR.tools.cssLength(c))),1==a&amp;&amp;b.removeAttribute("hspace")):8==a&amp;&amp;(b.removeAttribute("hspace"),b.removeStyle("margin-left"),b.removeStyle("margin-right"))}},{type:"text",id:"txtVSpace",<a name="line_30"></a></li>
<li id="line_31" class="odd"><span class="lineNumber">31&nbsp;</span>requiredContent:"img{margin-top,margin-bottom}",width:"60px",label:d.lang.image.vSpace,"default":"",onKeyUp:function(){e(this.getDialog())},onChange:function(){k.call(this,"advanced:txtdlgGenStyle")},validate:CKEDITOR.dialog.validate.integer(d.lang.image.validateVSpace),setup:function(a,b){if(1==a){var&nbsp;c,d;c=b.getStyle("margin-top");d=b.getStyle("margin-bottom");c=c&amp;&amp;c.match(r);d=d&amp;&amp;d.match(r);c=parseInt(c,10);d=parseInt(d,10);c=c==d&amp;&amp;c;isNaN(parseInt(c,10))&amp;&amp;(c=b.getAttribute("vspace"));this.setValue(c)}},<a name="line_31"></a></li>
<li id="line_32" class="even"><span class="lineNumber">32&nbsp;</span>commit:function(a,b){var&nbsp;c=parseInt(this.getValue(),10);1==a||4==a?(isNaN(c)?!c&amp;&amp;this.isChanged()&amp;&amp;(b.removeStyle("margin-top"),b.removeStyle("margin-bottom")):(b.setStyle("margin-top",CKEDITOR.tools.cssLength(c)),b.setStyle("margin-bottom",CKEDITOR.tools.cssLength(c))),1==a&amp;&amp;b.removeAttribute("vspace")):8==a&amp;&amp;(b.removeAttribute("vspace"),b.removeStyle("margin-top"),b.removeStyle("margin-bottom"))}},{id:"cmbAlign",requiredContent:"img{float}",type:"select",widths:["35%","65%"],style:"width:90px",<a name="line_32"></a></li>
<li id="line_33" class="odd"><span class="lineNumber">33&nbsp;</span>label:d.lang.common.align,"default":"",items:[[d.lang.common.notSet,""],[d.lang.common.alignLeft,"left"],[d.lang.common.alignRight,"right"]],onChange:function(){e(this.getDialog());k.call(this,"advanced:txtdlgGenStyle")},setup:function(a,b){if(1==a){var&nbsp;c=b.getStyle("float");switch(c){case&nbsp;"inherit":case&nbsp;"none":c=""}!c&amp;&amp;(c=(b.getAttribute("align")||"").toLowerCase());this.setValue(c)}},commit:function(a,b){var&nbsp;c=this.getValue();if(1==a||4==a){if(c?b.setStyle("float",c):b.removeStyle("float"),1==a)switch(c=<a name="line_33"></a></li>
<li id="line_34" class="even"><span class="lineNumber">34&nbsp;</span>(b.getAttribute("align")||"").toLowerCase(),c){case&nbsp;"left":case&nbsp;"right":b.removeAttribute("align")}}else&nbsp;8==a&amp;&amp;b.removeStyle("float")}}]}]},{type:"vbox",height:"250px",children:[{type:"html",id:"htmlPreview",style:"width:95%;",html:"\x3cdiv\x3e"+CKEDITOR.tools.htmlEncode(d.lang.common.preview)+'\x3cbr\x3e\x3cdiv&nbsp;id\x3d"'+p+'"&nbsp;class\x3d"ImagePreviewLoader"&nbsp;style\x3d"display:none"\x3e\x3cdiv&nbsp;class\x3d"loading"\x3e\x26nbsp;\x3c/div\x3e\x3c/div\x3e\x3cdiv&nbsp;class\x3d"ImagePreviewBox"\x3e\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3ca&nbsp;href\x3d"javascript:void(0)"&nbsp;target\x3d"_blank"&nbsp;onclick\x3d"return&nbsp;false;"&nbsp;id\x3d"'+<a name="line_34"></a></li>
<li id="line_35" class="odd"><span class="lineNumber">35&nbsp;</span>E+'"\x3e\x3cimg&nbsp;id\x3d"'+D+'"&nbsp;alt\x3d""&nbsp;/\x3e\x3c/a\x3e'+(d.config.image_previewText||"Lorem&nbsp;ipsum&nbsp;dolor&nbsp;sit&nbsp;amet,&nbsp;consectetuer&nbsp;adipiscing&nbsp;elit.&nbsp;Maecenas&nbsp;feugiat&nbsp;consequat&nbsp;diam.&nbsp;Maecenas&nbsp;metus.&nbsp;Vivamus&nbsp;diam&nbsp;purus,&nbsp;cursus&nbsp;a,&nbsp;commodo&nbsp;non,&nbsp;facilisis&nbsp;vitae,&nbsp;nulla.&nbsp;Aenean&nbsp;dictum&nbsp;lacinia&nbsp;tortor.&nbsp;Nunc&nbsp;iaculis,&nbsp;nibh&nbsp;non&nbsp;iaculis&nbsp;aliquam,&nbsp;orci&nbsp;felis&nbsp;euismod&nbsp;neque,&nbsp;sed&nbsp;ornare&nbsp;massa&nbsp;mauris&nbsp;sed&nbsp;velit.&nbsp;Nulla&nbsp;pretium&nbsp;mi&nbsp;et&nbsp;risus.&nbsp;Fusce&nbsp;mi&nbsp;pede,&nbsp;tempor&nbsp;id,&nbsp;cursus&nbsp;ac,&nbsp;ullamcorper&nbsp;nec,&nbsp;enim.&nbsp;Sed&nbsp;tortor.&nbsp;Curabitur&nbsp;molestie.&nbsp;Duis&nbsp;velit&nbsp;augue,&nbsp;condimentum&nbsp;at,&nbsp;ultrices&nbsp;a,&nbsp;luctus&nbsp;ut,&nbsp;orci.&nbsp;Donec&nbsp;pellentesque&nbsp;egestas&nbsp;eros.&nbsp;Integer&nbsp;cursus,&nbsp;augue&nbsp;in&nbsp;cursus&nbsp;faucibus,&nbsp;eros&nbsp;pede&nbsp;bibendum&nbsp;sem,&nbsp;in&nbsp;tempus&nbsp;tellus&nbsp;justo&nbsp;quis&nbsp;ligula.&nbsp;Etiam&nbsp;eget&nbsp;tortor.&nbsp;Vestibulum&nbsp;rutrum,&nbsp;est&nbsp;ut&nbsp;placerat&nbsp;elementum,&nbsp;lectus&nbsp;nisl&nbsp;aliquam&nbsp;velit,&nbsp;tempor&nbsp;aliquam&nbsp;eros&nbsp;nunc&nbsp;nonummy&nbsp;metus.&nbsp;In&nbsp;eros&nbsp;metus,&nbsp;gravida&nbsp;a,&nbsp;gravida&nbsp;sed,&nbsp;lobortis&nbsp;id,&nbsp;turpis.&nbsp;Ut&nbsp;ultrices,&nbsp;ipsum&nbsp;at&nbsp;venenatis&nbsp;fringilla,&nbsp;sem&nbsp;nulla&nbsp;lacinia&nbsp;tellus,&nbsp;eget&nbsp;aliquet&nbsp;turpis&nbsp;mauris&nbsp;non&nbsp;enim.&nbsp;Nam&nbsp;turpis.&nbsp;Suspendisse&nbsp;lacinia.&nbsp;Curabitur&nbsp;ac&nbsp;tortor&nbsp;ut&nbsp;ipsum&nbsp;egestas&nbsp;elementum.&nbsp;Nunc&nbsp;imperdiet&nbsp;gravida&nbsp;mauris.")+<a name="line_35"></a></li>
<li id="line_36" class="even"><span class="lineNumber">36&nbsp;</span>"\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e"}]}]}]},{id:"Link",requiredContent:"a[href]",label:d.lang.image.linkTab,padding:0,elements:[{id:"txtUrl",type:"text",label:d.lang.common.url,style:"width:&nbsp;100%","default":"",setup:function(a,b){if(2==a){var&nbsp;c=b.data("cke-saved-href");c||(c=b.getAttribute("href"));this.setValue(c)}},commit:function(a,b){if(2==a&amp;&amp;(this.getValue()||this.isChanged())){var&nbsp;c=this.getValue();b.data("cke-saved-href",c);b.setAttribute("href",c);this.getValue()||<a name="line_36"></a></li>
<li id="line_37" class="odd"><span class="lineNumber">37&nbsp;</span>!d.config.image_removeLinkByEmptyURL?this.getDialog().addLink=!0:this.getDialog().addLink=!1}}},{type:"button",id:"browse",filebrowser:{action:"Browse",target:"Link:txtUrl",url:d.config.filebrowserImageBrowseLinkUrl},style:"float:right",hidden:!0,label:d.lang.common.browseServer},{id:"cmbTarget",type:"select",requiredContent:"a[target]",label:d.lang.common.target,"default":"",items:[[d.lang.common.notSet,""],[d.lang.common.targetNew,"_blank"],[d.lang.common.targetTop,"_top"],[d.lang.common.targetSelf,<a name="line_37"></a></li>
<li id="line_38" class="even"><span class="lineNumber">38&nbsp;</span>"_self"],[d.lang.common.targetParent,"_parent"]],setup:function(a,b){2==a&amp;&amp;this.setValue(b.getAttribute("target")||"")},commit:function(a,b){2==a&amp;&amp;(this.getValue()||this.isChanged())&amp;&amp;b.setAttribute("target",this.getValue())}}]},{id:"Upload",hidden:!0,filebrowser:"uploadButton",label:d.lang.image.upload,elements:[{type:"file",id:"upload",label:d.lang.image.btnUpload,style:"height:40px",size:38},{type:"fileButton",id:"uploadButton",filebrowser:"info:txtUrl",label:d.lang.image.btnUpload,"for":["Upload",<a name="line_38"></a></li>
<li id="line_39" class="odd"><span class="lineNumber">39&nbsp;</span>"upload"]}]},{id:"advanced",label:d.lang.common.advancedTab,elements:[{type:"hbox",widths:["50%","25%","25%"],children:[{type:"text",id:"linkId",requiredContent:"img[id]",label:d.lang.common.id,setup:function(a,b){1==a&amp;&amp;this.setValue(b.getAttribute("id"))},commit:function(a,b){1==a&amp;&amp;(this.getValue()||this.isChanged())&amp;&amp;b.setAttribute("id",this.getValue())}},{id:"cmbLangDir",type:"select",requiredContent:"img[dir]",style:"width&nbsp;:&nbsp;100px;",label:d.lang.common.langDir,"default":"",items:[[d.lang.common.notSet,<a name="line_39"></a></li>
<li id="line_40" class="even"><span class="lineNumber">40&nbsp;</span>""],[d.lang.common.langDirLtr,"ltr"],[d.lang.common.langDirRtl,"rtl"]],setup:function(a,b){1==a&amp;&amp;this.setValue(b.getAttribute("dir"))},commit:function(a,b){1==a&amp;&amp;(this.getValue()||this.isChanged())&amp;&amp;b.setAttribute("dir",this.getValue())}},{type:"text",id:"txtLangCode",requiredContent:"img[lang]",label:d.lang.common.langCode,"default":"",setup:function(a,b){1==a&amp;&amp;this.setValue(b.getAttribute("lang"))},commit:function(a,b){1==a&amp;&amp;(this.getValue()||this.isChanged())&amp;&amp;b.setAttribute("lang",this.getValue())}}]},<a name="line_40"></a></li>
<li id="line_41" class="odd"><span class="lineNumber">41&nbsp;</span>{type:"text",id:"txtGenLongDescr",requiredContent:"img[longdesc]",label:d.lang.common.longDescr,setup:function(a,b){1==a&amp;&amp;this.setValue(b.getAttribute("longDesc"))},commit:function(a,b){1==a&amp;&amp;(this.getValue()||this.isChanged())&amp;&amp;b.setAttribute("longDesc",this.getValue())}},{type:"hbox",widths:["50%","50%"],children:[{type:"text",id:"txtGenClass",requiredContent:"img(cke-xyz)",label:d.lang.common.cssClass,"default":"",setup:function(a,b){1==a&amp;&amp;this.setValue(b.getAttribute("class"))},commit:function(a,<a name="line_41"></a></li>
<li id="line_42" class="even"><span class="lineNumber">42&nbsp;</span>b){1==a&amp;&amp;(this.getValue()||this.isChanged())&amp;&amp;b.setAttribute("class",this.getValue())}},{type:"text",id:"txtGenTitle",requiredContent:"img[title]",label:d.lang.common.advisoryTitle,"default":"",onChange:function(){e(this.getDialog())},setup:function(a,b){1==a&amp;&amp;this.setValue(b.getAttribute("title"))},commit:function(a,b){1==a?(this.getValue()||this.isChanged())&amp;&amp;b.setAttribute("title",this.getValue()):4==a?b.setAttribute("title",this.getValue()):8==a&amp;&amp;b.removeAttribute("title")}}]},{type:"text",id:"txtdlgGenStyle",<a name="line_42"></a></li>
<li id="line_43" class="odd"><span class="lineNumber">43&nbsp;</span>requiredContent:"img{cke-xyz}",label:d.lang.common.cssStyle,validate:CKEDITOR.dialog.validate.inlineStyle(d.lang.common.invalidInlineStyle),"default":"",setup:function(a,b){if(1==a){var&nbsp;c=b.getAttribute("style");!c&amp;&amp;b.$.style.cssText&amp;&amp;(c=b.$.style.cssText);this.setValue(c);var&nbsp;d=b.$.style.height,c=b.$.style.width,d=(d?d:"").match(m),c=(c?c:"").match(m);this.attributesInStyle={height:!!d,width:!!c}}},onChange:function(){k.call(this,"info:cmbFloat&nbsp;info:cmbAlign&nbsp;info:txtVSpace&nbsp;info:txtHSpace&nbsp;info:txtBorder&nbsp;info:txtWidth&nbsp;info:txtHeight".split("&nbsp;"));<a name="line_43"></a></li>
<li id="line_44" class="even"><span class="lineNumber">44&nbsp;</span>e(this)},commit:function(a,b){1==a&amp;&amp;(this.getValue()||this.isChanged())&amp;&amp;b.setAttribute("style",this.getValue())}}]}]}};CKEDITOR.dialog.add("image",function(d){return&nbsp;v(d,"image")});CKEDITOR.dialog.add("imagebutton",function(d){return&nbsp;v(d,"imagebutton")})})();<a name="line_44"></a></li></ol></div></body></html>
                    </div>
    </body>
</html>
