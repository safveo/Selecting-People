<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>
            Mayflower Code Browser - Source Code
        </title>
        <link rel="stylesheet" type="text/css" href="../../../../../js/jquery.sidebar/css/codebrowser/sidebar.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../css/global.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../css/cruisecontrol.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../css/review.css" />

        <script type="text/javascript" src="../../../../../js/jquery-1.4.2.min.js"></script>
        <script type="text/javascript" src="../../../../../js/jquery.sidebar/jquery-ui-1.7.2.custom.min.js"></script>
        <script type="text/javascript" src="../../../../../js/jquery.sidebar/jquery.sidebar.js"></script>
        <script type="text/javascript" src="../../../../../js/jquery.cluetip/lib/jquery.hoverIntent.js"></script>
        <script type="text/javascript" src="../../../../../js/jquery.cluetip/lib/jquery.bgiframe.min.js"></script>
        <script type="text/javascript" src="../../../../../js/jquery.cluetip/jquery.cluetip.min.js"></script>

        <script type="text/javascript" src="../../../../../js/review.js"></script>
    </head>
    <body class="codebrowser">
        <div class="header">
            <a href="./../../../../../index.html">Go back to index</a> |
            <a href="https://github.com/Mayflower/PHP_CodeBrowser">PHP CodeBrowser</a>
        </div>
        <hr/>
        <div id="review">
            <div class="filepath">
                FrontBundle/Resources/public/js/plugins/charts/exporting.js            </div>

            <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="code"><ol class="code"><li id="line_1" class="odd"><span class="lineNumber">&nbsp;1&nbsp;</span>/*<a name="line_1"></a></li>
<li id="line_2" class="even"><span class="lineNumber">&nbsp;2&nbsp;</span>&nbsp;Highcharts&nbsp;JS&nbsp;v5.0.7&nbsp;(2017-01-17)<a name="line_2"></a></li>
<li id="line_3" class="odd"><span class="lineNumber">&nbsp;3&nbsp;</span>&nbsp;Exporting&nbsp;module<a name="line_3"></a></li>
<li id="line_4" class="even"><span class="lineNumber">&nbsp;4&nbsp;</span><a name="line_4"></a></li>
<li id="line_5" class="odd"><span class="lineNumber">&nbsp;5&nbsp;</span>&nbsp;(c)&nbsp;2010-2016&nbsp;Torstein&nbsp;Honsi<a name="line_5"></a></li>
<li id="line_6" class="even"><span class="lineNumber">&nbsp;6&nbsp;</span><a name="line_6"></a></li>
<li id="line_7" class="odd"><span class="lineNumber">&nbsp;7&nbsp;</span>&nbsp;License:&nbsp;www.highcharts.com/license<a name="line_7"></a></li>
<li id="line_8" class="even"><span class="lineNumber">&nbsp;8&nbsp;</span>&nbsp;*/<a name="line_8"></a></li>
<li id="line_9" class="odd"><span class="lineNumber">&nbsp;9&nbsp;</span>(function(h){"object"===typeof&nbsp;module&amp;&amp;module.exports?module.exports=h:h(Highcharts)})(function(h){(function(f){var&nbsp;h=f.defaultOptions,n=f.doc,A=f.Chart,u=f.addEvent,F=f.removeEvent,D=f.fireEvent,q=f.createElement,B=f.discardElement,v=f.css,p=f.merge,C=f.pick,k=f.each,r=f.extend,G=f.isTouchDevice,E=f.win,H=f.Renderer.prototype.symbols;r(h.lang,{printChart:"Print&nbsp;chart",downloadPNG:"Download&nbsp;PNG&nbsp;image",downloadJPEG:"Download&nbsp;JPEG&nbsp;image",downloadPDF:"Download&nbsp;PDF&nbsp;document",downloadSVG:"Download&nbsp;SVG&nbsp;vector&nbsp;image",<a name="line_9"></a></li>
<li id="line_10" class="even"><span class="lineNumber">10&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;contextButtonTitle:"Chart&nbsp;context&nbsp;menu"});h.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}};p(!0,h.navigation,{menuStyle:{border:"1px&nbsp;solid&nbsp;#999999",background:"#ffffff",padding:"5px&nbsp;0"},menuItemStyle:{padding:"0.5em&nbsp;1em",background:"none",color:"#333333",fontSize:G?"14px":"11px",transition:"background&nbsp;250ms,&nbsp;color&nbsp;250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",<a name="line_10"></a></li>
<li id="line_11" class="odd"><span class="lineNumber">11&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}});h.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},<a name="line_11"></a></li>
<li id="line_12" class="even"><span class="lineNumber">12&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};f.post=function(a,c,e){var&nbsp;b;a=q("form",p({method:"post",action:a,enctype:"multipart/form-data"},e),{display:"none"},n.body);for(b&nbsp;in&nbsp;c)q("input",{type:"hidden",name:b,value:c[b]},null,a);a.submit();B(a)};r(A.prototype,{sanitizeSVG:function(a,c){if(c&amp;&amp;c.exporting&amp;&amp;c.exporting.allowHTML){var&nbsp;e=a.match(/&lt;\/svg&gt;(.*?$)/);e&amp;&amp;(e=<a name="line_12"></a></li>
<li id="line_13" class="odd"><span class="lineNumber">13&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;'\x3cforeignObject&nbsp;x\x3d"0"&nbsp;y\x3d"0"&nbsp;width\x3d"'+c.chart.width+'"&nbsp;height\x3d"'+c.chart.height+'"\x3e\x3cbody&nbsp;xmlns\x3d"http://www.w3.org/1999/xhtml"\x3e'+e[1]+"\x3c/body\x3e\x3c/foreignObject\x3e",a=a.replace("\x3c/svg\x3e",e+"\x3c/svg\x3e"))}a=a.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&amp;quot;)(\S+)("|&amp;quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/&lt;svg&nbsp;/,'\x3csvg&nbsp;xmlns:xlink\x3d"http://www.w3.org/1999/xlink"&nbsp;').replace(/&nbsp;(NS[0-9]+\:)?href=/g,<a name="line_13"></a></li>
<li id="line_14" class="even"><span class="lineNumber">14&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;xlink:href\x3d").replace(/\n/,"&nbsp;").replace(/&lt;\/svg&gt;.*?$/,"\x3c/svg\x3e").replace(/(fill|stroke)="rgba\(([&nbsp;0-9]+,[&nbsp;0-9]+,[&nbsp;0-9]+),([&nbsp;0-9\.]+)\)"/g,'$1\x3d"rgb($2)"&nbsp;$1-opacity\x3d"$3"').replace(/&amp;nbsp;/g,"\u00a0").replace(/&amp;shy;/g,"\u00ad");return&nbsp;a=a.replace(/&lt;IMG&nbsp;/g,"\x3cimage&nbsp;").replace(/&lt;(\/?)TITLE&gt;/g,"\x3c$1title\x3e").replace(/height=([^"&nbsp;]+)/g,'height\x3d"$1"').replace(/width=([^"&nbsp;]+)/g,'width\x3d"$1"').replace(/hc-svg-href="([^"]+)"&gt;/g,'xlink:href\x3d"$1"/\x3e').replace(/&nbsp;id=([^"&nbsp;&gt;]+)/g,'&nbsp;id\x3d"$1"').replace(/class=([^"&nbsp;&gt;]+)/g,<a name="line_14"></a></li>
<li id="line_15" class="odd"><span class="lineNumber">15&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;'class\x3d"$1"').replace(/&nbsp;transform&nbsp;/g,"&nbsp;").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(a){return&nbsp;a.toLowerCase()})},getChartHTML:function(){return&nbsp;this.container.innerHTML},getSVG:function(a){var&nbsp;c,e,b,w,m,g=p(this.options,a);n.createElementNS||(n.createElementNS=function(a,c){return&nbsp;n.createElement(c)});e=q("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},n.body);b=this.renderTo.style.width;m=this.renderTo.style.height;<a name="line_15"></a></li>
<li id="line_16" class="even"><span class="lineNumber">16&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;b=g.exporting.sourceWidth||g.chart.width||/px$/.test(b)&amp;&amp;parseInt(b,10)||600;m=g.exporting.sourceHeight||g.chart.height||/px$/.test(m)&amp;&amp;parseInt(m,10)||400;r(g.chart,{animation:!1,renderTo:e,forExport:!0,renderer:"SVGRenderer",width:b,height:m});g.exporting.enabled=!1;delete&nbsp;g.data;g.series=[];k(this.series,function(a){w=p(a.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:a.visible});w.isInternal||g.series.push(w)});k(this.axes,function(a){a.userOptions.internalKey=f.uniqueKey()});<a name="line_16"></a></li>
<li id="line_17" class="odd"><span class="lineNumber">17&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;c=new&nbsp;f.Chart(g,this.callback);a&amp;&amp;k(["xAxis","yAxis","series"],function(b){var&nbsp;d={};a[b]&amp;&amp;(d[b]=a[b],c.update(d))});k(this.axes,function(a){var&nbsp;b=f.find(c.axes,function(b){return&nbsp;b.options.internalKey===a.userOptions.internalKey}),d=a.getExtremes(),e=d.userMin,d=d.userMax;!b||void&nbsp;0===e&amp;&amp;void&nbsp;0===d||b.setExtremes(e,d,!0,!1)});b=c.getChartHTML();b=this.sanitizeSVG(b,g);g=null;c.destroy();B(e);return&nbsp;b},getSVGForExport:function(a,c){var&nbsp;e=this.options.exporting;return&nbsp;this.getSVG(p({chart:{borderRadius:0}},<a name="line_17"></a></li>
<li id="line_18" class="even"><span class="lineNumber">18&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;e.chartOptions,c,{exporting:{sourceWidth:a&amp;&amp;a.sourceWidth||e.sourceWidth,sourceHeight:a&amp;&amp;a.sourceHeight||e.sourceHeight}}))},exportChart:function(a,c){c=this.getSVGForExport(a,c);a=p(this.options.exporting,a);f.post(a.url,{filename:a.filename||"chart",type:a.type,width:a.width||0,scale:a.scale,svg:c},a.formAttributes)},print:function(){var&nbsp;a=this,c=a.container,e=[],b=c.parentNode,f=n.body,m=f.childNodes,g=a.options.exporting.printMaxWidth,d,t;if(!a.isPrinting){a.isPrinting=!0;a.pointer.reset(null,<a name="line_18"></a></li>
<li id="line_19" class="odd"><span class="lineNumber">19&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;0);D(a,"beforePrint");if(t=g&amp;&amp;a.chartWidth&gt;g)d=[a.options.chart.width,void&nbsp;0,!1],a.setSize(g,void&nbsp;0,!1);k(m,function(a,b){1===a.nodeType&amp;&amp;(e[b]=a.style.display,a.style.display="none")});f.appendChild(c);E.focus();E.print();setTimeout(function(){b.appendChild(c);k(m,function(a,b){1===a.nodeType&amp;&amp;(a.style.display=e[b])});a.isPrinting=!1;t&amp;&amp;a.setSize.apply(a,d);D(a,"afterPrint")},1E3)}},contextMenu:function(a,c,e,b,f,m,g){var&nbsp;d=this,t=d.options.navigation,w=d.chartWidth,h=d.chartHeight,p="cache-"+a,<a name="line_19"></a></li>
<li id="line_20" class="even"><span class="lineNumber">20&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;l=d[p],x=Math.max(f,m),y,z;l||(d[p]=l=q("div",{className:a},{position:"absolute",zIndex:1E3,padding:x+"px"},d.container),y=q("div",{className:"highcharts-menu"},null,l),v(y,r({MozBoxShadow:"3px&nbsp;3px&nbsp;10px&nbsp;#888",WebkitBoxShadow:"3px&nbsp;3px&nbsp;10px&nbsp;#888",boxShadow:"3px&nbsp;3px&nbsp;10px&nbsp;#888"},t.menuStyle)),z=function(){v(l,{display:"none"});g&amp;&amp;g.setState(0);d.openMenu=!1},u(l,"mouseleave",function(){l.hideTimer=setTimeout(z,500)}),u(l,"mouseenter",function(){clearTimeout(l.hideTimer)}),p=u(n,"mouseup",function(b){d.pointer.inClass(b.target,<a name="line_20"></a></li>
<li id="line_21" class="odd"><span class="lineNumber">21&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;a)||z()}),u(d,"destroy",p),k(c,function(a){if(a){var&nbsp;b;a.separator?b=q("hr",null,null,y):(b=q("div",{className:"highcharts-menu-item",onclick:function(b){b&amp;&amp;b.stopPropagation();z();a.onclick&amp;&amp;a.onclick.apply(d,arguments)},innerHTML:a.text||d.options.lang[a.textKey]},null,y),b.onmouseover=function(){v(this,t.menuItemHoverStyle)},b.onmouseout=function(){v(this,t.menuItemStyle)},v(b,r({cursor:"pointer"},t.menuItemStyle)));d.exportDivElements.push(b)}}),d.exportDivElements.push(y,l),d.exportMenuWidth=<a name="line_21"></a></li>
<li id="line_22" class="even"><span class="lineNumber">22&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;l.offsetWidth,d.exportMenuHeight=l.offsetHeight);c={display:"block"};e+d.exportMenuWidth&gt;w?c.right=w-e-f-x+"px":c.left=e-x+"px";b+m+d.exportMenuHeight&gt;h&amp;&amp;"top"!==g.alignOptions.verticalAlign?c.bottom=h-b-x+"px":c.top=b+m-x+"px";v(l,c);d.openMenu=!0},addButton:function(a){var&nbsp;c=this,e=c.renderer,b=p(c.options.navigation.buttonOptions,a),f=b.onclick,m=b.menuItems,g,d,h=b.symbolSize||12;c.btnCount||(c.btnCount=0);c.exportDivElements||(c.exportDivElements=[],c.exportSVGElements=[]);if(!1!==b.enabled){var&nbsp;k=<a name="line_22"></a></li>
<li id="line_23" class="odd"><span class="lineNumber">23&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;b.theme,n=k.states,q=n&amp;&amp;n.hover,n=n&amp;&amp;n.select,l;delete&nbsp;k.states;f?l=function(a){a.stopPropagation();f.call(c,a)}:m&amp;&amp;(l=function(){c.contextMenu(d.menuClassName,m,d.translateX,d.translateY,d.width,d.height,d);d.setState(2)});b.text&amp;&amp;b.symbol?k.paddingLeft=C(k.paddingLeft,25):b.text||r(k,{width:b.width,height:b.height,padding:0});d=e.button(b.text,0,0,l,k,q,n).addClass(a.className).attr({"stroke-linecap":"round",title:c.options.lang[b._titleKey],zIndex:3});d.menuClassName=a.menuClassName||"highcharts-menu-"+<a name="line_23"></a></li>
<li id="line_24" class="even"><span class="lineNumber">24&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;c.btnCount++;b.symbol&amp;&amp;(g=e.symbol(b.symbol,b.symbolX-h/2,b.symbolY-h/2,h,h).addClass("highcharts-button-symbol").attr({zIndex:1}).add(d),g.attr({stroke:b.symbolStroke,fill:b.symbolFill,"stroke-width":b.symbolStrokeWidth||1}));d.add().align(r(b,{width:d.width,x:C(b.x,c.buttonOffset)}),!0,"spacingBox");c.buttonOffset+=(d.width+b.buttonSpacing)*("right"===b.align?-1:1);c.exportSVGElements.push(d,g)}},destroyExport:function(a){var&nbsp;c=a?a.target:this;a=c.exportSVGElements;var&nbsp;e=c.exportDivElements;a&amp;&amp;<a name="line_24"></a></li>
<li id="line_25" class="odd"><span class="lineNumber">25&nbsp;</span>(k(a,function(a,e){a&amp;&amp;(a.onclick=a.ontouchstart=null,c.exportSVGElements[e]=a.destroy())}),a.length=0);e&amp;&amp;(k(e,function(a,e){clearTimeout(a.hideTimer);F(a,"mouseleave");c.exportDivElements[e]=a.onmouseout=a.onmouseover=a.ontouchstart=a.onclick=null;B(a)}),e.length=0)}});H.menu=function(a,c,e,b){return["M",a,c+2.5,"L",a+e,c+2.5,"M",a,c+b/2+.5,"L",a+e,c+b/2+.5,"M",a,c+b-1.5,"L",a+e,c+b-1.5]};A.prototype.renderExporting=function(){var&nbsp;a,c=this.options.exporting,e=c.buttons,b=this.isDirtyExporting||!this.exportSVGElements;<a name="line_25"></a></li>
<li id="line_26" class="even"><span class="lineNumber">26&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;this.buttonOffset=0;this.isDirtyExporting&amp;&amp;this.destroyExport();if(b&amp;&amp;!1!==c.enabled){for(a&nbsp;in&nbsp;e)this.addButton(e[a]);this.isDirtyExporting=!1}u(this,"destroy",this.destroyExport)};A.prototype.callbacks.push(function(a){a.renderExporting();u(a,"redraw",a.renderExporting);k(["exporting","navigation"],function(c){a[c]={update:function(e,b){a.isDirtyExporting=!0;p(!0,a.options[c],e);C(b,!0)&amp;&amp;a.redraw()}}})})})(h)});<a name="line_26"></a></li></ol></div></body></html>
                    </div>
    </body>
</html>
