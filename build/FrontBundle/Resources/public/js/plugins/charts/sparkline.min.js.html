<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>
            Mayflower Code Browser - Source Code
        </title>
        <link rel="stylesheet" type="text/css" href="../../../../../js/jquery.sidebar/css/codebrowser/sidebar.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../css/global.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../css/cruisecontrol.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../css/review.css" />

        <script type="text/javascript" src="../../../../../js/jquery-1.4.2.min.js"></script>
        <script type="text/javascript" src="../../../../../js/jquery.sidebar/jquery-ui-1.7.2.custom.min.js"></script>
        <script type="text/javascript" src="../../../../../js/jquery.sidebar/jquery.sidebar.js"></script>
        <script type="text/javascript" src="../../../../../js/jquery.cluetip/lib/jquery.hoverIntent.js"></script>
        <script type="text/javascript" src="../../../../../js/jquery.cluetip/lib/jquery.bgiframe.min.js"></script>
        <script type="text/javascript" src="../../../../../js/jquery.cluetip/jquery.cluetip.min.js"></script>

        <script type="text/javascript" src="../../../../../js/review.js"></script>
    </head>
    <body class="codebrowser">
        <div class="header">
            <a href="./../../../../../index.html">Go back to index</a> |
            <a href="https://github.com/Mayflower/PHP_CodeBrowser">PHP CodeBrowser</a>
        </div>
        <hr/>
        <div id="review">
            <div class="filepath">
                FrontBundle/Resources/public/js/plugins/charts/sparkline.min.js            </div>

            <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="code"><ol class="code"><li id="line_1" class="odd"><span class="lineNumber">1&nbsp;</span>/*&nbsp;jquery.sparkline&nbsp;2.1.2&nbsp;-&nbsp;http://omnipotent.net/jquery.sparkline/&nbsp;<a name="line_1"></a></li>
<li id="line_2" class="even"><span class="lineNumber">2&nbsp;</span>**&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;New&nbsp;BSD&nbsp;License&nbsp;-&nbsp;see&nbsp;above&nbsp;site&nbsp;for&nbsp;details&nbsp;*/<a name="line_2"></a></li>
<li id="line_3" class="odd"><span class="lineNumber">3&nbsp;</span><a name="line_3"></a></li>
<li id="line_4" class="even"><span class="lineNumber">4&nbsp;</span>(function(a,b,c){(function(a){typeof&nbsp;define=="function"&amp;&amp;define.amd?define(["jquery"],a):jQuery&amp;&amp;!jQuery.fn.sparkline&amp;&amp;a(jQuery)})(function(d){"use&nbsp;strict";var&nbsp;e={},f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L=0;f=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:c,normalRangeMax:c,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:c,chartRangeMax:c,chartRangeMinX:c,chartRangeMaxX:c,tooltipFormat:new&nbsp;h('&lt;span&nbsp;style="color:&nbsp;{{color}}"&gt;&amp;#9679;&lt;/span&gt;&nbsp;{{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:c,nullColor:c,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,colorMap:c,tooltipFormat:new&nbsp;h('&lt;span&nbsp;style="color:&nbsp;{{color}}"&gt;&amp;#9679;&lt;/span&gt;&nbsp;{{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new&nbsp;h('&lt;span&nbsp;style="color:&nbsp;{{color}}"&gt;&amp;#9679;&lt;/span&gt;&nbsp;{{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:c,thresholdValue:0,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,tooltipFormat:new&nbsp;h("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:c,tooltipFormat:new&nbsp;h("{{fieldkey:fields}}&nbsp;-&nbsp;{{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new&nbsp;h('&lt;span&nbsp;style="color:&nbsp;{{color}}"&gt;&amp;#9679;&lt;/span&gt;&nbsp;{{value}}&nbsp;({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:c,targetColor:"#4a2",chartRangeMax:c,chartRangeMin:c,tooltipFormat:new&nbsp;h("{{field:fields}}:&nbsp;{{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower&nbsp;Quartile",med:"Median",uq:"Upper&nbsp;Quartile",lo:"Left&nbsp;Outlier",ro:"Right&nbsp;Outlier",lw:"Left&nbsp;Whisker",rw:"Right&nbsp;Whisker"}}}}},E='.jqstooltip&nbsp;{&nbsp;position:&nbsp;absolute;left:&nbsp;0px;top:&nbsp;0px;visibility:&nbsp;hidden;background:&nbsp;rgb(0,&nbsp;0,&nbsp;0)&nbsp;transparent;background-color:&nbsp;rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000,&nbsp;endColorstr=#99000000);-ms-filter:&nbsp;"progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000,&nbsp;endColorstr=#99000000)";color:&nbsp;white;font:&nbsp;10px&nbsp;arial,&nbsp;san&nbsp;serif;text-align:&nbsp;left;white-space:&nbsp;nowrap;padding:&nbsp;5px;border:&nbsp;1px&nbsp;solid&nbsp;white;z-index:&nbsp;10000;}.jqsfield&nbsp;{&nbsp;color:&nbsp;white;font:&nbsp;10px&nbsp;arial,&nbsp;san&nbsp;serif;text-align:&nbsp;left;}',g=function(){var&nbsp;a,b;return&nbsp;a=function(){this.init.apply(this,arguments)},arguments.length&gt;1?(arguments[0]?(a.prototype=d.extend(new&nbsp;arguments[0],arguments[arguments.length-1]),a._super=arguments[0].prototype):a.prototype=arguments[arguments.length-1],arguments.length&gt;2&amp;&amp;(b=Array.prototype.slice.call(arguments,1,-1),b.unshift(a.prototype),d.extend.apply(d,b))):a.prototype=arguments[0],a.prototype.cls=a,a},d.SPFormatClass=h=g({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(a,b){this.format=a,this.fclass=b},render:function(a,b,d){var&nbsp;e=this,f=a,g,h,i,j,k;return&nbsp;this.format.replace(this.fre,function(){var&nbsp;a;return&nbsp;h=arguments[1],i=arguments[3],g=e.precre.exec(h),g?(k=g[2],h=g[1]):k=!1,j=f[h],j===c?"":i&amp;&amp;b&amp;&amp;b[i]?(a=b[i],a.get?b[i].get(j)||j:b[i][j]||j):(n(j)&amp;&amp;(d.get("numberFormatter")?j=d.get("numberFormatter")(j):j=s(j,k,d.get("numberDigitGroupCount"),d.get("numberDigitGroupSep"),d.get("numberDecimalMark"))),j)})}}),d.spformat=function(a,b){return&nbsp;new&nbsp;h(a,b)},i=function(a,b,c){return&nbsp;a&lt;b?b:a&gt;c?c:a},j=function(a,c){var&nbsp;d;return&nbsp;c===2?(d=b.floor(a.length/2),a.length%2?a[d]:(a[d-1]+a[d])/2):a.length%2?(d=(a.length*c+c)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1]):(d=(a.length*c+2)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1])},k=function(a){var&nbsp;b;switch(a){case"undefined":a=c;break;case"null":a=null;break;case"true":a=!0;break;case"false":a=!1;break;default:b=parseFloat(a),a==b&amp;&amp;(a=b)}return&nbsp;a},l=function(a){var&nbsp;b,c=[];for(b=a.length;b--;)c[b]=k(a[b]);return&nbsp;c},m=function(a,b){var&nbsp;c,d,e=[];for(c=0,d=a.length;c&lt;d;c++)a[c]!==b&amp;&amp;e.push(a[c]);return&nbsp;e},n=function(a){return!isNaN(parseFloat(a))&amp;&amp;isFinite(a)},s=function(a,b,c,e,f){var&nbsp;g,h;a=(b===!1?parseFloat(a).toString():a.toFixed(b)).split(""),g=(g=d.inArray(".",a))&lt;0?a.length:g,g&lt;a.length&amp;&amp;(a[g]=f);for(h=g-c;h&gt;0;h-=c)a.splice(h,0,e);return&nbsp;a.join("")},o=function(a,b,c){var&nbsp;d;for(d=b.length;d--;){if(c&amp;&amp;b[d]===null)continue;if(b[d]!==a)return!1}return!0},p=function(a){var&nbsp;b=0,c;for(c=a.length;c--;)b+=typeof&nbsp;a[c]=="number"?a[c]:0;return&nbsp;b},r=function(a){return&nbsp;d.isArray(a)?a:[a]},q=function(b){var&nbsp;c;a.createStyleSheet?a.createStyleSheet().cssText=b:(c=a.createElement("style"),c.type="text/css",a.getElementsByTagName("head")[0].appendChild(c),c[typeof&nbsp;a.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=b)},d.fn.simpledraw=function(b,e,f,g){var&nbsp;h,i;if(f&amp;&amp;(h=this.data("_jqs_vcanvas")))return&nbsp;h;if(d.fn.sparkline.canvas===!1)return!1;if(d.fn.sparkline.canvas===c){var&nbsp;j=a.createElement("canvas");if(!j.getContext||!j.getContext("2d")){if(!a.namespaces||!!a.namespaces.v)return&nbsp;d.fn.sparkline.canvas=!1,!1;a.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),d.fn.sparkline.canvas=function(a,b,c,d){return&nbsp;new&nbsp;J(a,b,c)}}else&nbsp;d.fn.sparkline.canvas=function(a,b,c,d){return&nbsp;new&nbsp;I(a,b,c,d)}}return&nbsp;b===c&amp;&amp;(b=d(this).innerWidth()),e===c&amp;&amp;(e=d(this).innerHeight()),h=d.fn.sparkline.canvas(b,e,this,g),i=d(this).data("_jqs_mhandler"),i&amp;&amp;i.registerCanvas(h),h},d.fn.cleardraw=function(){var&nbsp;a=this.data("_jqs_vcanvas");a&amp;&amp;a.reset()},d.RangeMapClass=t=g({init:function(a){var&nbsp;b,c,d=[];for(b&nbsp;in&nbsp;a)a.hasOwnProperty(b)&amp;&amp;typeof&nbsp;b=="string"&amp;&amp;b.indexOf(":")&gt;-1&amp;&amp;(c=b.split(":"),c[0]=c[0].length===0?-Infinity:parseFloat(c[0]),c[1]=c[1].length===0?Infinity:parseFloat(c[1]),c[2]=a[b],d.push(c));this.map=a,this.rangelist=d||!1},get:function(a){var&nbsp;b=this.rangelist,d,e,f;if((f=this.map[a])!==c)return&nbsp;f;if(b)for(d=b.length;d--;){e=b[d];if(e[0]&lt;=a&amp;&amp;e[1]&gt;=a)return&nbsp;e[2]}return&nbsp;c}}),d.range_map=function(a){return&nbsp;new&nbsp;t(a)},u=g({init:function(a,b){var&nbsp;c=d(a);this.$el=c,this.options=b,this.currentPageX=0,this.currentPageY=0,this.el=a,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!b.get("disableTooltips"),this.highlightEnabled=!b.get("disableHighlight")},registerSparkline:function(a){this.splist.push(a),this.over&amp;&amp;this.updateDisplay()},registerCanvas:function(a){var&nbsp;b=d(a.canvas);this.canvas=a,this.$canvas=b,b.mouseenter(d.proxy(this.mouseenter,this)),b.mouseleave(d.proxy(this.mouseleave,this)),b.click(d.proxy(this.mouseclick,this))},reset:function(a){this.splist=[],this.tooltip&amp;&amp;a&amp;&amp;(this.tooltip.remove(),this.tooltip=c)},mouseclick:function(a){var&nbsp;b=d.Event("sparklineClick");b.originalEvent=a,b.sparklines=this.splist,this.$el.trigger(b)},mouseenter:function(b){d(a.body).unbind("mousemove.jqs"),d(a.body).bind("mousemove.jqs",d.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=b.pageX,this.currentPageY=b.pageY,this.currentEl=b.target,!this.tooltip&amp;&amp;this.displayTooltips&amp;&amp;(this.tooltip=new&nbsp;v(this.options),this.tooltip.updatePosition(b.pageX,b.pageY)),this.updateDisplay()},mouseleave:function(){d(a.body).unbind("mousemove.jqs");var&nbsp;b=this.splist,c=b.length,e=!1,f,g;this.over=!1,this.currentEl=null,this.tooltip&amp;&amp;(this.tooltip.remove(),this.tooltip=null);for(g=0;g&lt;c;g++)f=b[g],f.clearRegionHighlight()&amp;&amp;(e=!0);e&amp;&amp;this.canvas.render()},mousemove:function(a){this.currentPageX=a.pageX,this.currentPageY=a.pageY,this.currentEl=a.target,this.tooltip&amp;&amp;this.tooltip.updatePosition(a.pageX,a.pageY),this.updateDisplay()},updateDisplay:function(){var&nbsp;a=this.splist,b=a.length,c=!1,e=this.$canvas.offset(),f=this.currentPageX-e.left,g=this.currentPageY-e.top,h,i,j,k,l;if(!this.over)return;for(j=0;j&lt;b;j++)i=a[j],k=i.setRegionHighlight(this.currentEl,f,g),k&amp;&amp;(c=!0);if(c){l=d.Event("sparklineRegionChange"),l.sparklines=this.splist,this.$el.trigger(l);if(this.tooltip){h="";for(j=0;j&lt;b;j++)i=a[j],h+=i.getCurrentRegionTooltip();this.tooltip.setContent(h)}this.disableHighlight||this.canvas.render()}k===null&amp;&amp;this.mouseleave()}}),v=g({sizeStyle:"position:&nbsp;static&nbsp;!important;display:&nbsp;block&nbsp;!important;visibility:&nbsp;hidden&nbsp;!important;float:&nbsp;left&nbsp;!important;",init:function(b){var&nbsp;c=b.get("tooltipClassname","jqstooltip"),e=this.sizeStyle,f;this.container=b.get("tooltipContainer")||a.body,this.tooltipOffsetX=b.get("tooltipOffsetX",10),this.tooltipOffsetY=b.get("tooltipOffsetY",12),d("#jqssizetip").remove(),d("#jqstooltip").remove(),this.sizetip=d("&lt;div/&gt;",{id:"jqssizetip",style:e,"class":c}),this.tooltip=d("&lt;div/&gt;",{id:"jqstooltip","class":c}).appendTo(this.container),f=this.tooltip.offset(),this.offsetLeft=f.left,this.offsetTop=f.top,this.hidden=!0,d(window).unbind("resize.jqs&nbsp;scroll.jqs"),d(window).bind("resize.jqs&nbsp;scroll.jqs",d.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=d(window).scrollTop(),this.scrollLeft=d(window).scrollLeft(),this.scrollRight=this.scrollLeft+d(window).width(),this.updatePosition()},getSize:function(a){this.sizetip.html(a).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(a){if(!a){this.tooltip.css("visibility","hidden"),this.hidden=!0;return}this.getSize(a),this.tooltip.html(a).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&amp;&amp;(this.hidden=!1,this.updatePosition())},updatePosition:function(a,b){if(a===c){if(this.mousex===c)return;a=this.mousex-this.offsetLeft,b=this.mousey-this.offsetTop}else&nbsp;this.mousex=a-=this.offsetLeft,this.mousey=b-=this.offsetTop;if(!this.height||!this.width||this.hidden)return;b-=this.height+this.tooltipOffsetY,a+=this.tooltipOffsetX,b&lt;this.scrollTop&amp;&amp;(b=this.scrollTop),a&lt;this.scrollLeft?a=this.scrollLeft:a+this.width&gt;this.scrollRight&amp;&amp;(a=this.scrollRight-this.width),this.tooltip.css({left:a,top:b})},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=c,d(window).unbind("resize.jqs&nbsp;scroll.jqs")}}),F=function(){q(E)},d(F),K=[],d.fn.sparkline=function(b,e){return&nbsp;this.each(function(){var&nbsp;f=new&nbsp;d.fn.sparkline.options(this,e),g=d(this),h,i;h=function(){var&nbsp;e,h,i,j,k,l,m;if(b==="html"||b===c){m=this.getAttribute(f.get("tagValuesAttribute"));if(m===c||m===null)m=g.html();e=m.replace(/(^\s*&lt;!--)|(--&gt;\s*$)|\s+/g,"").split(",")}else&nbsp;e=b;h=f.get("width")==="auto"?e.length*f.get("defaultPixelsPerValue"):f.get("width");if(f.get("height")==="auto"){if(!f.get("composite")||!d.data(this,"_jqs_vcanvas"))j=a.createElement("span"),j.innerHTML="a",g.html(j),i=d(j).innerHeight()||d(j).height(),d(j).remove(),j=null}else&nbsp;i=f.get("height");f.get("disableInteraction")?k=!1:(k=d.data(this,"_jqs_mhandler"),k?f.get("composite")||k.reset():(k=new&nbsp;u(this,f),d.data(this,"_jqs_mhandler",k)));if(f.get("composite")&amp;&amp;!d.data(this,"_jqs_vcanvas")){d.data(this,"_jqs_errnotify")||(alert("Attempted&nbsp;to&nbsp;attach&nbsp;a&nbsp;composite&nbsp;sparkline&nbsp;to&nbsp;an&nbsp;element&nbsp;with&nbsp;no&nbsp;existing&nbsp;sparkline"),d.data(this,"_jqs_errnotify",!0));return}l=new(d.fn.sparkline[f.get("type")])(this,e,f,h,i),l.render(),k&amp;&amp;k.registerSparkline(l)};if(d(this).html()&amp;&amp;!f.get("disableHiddenCheck")&amp;&amp;d(this).is(":hidden")||!d(this).parents("body").length){if(!f.get("composite")&amp;&amp;d.data(this,"_jqs_pending"))for(i=K.length;i;i--)K[i-1][0]==this&amp;&amp;K.splice(i-1,1);K.push([this,h]),d.data(this,"_jqs_pending",!0)}else&nbsp;h.call(this)})},d.fn.sparkline.defaults=f(),d.sparkline_display_visible=function(){var&nbsp;a,b,c,e=[];for(b=0,c=K.length;b&lt;c;b++)a=K[b][0],d(a).is(":visible")&amp;&amp;!d(a).parents().is(":hidden")?(K[b][1].call(a),d.data(K[b][0],"_jqs_pending",!1),e.push(b)):!d(a).closest("html").length&amp;&amp;!d.data(a,"_jqs_pending")&amp;&amp;(d.data(K[b][0],"_jqs_pending",!1),e.push(b));for(b=e.length;b;b--)K.splice(e[b-1],1)},d.fn.sparkline.options=g({init:function(a,b){var&nbsp;c,f,g,h;this.userOptions=b=b||{},this.tag=a,this.tagValCache={},f=d.fn.sparkline.defaults,g=f.common,this.tagOptionsPrefix=b.enableTagOptions&amp;&amp;(b.tagOptionsPrefix||g.tagOptionsPrefix),h=this.getTagSetting("type"),h===e?c=f[b.type||g.type]:c=f[h],this.mergedOptions=d.extend({},g,c,b)},getTagSetting:function(a){var&nbsp;b=this.tagOptionsPrefix,d,f,g,h;if(b===!1||b===c)return&nbsp;e;if(this.tagValCache.hasOwnProperty(a))d=this.tagValCache.key;else{d=this.tag.getAttribute(b+a);if(d===c||d===null)d=e;else&nbsp;if(d.substr(0,1)==="["){d=d.substr(1,d.length-2).split(",");for(f=d.length;f--;)d[f]=k(d[f].replace(/(^\s*)|(\s*$)/g,""))}else&nbsp;if(d.substr(0,1)==="{"){g=d.substr(1,d.length-2).split(","),d={};for(f=g.length;f--;)h=g[f].split(":",2),d[h[0].replace(/(^\s*)|(\s*$)/g,"")]=k(h[1].replace(/(^\s*)|(\s*$)/g,""))}else&nbsp;d=k(d);this.tagValCache.key=d}return&nbsp;d},get:function(a,b){var&nbsp;d=this.getTagSetting(a),f;return&nbsp;d!==e?d:(f=this.mergedOptions[a])===c?b:f}}),d.fn.sparkline._base=g({disabled:!1,init:function(a,b,e,f,g){this.el=a,this.$el=d(a),this.values=b,this.options=e,this.width=f,this.height=g,this.currentRegion=c},initTarget:function(){var&nbsp;a=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),a))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return&nbsp;this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(a,b){},setRegionHighlight:function(a,b,d){var&nbsp;e=this.currentRegion,f=!this.options.get("disableHighlight"),g;return&nbsp;b&gt;this.canvasWidth||d&gt;this.canvasHeight||b&lt;0||d&lt;0?null:(g=this.getRegion(a,b,d),e!==g?(e!==c&amp;&amp;f&amp;&amp;this.removeHighlight(),this.currentRegion=g,g!==c&amp;&amp;f&amp;&amp;this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return&nbsp;this.currentRegion!==c?(this.removeHighlight(),this.currentRegion=c,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(a){},getCurrentRegionTooltip:function(){var&nbsp;a=this.options,b="",e=[],f,g,i,j,k,l,m,n,o,p,q,r,s,t;if(this.currentRegion===c)return"";f=this.getCurrentRegionFields(),q=a.get("tooltipFormatter");if(q)return&nbsp;q(this,a,f);a.get("tooltipChartTitle")&amp;&amp;(b+='&lt;div&nbsp;class="jqs&nbsp;jqstitle"&gt;'+a.get("tooltipChartTitle")+"&lt;/div&gt;\n"),g=this.options.get("tooltipFormat");if(!g)return"";d.isArray(g)||(g=[g]),d.isArray(f)||(f=[f]),m=this.options.get("tooltipFormatFieldlist"),n=this.options.get("tooltipFormatFieldlistKey");if(m&amp;&amp;n){o=[];for(l=f.length;l--;)p=f[l][n],(t=d.inArray(p,m))!=-1&amp;&amp;(o[t]=f[l]);f=o}i=g.length,s=f.length;for(l=0;l&lt;i;l++){r=g[l],typeof&nbsp;r=="string"&amp;&amp;(r=new&nbsp;h(r)),j=r.fclass||"jqsfield";for(t=0;t&lt;s;t++)if(!f[t].isNull||!a.get("tooltipSkipNull"))d.extend(f[t],{prefix:a.get("tooltipPrefix"),suffix:a.get("tooltipSuffix")}),k=r.render(f[t],a.get("tooltipValueLookups"),a),e.push('&lt;div&nbsp;class="'+j+'"&gt;'+k+"&lt;/div&gt;")}return&nbsp;e.length?b+e.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(a,c){var&nbsp;d=c.get("highlightColor"),e=c.get("highlightLighten"),f,g,h,j;if(d)return&nbsp;d;if(e){f=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a);if(f){h=[],g=a.length===4?16:1;for(j=0;j&lt;3;j++)h[j]=i(b.round(parseInt(f[j+1],16)*g*e),0,255);return"rgb("+h.join(",")+")"}}return&nbsp;a}}),w={changeHighlight:function(a){var&nbsp;b=this.currentRegion,c=this.target,e=this.regionShapes[b],f;e&amp;&amp;(f=this.renderRegion(b,a),d.isArray(f)||d.isArray(e)?(c.replaceWithShapes(e,f),this.regionShapes[b]=d.map(f,function(a){return&nbsp;a.id})):(c.replaceWithShape(e,f),this.regionShapes[b]=f.id))},render:function(){var&nbsp;a=this.values,b=this.target,c=this.regionShapes,e,f,g,h;if(!this.cls._super.render.call(this))return;for(g=a.length;g--;){e=this.renderRegion(g);if(e)if(d.isArray(e)){f=[];for(h=e.length;h--;)e[h].append(),f.push(e[h].id);c[g]=f}else&nbsp;e.append(),c[g]=e.id;else&nbsp;c[g]=null}b.render()}},d.fn.sparkline.line=x=g(d.fn.sparkline._base,{type:"line",init:function(a,b,c,d,e){x._super.init.call(this,a,b,c,d,e),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(a,b,d){var&nbsp;e,f=this.regionMap;for(e=f.length;e--;)if(f[e]!==null&amp;&amp;b&gt;=f[e][0]&amp;&amp;b&lt;=f[e][1])return&nbsp;f[e][2];return&nbsp;c},getCurrentRegionFields:function(){var&nbsp;a=this.currentRegion;return{isNull:this.yvalues[a]===null,x:this.xvalues[a],y:this.yvalues[a],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:a}},renderHighlight:function(){var&nbsp;a=this.currentRegion,b=this.target,d=this.vertices[a],e=this.options,f=e.get("spotRadius"),g=e.get("highlightSpotColor"),h=e.get("highlightLineColor"),i,j;if(!d)return;f&amp;&amp;g&amp;&amp;(i=b.drawCircle(d[0],d[1],f,c,g),this.highlightSpotId=i.id,b.insertAfterShape(this.lastShapeId,i)),h&amp;&amp;(j=b.drawLine(d[0],this.canvasTop,d[0],this.canvasTop+this.canvasHeight,h),this.highlightLineId=j.id,b.insertAfterShape(this.lastShapeId,j))},removeHighlight:function(){var&nbsp;a=this.target;this.highlightSpotId&amp;&amp;(a.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&amp;&amp;(a.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var&nbsp;a=this.values,c=a.length,d=this.xvalues,e=this.yvalues,f=this.yminmax,g,h,i,j,k;for(g=0;g&lt;c;g++)h=a[g],i=typeof&nbsp;a[g]=="string",j=typeof&nbsp;a[g]=="object"&amp;&amp;a[g]instanceof&nbsp;Array,k=i&amp;&amp;a[g].split(":"),i&amp;&amp;k.length===2?(d.push(Number(k[0])),e.push(Number(k[1])),f.push(Number(k[1]))):j?(d.push(h[0]),e.push(h[1]),f.push(h[1])):(d.push(g),a[g]===null||a[g]==="null"?e.push(null):(e.push(Number(h)),f.push(Number(h))));this.options.get("xvalues")&amp;&amp;(d=this.options.get("xvalues")),this.maxy=this.maxyorg=b.max.apply(b,f),this.miny=this.minyorg=b.min.apply(b,f),this.maxx=b.max.apply(b,d),this.minx=b.min.apply(b,d),this.xvalues=d,this.yvalues=e,this.yminmax=f},processRangeOptions:function(){var&nbsp;a=this.options,b=a.get("normalRangeMin"),d=a.get("normalRangeMax");b!==c&amp;&amp;(b&lt;this.miny&amp;&amp;(this.miny=b),d&gt;this.maxy&amp;&amp;(this.maxy=d)),a.get("chartRangeMin")!==c&amp;&amp;(a.get("chartRangeClip")||a.get("chartRangeMin")&lt;this.miny)&amp;&amp;(this.miny=a.get("chartRangeMin")),a.get("chartRangeMax")!==c&amp;&amp;(a.get("chartRangeClip")||a.get("chartRangeMax")&gt;this.maxy)&amp;&amp;(this.maxy=a.get("chartRangeMax")),a.get("chartRangeMinX")!==c&amp;&amp;(a.get("chartRangeClipX")||a.get("chartRangeMinX")&lt;this.minx)&amp;&amp;(this.minx=a.get("chartRangeMinX")),a.get("chartRangeMaxX")!==c&amp;&amp;(a.get("chartRangeClipX")||a.get("chartRangeMaxX")&gt;this.maxx)&amp;&amp;(this.maxx=a.get("chartRangeMaxX"))},drawNormalRange:function(a,d,e,f,g){var&nbsp;h=this.options.get("normalRangeMin"),i=this.options.get("normalRangeMax"),j=d+b.round(e-e*((i-this.miny)/g)),k=b.round(e*(i-h)/g);this.target.drawRect(a,j,f,k,c,this.options.get("normalRangeColor")).append()},render:function(){var&nbsp;a=this.options,e=this.target,f=this.canvasWidth,g=this.canvasHeight,h=this.vertices,i=a.get("spotRadius"),j=this.regionMap,k,l,m,n,o,p,q,r,s,u,v,w,y,z,A,B,C,D,E,F,G,H,I,J,K;if(!x._super.render.call(this))return;this.scanValues(),this.processRangeOptions(),I=this.xvalues,J=this.yvalues;if(!this.yminmax.length||this.yvalues.length&lt;2)return;n=o=0,k=this.maxx-this.minx===0?1:this.maxx-this.minx,l=this.maxy-this.miny===0?1:this.maxy-this.miny,m=this.yvalues.length-1,i&amp;&amp;(f&lt;i*4||g&lt;i*4)&amp;&amp;(i=0);if(i){G=a.get("highlightSpotColor")&amp;&amp;!a.get("disableInteraction");if(G||a.get("minSpotColor")||a.get("spotColor")&amp;&amp;J[m]===this.miny)g-=b.ceil(i);if(G||a.get("maxSpotColor")||a.get("spotColor")&amp;&amp;J[m]===this.maxy)g-=b.ceil(i),n+=b.ceil(i);if(G||(a.get("minSpotColor")||a.get("maxSpotColor"))&amp;&amp;(J[0]===this.miny||J[0]===this.maxy))o+=b.ceil(i),f-=b.ceil(i);if(G||a.get("spotColor")||a.get("minSpotColor")||a.get("maxSpotColor")&amp;&amp;(J[m]===this.miny||J[m]===this.maxy))f-=b.ceil(i)}g--,a.get("normalRangeMin")!==c&amp;&amp;!a.get("drawNormalOnTop")&amp;&amp;this.drawNormalRange(o,n,g,f,l),q=[],r=[q],z=A=null,B=J.length;for(K=0;K&lt;B;K++)s=I[K],v=I[K+1],u=J[K],w=o+b.round((s-this.minx)*(f/k)),y=K&lt;B-1?o+b.round((v-this.minx)*(f/k)):f,A=w+(y-w)/2,j[K]=[z||0,A,K],z=A,u===null?K&amp;&amp;(J[K-1]!==null&amp;&amp;(q=[],r.push(q)),h.push(null)):(u&lt;this.miny&amp;&amp;(u=this.miny),u&gt;this.maxy&amp;&amp;(u=this.maxy),q.length||q.push([w,n+g]),p=[w,n+b.round(g-g*((u-this.miny)/l))],q.push(p),h.push(p));C=[],D=[],E=r.length;for(K=0;K&lt;E;K++)q=r[K],q.length&amp;&amp;(a.get("fillColor")&amp;&amp;(q.push([q[q.length-1][0],n+g]),D.push(q.slice(0)),q.pop()),q.length&gt;2&amp;&amp;(q[0]=[q[0][0],q[1][1]]),C.push(q));E=D.length;for(K=0;K&lt;E;K++)e.drawShape(D[K],a.get("fillColor"),a.get("fillColor")).append();a.get("normalRangeMin")!==c&amp;&amp;a.get("drawNormalOnTop")&amp;&amp;this.drawNormalRange(o,n,g,f,l),E=C.length;for(K=0;K&lt;E;K++)e.drawShape(C[K],a.get("lineColor"),c,a.get("lineWidth")).append();if(i&amp;&amp;a.get("valueSpots")){F=a.get("valueSpots"),F.get===c&amp;&amp;(F=new&nbsp;t(F));for(K=0;K&lt;B;K++)H=F.get(J[K]),H&amp;&amp;e.drawCircle(o+b.round((I[K]-this.minx)*(f/k)),n+b.round(g-g*((J[K]-this.miny)/l)),i,c,H).append()}i&amp;&amp;a.get("spotColor")&amp;&amp;J[m]!==null&amp;&amp;e.drawCircle(o+b.round((I[I.length-1]-this.minx)*(f/k)),n+b.round(g-g*((J[m]-this.miny)/l)),i,c,a.get("spotColor")).append(),this.maxy!==this.minyorg&amp;&amp;(i&amp;&amp;a.get("minSpotColor")&amp;&amp;(s=I[d.inArray(this.minyorg,J)],e.drawCircle(o+b.round((s-this.minx)*(f/k)),n+b.round(g-g*((this.minyorg-this.miny)/l)),i,c,a.get("minSpotColor")).append()),i&amp;&amp;a.get("maxSpotColor")&amp;&amp;(s=I[d.inArray(this.maxyorg,J)],e.drawCircle(o+b.round((s-this.minx)*(f/k)),n+b.round(g-g*((this.maxyorg-this.miny)/l)),i,c,a.get("maxSpotColor")).append())),this.lastShapeId=e.getLastShapeId(),this.canvasTop=n,e.render()}}),d.fn.sparkline.bar=y=g(d.fn.sparkline._base,w,{type:"bar",init:function(a,e,f,g,h){var&nbsp;j=parseInt(f.get("barWidth"),10),n=parseInt(f.get("barSpacing"),10),o=f.get("chartRangeMin"),p=f.get("chartRangeMax"),q=f.get("chartRangeClip"),r=Infinity,s=-Infinity,u,v,w,x,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R;y._super.init.call(this,a,e,f,g,h);for(A=0,B=e.length;A&lt;B;A++){O=e[A],u=typeof&nbsp;O=="string"&amp;&amp;O.indexOf(":")&gt;-1;if(u||d.isArray(O))J=!0,u&amp;&amp;(O=e[A]=l(O.split(":"))),O=m(O,null),v=b.min.apply(b,O),w=b.max.apply(b,O),v&lt;r&amp;&amp;(r=v),w&gt;s&amp;&amp;(s=w)}this.stacked=J,this.regionShapes={},this.barWidth=j,this.barSpacing=n,this.totalBarWidth=j+n,this.width=g=e.length*j+(e.length-1)*n,this.initTarget(),q&amp;&amp;(H=o===c?-Infinity:o,I=p===c?Infinity:p),z=[],x=J?[]:z;var&nbsp;S=[],T=[];for(A=0,B=e.length;A&lt;B;A++)if(J){K=e[A],e[A]=N=[],S[A]=0,x[A]=T[A]=0;for(L=0,M=K.length;L&lt;M;L++)O=N[L]=q?i(K[L],H,I):K[L],O!==null&amp;&amp;(O&gt;0&amp;&amp;(S[A]+=O),r&lt;0&amp;&amp;s&gt;0?O&lt;0?T[A]+=b.abs(O):x[A]+=O:x[A]+=b.abs(O-(O&lt;0?s:r)),z.push(O))}else&nbsp;O=q?i(e[A],H,I):e[A],O=e[A]=k(O),O!==null&amp;&amp;z.push(O);this.max=G=b.max.apply(b,z),this.min=F=b.min.apply(b,z),this.stackMax=s=J?b.max.apply(b,S):G,this.stackMin=r=J?b.min.apply(b,z):F,f.get("chartRangeMin")!==c&amp;&amp;(f.get("chartRangeClip")||f.get("chartRangeMin")&lt;F)&amp;&amp;(F=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&amp;&amp;(f.get("chartRangeClip")||f.get("chartRangeMax")&gt;G)&amp;&amp;(G=f.get("chartRangeMax")),this.zeroAxis=D=f.get("zeroAxis",!0),F&lt;=0&amp;&amp;G&gt;=0&amp;&amp;D?E=0:D==0?E=F:F&gt;0?E=F:E=G,this.xaxisOffset=E,C=J?b.max.apply(b,x)+b.max.apply(b,T):G-F,this.canvasHeightEf=D&amp;&amp;F&lt;0?this.canvasHeight-2:this.canvasHeight-1,F&lt;E?(Q=J&amp;&amp;G&gt;=0?s:G,P=(Q-E)/C*this.canvasHeight,P!==b.ceil(P)&amp;&amp;(this.canvasHeightEf-=2,P=b.ceil(P))):P=this.canvasHeight,this.yoffset=P,d.isArray(f.get("colorMap"))?(this.colorMapByIndex=f.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=f.get("colorMap"),this.colorMapByValue&amp;&amp;this.colorMapByValue.get===c&amp;&amp;(this.colorMapByValue=new&nbsp;t(this.colorMapByValue))),this.range=C},getRegion:function(a,d,e){var&nbsp;f=b.floor(d/this.totalBarWidth);return&nbsp;f&lt;0||f&gt;=this.values.length?c:f},getCurrentRegionFields:function(){var&nbsp;a=this.currentRegion,b=r(this.values[a]),c=[],d,e;for(e=b.length;e--;)d=b[e],c.push({isNull:d===null,value:d,color:this.calcColor(e,d,a),offset:a});return&nbsp;c},calcColor:function(a,b,e){var&nbsp;f=this.colorMapByIndex,g=this.colorMapByValue,h=this.options,i,j;return&nbsp;this.stacked?i=h.get("stackedBarColor"):i=b&lt;0?h.get("negBarColor"):h.get("barColor"),b===0&amp;&amp;h.get("zeroColor")!==c&amp;&amp;(i=h.get("zeroColor")),g&amp;&amp;(j=g.get(b))?i=j:f&amp;&amp;f.length&gt;e&amp;&amp;(i=f[e]),d.isArray(i)?i[a%i.length]:i},renderRegion:function(a,e){var&nbsp;f=this.values[a],g=this.options,h=this.xaxisOffset,i=[],j=this.range,k=this.stacked,l=this.target,m=a*this.totalBarWidth,n=this.canvasHeightEf,p=this.yoffset,q,r,s,t,u,v,w,x,y,z;f=d.isArray(f)?f:[f],w=f.length,x=f[0],t=o(null,f),z=o(h,f,!0);if(t)return&nbsp;g.get("nullColor")?(s=e?g.get("nullColor"):this.calcHighlightColor(g.get("nullColor"),g),q=p&gt;0?p-1:p,l.drawRect(m,q,this.barWidth-1,0,s,s)):c;u=p;for(v=0;v&lt;w;v++){x=f[v];if(k&amp;&amp;x===h){if(!z||y)continue;y=!0}j&gt;0?r=b.floor(n*(b.abs(x-h)/j))+1:r=1,x&lt;h||x===h&amp;&amp;p===0?(q=u,u+=r):(q=p-r,p-=r),s=this.calcColor(v,x,a),e&amp;&amp;(s=this.calcHighlightColor(s,g)),i.push(l.drawRect(m,q,this.barWidth-1,r-1,s,s))}return&nbsp;i.length===1?i[0]:i}}),d.fn.sparkline.tristate=z=g(d.fn.sparkline._base,w,{type:"tristate",init:function(a,b,e,f,g){var&nbsp;h=parseInt(e.get("barWidth"),10),i=parseInt(e.get("barSpacing"),10);z._super.init.call(this,a,b,e,f,g),this.regionShapes={},this.barWidth=h,this.barSpacing=i,this.totalBarWidth=h+i,this.values=d.map(b,Number),this.width=f=b.length*h+(b.length-1)*i,d.isArray(e.get("colorMap"))?(this.colorMapByIndex=e.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=e.get("colorMap"),this.colorMapByValue&amp;&amp;this.colorMapByValue.get===c&amp;&amp;(this.colorMapByValue=new&nbsp;t(this.colorMapByValue))),this.initTarget()},getRegion:function(a,c,d){return&nbsp;b.floor(c/this.totalBarWidth)},getCurrentRegionFields:function(){var&nbsp;a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],color:this.calcColor(this.values[a],a),offset:a}},calcColor:function(a,b){var&nbsp;c=this.values,d=this.options,e=this.colorMapByIndex,f=this.colorMapByValue,g,h;return&nbsp;f&amp;&amp;(h=f.get(a))?g=h:e&amp;&amp;e.length&gt;b?g=e[b]:c[b]&lt;0?g=d.get("negBarColor"):c[b]&gt;0?g=d.get("posBarColor"):g=d.get("zeroBarColor"),g},renderRegion:function(a,c){var&nbsp;d=this.values,e=this.options,f=this.target,g,h,i,j,k,l;g=f.pixelHeight,i=b.round(g/2),j=a*this.totalBarWidth,d[a]&lt;0?(k=i,h=i-1):d[a]&gt;0?(k=0,h=i-1):(k=i-1,h=2),l=this.calcColor(d[a],a);if(l===null)return;return&nbsp;c&amp;&amp;(l=this.calcHighlightColor(l,e)),f.drawRect(j,k,this.barWidth-1,h-1,l,l)}}),d.fn.sparkline.discrete=A=g(d.fn.sparkline._base,w,{type:"discrete",init:function(a,e,f,g,h){A._super.init.call(this,a,e,f,g,h),this.regionShapes={},this.values=e=d.map(e,Number),this.min=b.min.apply(b,e),this.max=b.max.apply(b,e),this.range=this.max-this.min,this.width=g=f.get("width")==="auto"?e.length*2:this.width,this.interval=b.floor(g/e.length),this.itemWidth=g/e.length,f.get("chartRangeMin")!==c&amp;&amp;(f.get("chartRangeClip")||f.get("chartRangeMin")&lt;this.min)&amp;&amp;(this.min=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&amp;&amp;(f.get("chartRangeClip")||f.get("chartRangeMax")&gt;this.max)&amp;&amp;(this.max=f.get("chartRangeMax")),this.initTarget(),this.target&amp;&amp;(this.lineHeight=f.get("lineHeight")==="auto"?b.round(this.canvasHeight*.3):f.get("lineHeight"))},getRegion:function(a,c,d){return&nbsp;b.floor(c/this.itemWidth)},getCurrentRegionFields:function(){var&nbsp;a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],offset:a}},renderRegion:function(a,c){var&nbsp;d=this.values,e=this.options,f=this.min,g=this.max,h=this.range,j=this.interval,k=this.target,l=this.canvasHeight,m=this.lineHeight,n=l-m,o,p,q,r;return&nbsp;p=i(d[a],f,g),r=a*j,o=b.round(n-n*((p-f)/h)),q=e.get("thresholdColor")&amp;&amp;p&lt;e.get("thresholdValue")?e.get("thresholdColor"):e.get("lineColor"),c&amp;&amp;(q=this.calcHighlightColor(q,e)),k.drawLine(r,o,r,o+m,q)}}),d.fn.sparkline.bullet=B=g(d.fn.sparkline._base,{type:"bullet",init:function(a,d,e,f,g){var&nbsp;h,i,j;B._super.init.call(this,a,d,e,f,g),this.values=d=l(d),j=d.slice(),j[0]=j[0]===null?j[2]:j[0],j[1]=d[1]===null?j[2]:j[1],h=b.min.apply(b,d),i=b.max.apply(b,d),e.get("base")===c?h=h&lt;0?h:0:h=e.get("base"),this.min=h,this.max=i,this.range=i-h,this.shapes={},this.valueShapes={},this.regiondata={},this.width=f=e.get("width")==="auto"?"4.0em":f,this.target=this.$el.simpledraw(f,g,e.get("composite")),d.length||(this.disabled=!0),this.initTarget()},getRegion:function(a,b,d){var&nbsp;e=this.target.getShapeAt(a,b,d);return&nbsp;e!==c&amp;&amp;this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var&nbsp;a=this.currentRegion;return{fieldkey:a.substr(0,1),value:this.values[a.substr(1)],region:a}},changeHighlight:function(a){var&nbsp;b=this.currentRegion,c=this.valueShapes[b],d;delete&nbsp;this.shapes[c];switch(b.substr(0,1)){case"r":d=this.renderRange(b.substr(1),a);break;case"p":d=this.renderPerformance(a);break;case"t":d=this.renderTarget(a)}this.valueShapes[b]=d.id,this.shapes[d.id]=b,this.target.replaceWithShape(c,d)},renderRange:function(a,c){var&nbsp;d=this.values[a],e=b.round(this.canvasWidth*((d-this.min)/this.range)),f=this.options.get("rangeColors")[a-2];return&nbsp;c&amp;&amp;(f=this.calcHighlightColor(f,this.options)),this.target.drawRect(0,0,e-1,this.canvasHeight-1,f,f)},renderPerformance:function(a){var&nbsp;c=this.values[1],d=b.round(this.canvasWidth*((c-this.min)/this.range)),e=this.options.get("performanceColor");return&nbsp;a&amp;&amp;(e=this.calcHighlightColor(e,this.options)),this.target.drawRect(0,b.round(this.canvasHeight*.3),d-1,b.round(this.canvasHeight*.4)-1,e,e)},renderTarget:function(a){var&nbsp;c=this.values[0],d=b.round(this.canvasWidth*((c-this.min)/this.range)-this.options.get("targetWidth")/2),e=b.round(this.canvasHeight*.1),f=this.canvasHeight-e*2,g=this.options.get("targetColor");return&nbsp;a&amp;&amp;(g=this.calcHighlightColor(g,this.options)),this.target.drawRect(d,e,this.options.get("targetWidth")-1,f-1,g,g)},render:function(){var&nbsp;a=this.values.length,b=this.target,c,d;if(!B._super.render.call(this))return;for(c=2;c&lt;a;c++)d=this.renderRange(c).append(),this.shapes[d.id]="r"+c,this.valueShapes["r"+c]=d.id;this.values[1]!==null&amp;&amp;(d=this.renderPerformance().append(),this.shapes[d.id]="p1",this.valueShapes.p1=d.id),this.values[0]!==null&amp;&amp;(d=this.renderTarget().append(),this.shapes[d.id]="t0",this.valueShapes.t0=d.id),b.render()}}),d.fn.sparkline.pie=C=g(d.fn.sparkline._base,{type:"pie",init:function(a,c,e,f,g){var&nbsp;h=0,i;C._super.init.call(this,a,c,e,f,g),this.shapes={},this.valueShapes={},this.values=c=d.map(c,Number),e.get("width")==="auto"&amp;&amp;(this.width=this.height);if(c.length&gt;0)for(i=c.length;i--;)h+=c[i];this.total=h,this.initTarget(),this.radius=b.floor(b.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(a,b,d){var&nbsp;e=this.target.getShapeAt(a,b,d);return&nbsp;e!==c&amp;&amp;this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var&nbsp;a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],percent:this.values[a]/this.total*100,color:this.options.get("sliceColors")[a%this.options.get("sliceColors").length],offset:a}},changeHighlight:function(a){var&nbsp;b=this.currentRegion,c=this.renderSlice(b,a),d=this.valueShapes[b];delete&nbsp;this.shapes[d],this.target.replaceWithShape(d,c),this.valueShapes[b]=c.id,this.shapes[c.id]=b},renderSlice:function(a,d){var&nbsp;e=this.target,f=this.options,g=this.radius,h=f.get("borderWidth"),i=f.get("offset"),j=2*b.PI,k=this.values,l=this.total,m=i?2*b.PI*(i/360):0,n,o,p,q,r;q=k.length;for(p=0;p&lt;q;p++){n=m,o=m,l&gt;0&amp;&amp;(o=m+j*(k[p]/l));if(a===p)return&nbsp;r=f.get("sliceColors")[p%f.get("sliceColors").length],d&amp;&amp;(r=this.calcHighlightColor(r,f)),e.drawPieSlice(g,g,g-h,n,o,c,r);m=o}},render:function(){var&nbsp;a=this.target,d=this.values,e=this.options,f=this.radius,g=e.get("borderWidth"),h,i;if(!C._super.render.call(this))return;g&amp;&amp;a.drawCircle(f,f,b.floor(f-g/2),e.get("borderColor"),c,g).append();for(i=d.length;i--;)d[i]&amp;&amp;(h=this.renderSlice(i).append(),this.valueShapes[i]=h.id,this.shapes[h.id]=i);a.render()}}),d.fn.sparkline.box=D=g(d.fn.sparkline._base,{type:"box",init:function(a,b,c,e,f){D._super.init.call(this,a,b,c,e,f),this.values=d.map(b,Number),this.width=c.get("width")==="auto"?"4.0em":e,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return&nbsp;1},getCurrentRegionFields:function(){var&nbsp;a=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles<a name="line_4"></a></li>
<li id="line_5" class="odd"><span class="lineNumber">5&nbsp;</span>[1]},{field:"uq",value:this.quartiles[2]}];return&nbsp;this.loutlier!==c&amp;&amp;a.push({field:"lo",value:this.loutlier}),this.routlier!==c&amp;&amp;a.push({field:"ro",value:this.routlier}),this.lwhisker!==c&amp;&amp;a.push({field:"lw",value:this.lwhisker}),this.rwhisker!==c&amp;&amp;a.push({field:"rw",value:this.rwhisker}),a},render:function(){var&nbsp;a=this.target,d=this.values,e=d.length,f=this.options,g=this.canvasWidth,h=this.canvasHeight,i=f.get("chartRangeMin")===c?b.min.apply(b,d):f.get("chartRangeMin"),k=f.get("chartRangeMax")===c?b.max.apply(b,d):f.get("chartRangeMax"),l=0,m,n,o,p,q,r,s,t,u,v,w;if(!D._super.render.call(this))return;if(f.get("raw"))f.get("showOutliers")&amp;&amp;d.length&gt;5?(n=d[0],m=d[1],p=d[2],q=d[3],r=d[4],s=d[5],t=d[6]):(m=d[0],p=d[1],q=d[2],r=d[3],s=d[4]);else{d.sort(function(a,b){return&nbsp;a-b}),p=j(d,1),q=j(d,2),r=j(d,3),o=r-p;if(f.get("showOutliers")){m=s=c;for(u=0;u&lt;e;u++)m===c&amp;&amp;d[u]&gt;p-o*f.get("outlierIQR")&amp;&amp;(m=d[u]),d[u]&lt;r+o*f.get("outlierIQR")&amp;&amp;(s=d[u]);n=d[0],t=d[e-1]}else&nbsp;m=d[0],s=d[e-1]}this.quartiles=[p,q,r],this.lwhisker=m,this.rwhisker=s,this.loutlier=n,this.routlier=t,w=g/(k-i+1),f.get("showOutliers")&amp;&amp;(l=b.ceil(f.get("spotRadius")),g-=2*b.ceil(f.get("spotRadius")),w=g/(k-i+1),n&lt;m&amp;&amp;a.drawCircle((n-i)*w+l,h/2,f.get("spotRadius"),f.get("outlierLineColor"),f.get("outlierFillColor")).append(),t&gt;s&amp;&amp;a.drawCircle((t-i)*w+l,h/2,f.get("spotRadius"),f.get("outlierLineColor"),f.get("outlierFillColor")).append()),a.drawRect(b.round((p-i)*w+l),b.round(h*.1),b.round((r-p)*w),b.round(h*.8),f.get("boxLineColor"),f.get("boxFillColor")).append(),a.drawLine(b.round((m-i)*w+l),b.round(h/2),b.round((p-i)*w+l),b.round(h/2),f.get("lineColor")).append(),a.drawLine(b.round((m-i)*w+l),b.round(h/4),b.round((m-i)*w+l),b.round(h-h/4),f.get("whiskerColor")).append(),a.drawLine(b.round((s-i)*w+l),b.round(h/2),b.round((r-i)*w+l),b.round(h/2),f.get("lineColor")).append(),a.drawLine(b.round((s-i)*w+l),b.round(h/4),b.round((s-i)*w+l),b.round(h-h/4),f.get("whiskerColor")).append(),a.drawLine(b.round((q-i)*w+l),b.round(h*.1),b.round((q-i)*w+l),b.round(h*.9),f.get("medianColor")).append(),f.get("target")&amp;&amp;(v=b.ceil(f.get("spotRadius")),a.drawLine(b.round((f.get("target")-i)*w+l),b.round(h/2-v),b.round((f.get("target")-i)*w+l),b.round(h/2+v),f.get("targetColor")).append(),a.drawLine(b.round((f.get("target")-i)*w+l-v),b.round(h/2),b.round((f.get("target")-i)*w+l+v),b.round(h/2),f.get("targetColor")).append()),a.render()}}),G=g({init:function(a,b,c,d){this.target=a,this.id=b,this.type=c,this.args=d},append:function(){return&nbsp;this.target.appendShape(this),this}}),H=g({_pxregex:/(\d+)(px)?\s*$/i,init:function(a,b,c){if(!a)return;this.width=a,this.height=b,this.target=c,this.lastShapeId=null,c[0]&amp;&amp;(c=c[0]),d.data(c,"_jqs_vcanvas",this)},drawLine:function(a,b,c,d,e,f){return&nbsp;this.drawShape([[a,b],[c,d]],e,f)},drawShape:function(a,b,c,d){return&nbsp;this._genShape("Shape",[a,b,c,d])},drawCircle:function(a,b,c,d,e,f){return&nbsp;this._genShape("Circle",[a,b,c,d,e,f])},drawPieSlice:function(a,b,c,d,e,f,g){return&nbsp;this._genShape("PieSlice",[a,b,c,d,e,f,g])},drawRect:function(a,b,c,d,e,f){return&nbsp;this._genShape("Rect",[a,b,c,d,e,f])},getElement:function(){return&nbsp;this.canvas},getLastShapeId:function(){return&nbsp;this.lastShapeId},reset:function(){alert("reset&nbsp;not&nbsp;implemented")},_insert:function(a,b){d(b).html(a)},_calculatePixelDims:function(a,b,c){var&nbsp;e;e=this._pxregex.exec(b),e?this.pixelHeight=e[1]:this.pixelHeight=d(c).height(),e=this._pxregex.exec(a),e?this.pixelWidth=e[1]:this.pixelWidth=d(c).width()},_genShape:function(a,b){var&nbsp;c=L++;return&nbsp;b.unshift(c),new&nbsp;G(this,c,a,b)},appendShape:function(a){alert("appendShape&nbsp;not&nbsp;implemented")},replaceWithShape:function(a,b){alert("replaceWithShape&nbsp;not&nbsp;implemented")},insertAfterShape:function(a,b){alert("insertAfterShape&nbsp;not&nbsp;implemented")},removeShapeId:function(a){alert("removeShapeId&nbsp;not&nbsp;implemented")},getShapeAt:function(a,b,c){alert("getShapeAt&nbsp;not&nbsp;implemented")},render:function(){alert("render&nbsp;not&nbsp;implemented")}}),I=g(H,{init:function(b,e,f,g){I._super.init.call(this,b,e,f),this.canvas=a.createElement("canvas"),f[0]&amp;&amp;(f=f[0]),d.data(f,"_jqs_vcanvas",this),d(this.canvas).css({display:"inline-block",width:b,height:e,verticalAlign:"top"}),this._insert(this.canvas,f),this._calculatePixelDims(b,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=g,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c,d(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(a,b,d){var&nbsp;e=this.canvas.getContext("2d");return&nbsp;a!==c&amp;&amp;(e.strokeStyle=a),e.lineWidth=d===c?1:d,b!==c&amp;&amp;(e.fillStyle=b),e},reset:function(){var&nbsp;a=this._getContext();a.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c},_drawShape:function(a,b,d,e,f){var&nbsp;g=this._getContext(d,e,f),h,i;g.beginPath(),g.moveTo(b[0][0]+.5,b[0][1]+.5);for(h=1,i=b.length;h&lt;i;h++)g.lineTo(b[h][0]+.5,b[h][1]+.5);d!==c&amp;&amp;g.stroke(),e!==c&amp;&amp;g.fill(),this.targetX!==c&amp;&amp;this.targetY!==c&amp;&amp;g.isPointInPath(this.targetX,this.targetY)&amp;&amp;(this.currentTargetShapeId=a)},_drawCircle:function(a,d,e,f,g,h,i){var&nbsp;j=this._getContext(g,h,i);j.beginPath(),j.arc(d,e,f,0,2*b.PI,!1),this.targetX!==c&amp;&amp;this.targetY!==c&amp;&amp;j.isPointInPath(this.targetX,this.targetY)&amp;&amp;(this.currentTargetShapeId=a),g!==c&amp;&amp;j.stroke(),h!==c&amp;&amp;j.fill()},_drawPieSlice:function(a,b,d,e,f,g,h,i){var&nbsp;j=this._getContext(h,i);j.beginPath(),j.moveTo(b,d),j.arc(b,d,e,f,g,!1),j.lineTo(b,d),j.closePath(),h!==c&amp;&amp;j.stroke(),i&amp;&amp;j.fill(),this.targetX!==c&amp;&amp;this.targetY!==c&amp;&amp;j.isPointInPath(this.targetX,this.targetY)&amp;&amp;(this.currentTargetShapeId=a)},_drawRect:function(a,b,c,d,e,f,g){return&nbsp;this._drawShape(a,[[b,c],[b+d,c],[b+d,c+e],[b,c+e],[b,c]],f,g)},appendShape:function(a){return&nbsp;this.shapes[a.id]=a,this.shapeseq.push(a.id),this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var&nbsp;c=this.shapeseq,d;this.shapes[b.id]=b;for(d=c.length;d--;)c[d]==a&amp;&amp;(c[d]=b.id);delete&nbsp;this.shapes[a]},replaceWithShapes:function(a,b){var&nbsp;c=this.shapeseq,d={},e,f,g;for(f=a.length;f--;)d[a[f]]=!0;for(f=c.length;f--;)e=c[f],d[e]&amp;&amp;(c.splice(f,1),delete&nbsp;this.shapes[e],g=f);for(f=b.length;f--;)c.splice(g,0,b[f].id),this.shapes[b[f].id]=b[f]},insertAfterShape:function(a,b){var&nbsp;c=this.shapeseq,d;for(d=c.length;d--;)if(c[d]===a){c.splice(d+1,0,b.id),this.shapes[b.id]=b;return}},removeShapeId:function(a){var&nbsp;b=this.shapeseq,c;for(c=b.length;c--;)if(b[c]===a){b.splice(c,1);break}delete&nbsp;this.shapes[a]},getShapeAt:function(a,b,c){return&nbsp;this.targetX=b,this.targetY=c,this.render(),this.currentTargetShapeId},render:function(){var&nbsp;a=this.shapeseq,b=this.shapes,c=a.length,d=this._getContext(),e,f,g;d.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(g=0;g&lt;c;g++)e=a[g],f=b[e],this["_draw"+f.type].apply(this,f.args);this.interact||(this.shapes={},this.shapeseq=[])}}),J=g(H,{init:function(b,c,e){var&nbsp;f;J._super.init.call(this,b,c,e),e[0]&amp;&amp;(e=e[0]),d.data(e,"_jqs_vcanvas",this),this.canvas=a.createElement("span"),d(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:b,height:c,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,e),this._calculatePixelDims(b,c,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,f='&lt;v:group&nbsp;coordorigin="0&nbsp;0"&nbsp;coordsize="'+this.pixelWidth+"&nbsp;"+this.pixelHeight+'"'+'&nbsp;style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"&gt;&lt;/v:group&gt;',this.canvas.insertAdjacentHTML("beforeEnd",f),this.group=d(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(a,b,d,e,f){var&nbsp;g=[],h,i,j,k,l,m,n;for(n=0,m=b.length;n&lt;m;n++)g[n]=""+b[n][0]+","+b[n][1];return&nbsp;h=g.splice(0,1),f=f===c?1:f,i=d===c?'&nbsp;stroked="false"&nbsp;':'&nbsp;strokeWeight="'+f+'px"&nbsp;strokeColor="'+d+'"&nbsp;',j=e===c?'&nbsp;filled="false"':'&nbsp;fillColor="'+e+'"&nbsp;filled="true"&nbsp;',k=g[0]===g[g.length-1]?"x&nbsp;":"",l='&lt;v:shape&nbsp;coordorigin="0&nbsp;0"&nbsp;coordsize="'+this.pixelWidth+"&nbsp;"+this.pixelHeight+'"&nbsp;'+'&nbsp;id="jqsshape'+a+'"&nbsp;'+i+j+'&nbsp;style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"&nbsp;'+'&nbsp;path="m&nbsp;'+h+"&nbsp;l&nbsp;"+g.join(",&nbsp;")+"&nbsp;"+k+'e"&gt;'+"&nbsp;&lt;/v:shape&gt;",l},_drawCircle:function(a,b,d,e,f,g,h){var&nbsp;i,j,k;return&nbsp;b-=e,d-=e,i=f===c?'&nbsp;stroked="false"&nbsp;':'&nbsp;strokeWeight="'+h+'px"&nbsp;strokeColor="'+f+'"&nbsp;',j=g===c?'&nbsp;filled="false"':'&nbsp;fillColor="'+g+'"&nbsp;filled="true"&nbsp;',k='&lt;v:oval&nbsp;&nbsp;id="jqsshape'+a+'"&nbsp;'+i+j+'&nbsp;style="position:absolute;top:'+d+"px;&nbsp;left:"+b+"px;&nbsp;width:"+e*2+"px;&nbsp;height:"+e*2+'px"&gt;&lt;/v:oval&gt;',k},_drawPieSlice:function(a,d,e,f,g,h,i,j){var&nbsp;k,l,m,n,o,p,q,r;if(g===h)return"";h-g===2*b.PI&amp;&amp;(g=0,h=2*b.PI),l=d+b.round(b.cos(g)*f),m=e+b.round(b.sin(g)*f),n=d+b.round(b.cos(h)*f),o=e+b.round(b.sin(h)*f);if(l===n&amp;&amp;m===o){if(h-g&lt;b.PI)return"";l=n=d+f,m=o=e}return&nbsp;l===n&amp;&amp;m===o&amp;&amp;h-g&lt;b.PI?"":(k=[d-f,e-f,d+f,e+f,l,m,n,o],p=i===c?'&nbsp;stroked="false"&nbsp;':'&nbsp;strokeWeight="1px"&nbsp;strokeColor="'+i+'"&nbsp;',q=j===c?'&nbsp;filled="false"':'&nbsp;fillColor="'+j+'"&nbsp;filled="true"&nbsp;',r='&lt;v:shape&nbsp;coordorigin="0&nbsp;0"&nbsp;coordsize="'+this.pixelWidth+"&nbsp;"+this.pixelHeight+'"&nbsp;'+'&nbsp;id="jqsshape'+a+'"&nbsp;'+p+q+'&nbsp;style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"&nbsp;'+'&nbsp;path="m&nbsp;'+d+","+e+"&nbsp;wa&nbsp;"+k.join(",&nbsp;")+'&nbsp;x&nbsp;e"&gt;'+"&nbsp;&lt;/v:shape&gt;",r)},_drawRect:function(a,b,c,d,e,f,g){return&nbsp;this._drawShape(a,[[b,c],[b,c+e],[b+d,c+e],[b+d,c],[b,c]],f,g)},reset:function(){this.group.innerHTML=""},appendShape:function(a){var&nbsp;b=this["_draw"+a.type].apply(this,a.args);return&nbsp;this.rendered?this.group.insertAdjacentHTML("beforeEnd",b):this.prerender+=b,this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var&nbsp;c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].outerHTML=e},replaceWithShapes:function(a,b){var&nbsp;c=d("#jqsshape"+a[0]),e="",f=b.length,g;for(g=0;g&lt;f;g++)e+=this["_draw"+b[g].type].apply(this,b[g].args);c[0].outerHTML=e;for(g=1;g&lt;a.length;g++)d("#jqsshape"+a[g]).remove()},insertAfterShape:function(a,b){var&nbsp;c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].insertAdjacentHTML("afterEnd",e)},removeShapeId:function(a){var&nbsp;b=d("#jqsshape"+a);this.group.removeChild(b[0])},getShapeAt:function(a,b,c){var&nbsp;d=a.id.substr(8);return&nbsp;d},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})})(document,Math);<a name="line_5"></a></li></ol></div></body></html>
                    </div>
    </body>
</html>
