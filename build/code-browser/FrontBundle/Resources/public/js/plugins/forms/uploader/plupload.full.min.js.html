<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>
            Mayflower Code Browser - Source Code
        </title>
        <link rel="stylesheet" type="text/css" href="../../../../../../js/jquery.sidebar/css/codebrowser/sidebar.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../../css/global.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../../css/cruisecontrol.css" />
        <link rel="stylesheet" type="text/css" href="../../../../../../css/review.css" />

        <script type="text/javascript" src="../../../../../../js/jquery-1.4.2.min.js"></script>
        <script type="text/javascript" src="../../../../../../js/jquery.sidebar/jquery-ui-1.7.2.custom.min.js"></script>
        <script type="text/javascript" src="../../../../../../js/jquery.sidebar/jquery.sidebar.js"></script>
        <script type="text/javascript" src="../../../../../../js/jquery.cluetip/lib/jquery.hoverIntent.js"></script>
        <script type="text/javascript" src="../../../../../../js/jquery.cluetip/lib/jquery.bgiframe.min.js"></script>
        <script type="text/javascript" src="../../../../../../js/jquery.cluetip/jquery.cluetip.min.js"></script>

        <script type="text/javascript" src="../../../../../../js/review.js"></script>
    </head>
    <body class="codebrowser">
        <div class="header">
            <a href="./../../../../../../index.html">Go back to index</a> |
            <a href="https://github.com/Mayflower/PHP_CodeBrowser">PHP CodeBrowser</a>
        </div>
        <hr/>
        <div id="review">
            <div class="filepath">
                FrontBundle/Resources/public/js/plugins/forms/uploader/plupload.full.min.js            </div>

            <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="code"><ol class="code"><li id="line_1" class="odd"><span class="lineNumber">&nbsp;1&nbsp;</span>/**<a name="line_1"></a></li>
<li id="line_2" class="even"><span class="lineNumber">&nbsp;2&nbsp;</span>&nbsp;*&nbsp;mOxie&nbsp;-&nbsp;multi-runtime&nbsp;File&nbsp;API&nbsp;&amp;&nbsp;XMLHttpRequest&nbsp;L2&nbsp;Polyfill<a name="line_2"></a></li>
<li id="line_3" class="odd"><span class="lineNumber">&nbsp;3&nbsp;</span>&nbsp;*&nbsp;v1.2.0<a name="line_3"></a></li>
<li id="line_4" class="even"><span class="lineNumber">&nbsp;4&nbsp;</span>&nbsp;*<a name="line_4"></a></li>
<li id="line_5" class="odd"><span class="lineNumber">&nbsp;5&nbsp;</span>&nbsp;*&nbsp;Copyright&nbsp;2013,&nbsp;Moxiecode&nbsp;Systems&nbsp;AB<a name="line_5"></a></li>
<li id="line_6" class="even"><span class="lineNumber">&nbsp;6&nbsp;</span>&nbsp;*&nbsp;Released&nbsp;under&nbsp;GPL&nbsp;License.<a name="line_6"></a></li>
<li id="line_7" class="odd"><span class="lineNumber">&nbsp;7&nbsp;</span>&nbsp;*<a name="line_7"></a></li>
<li id="line_8" class="even"><span class="lineNumber">&nbsp;8&nbsp;</span>&nbsp;*&nbsp;License:&nbsp;http://www.plupload.com/license<a name="line_8"></a></li>
<li id="line_9" class="odd"><span class="lineNumber">&nbsp;9&nbsp;</span>&nbsp;*&nbsp;Contributing:&nbsp;http://www.plupload.com/contributing<a name="line_9"></a></li>
<li id="line_10" class="even"><span class="lineNumber">10&nbsp;</span>&nbsp;*<a name="line_10"></a></li>
<li id="line_11" class="odd"><span class="lineNumber">11&nbsp;</span>&nbsp;*&nbsp;Date:&nbsp;2014-01-16<a name="line_11"></a></li>
<li id="line_12" class="even"><span class="lineNumber">12&nbsp;</span>&nbsp;*/<a name="line_12"></a></li>
<li id="line_13" class="odd"><span class="lineNumber">13&nbsp;</span>!function(e,t){"use&nbsp;strict";function&nbsp;n(e,t){for(var&nbsp;n,i=[],r=0;r&lt;e.length;++r){if(n=s[e[r]]||o(e[r]),!n)throw"module&nbsp;definition&nbsp;dependecy&nbsp;not&nbsp;found:&nbsp;"+e[r];i.push(n)}t.apply(null,i)}function&nbsp;i(e,i,r){if("string"!=typeof&nbsp;e)throw"invalid&nbsp;module&nbsp;definition,&nbsp;module&nbsp;id&nbsp;must&nbsp;be&nbsp;defined&nbsp;and&nbsp;be&nbsp;a&nbsp;string";if(i===t)throw"invalid&nbsp;module&nbsp;definition,&nbsp;dependencies&nbsp;must&nbsp;be&nbsp;specified";if(r===t)throw"invalid&nbsp;module&nbsp;definition,&nbsp;definition&nbsp;function&nbsp;must&nbsp;be&nbsp;specified";n(i,function(){s[e]=r.apply(null,arguments)})}function&nbsp;r(e){return!!s[e]}function&nbsp;o(t){for(var&nbsp;n=e,i=t.split(/[.\/]/),r=0;r&lt;i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return&nbsp;n}function&nbsp;a(n){for(var&nbsp;i=0;i&lt;n.length;i++){for(var&nbsp;r=e,o=n[i],a=o.split(/[.\/]/),u=0;u&lt;a.length-1;++u)r[a[u]]===t&amp;&amp;(r[a[u]]={}),r=r[a[u]];r[a[a.length-1]]=s[o]}}var&nbsp;s={},u="moxie/core/utils/Basic",c="moxie/core/I18n",l="moxie/core/utils/Mime",d="moxie/core/utils/Env",f="moxie/core/utils/Dom",p="moxie/core/Exceptions",h="moxie/core/EventTarget",m="moxie/core/utils/Encode",g="moxie/runtime/Runtime",v="moxie/runtime/RuntimeClient",y="moxie/file/Blob",w="moxie/file/File",E="moxie/file/FileInput",_="moxie/file/FileDrop",x="moxie/runtime/RuntimeTarget",R="moxie/file/FileReader",b="moxie/core/utils/Url",T="moxie/file/FileReaderSync",S="moxie/xhr/FormData",A="moxie/xhr/XMLHttpRequest",O="moxie/runtime/Transporter",I="moxie/image/Image",D="moxie/runtime/html5/Runtime",N="moxie/runtime/html5/file/Blob",L="moxie/core/utils/Events",M="moxie/runtime/html5/file/FileInput",C="moxie/runtime/html5/file/FileDrop",F="moxie/runtime/html5/file/FileReader",H="moxie/runtime/html5/xhr/XMLHttpRequest",P="moxie/runtime/html5/utils/BinaryReader",k="moxie/runtime/html5/image/JPEGHeaders",U="moxie/runtime/html5/image/ExifParser",B="moxie/runtime/html5/image/JPEG",z="moxie/runtime/html5/image/PNG",G="moxie/runtime/html5/image/ImageInfo",q="moxie/runtime/html5/image/MegaPixel",X="moxie/runtime/html5/image/Image",j="moxie/runtime/flash/Runtime",V="moxie/runtime/flash/file/Blob",W="moxie/runtime/flash/file/FileInput",Y="moxie/runtime/flash/file/FileReader",$="moxie/runtime/flash/file/FileReaderSync",J="moxie/runtime/flash/xhr/XMLHttpRequest",Z="moxie/runtime/flash/runtime/Transporter",K="moxie/runtime/flash/image/Image",Q="moxie/runtime/silverlight/Runtime",et="moxie/runtime/silverlight/file/Blob",tt="moxie/runtime/silverlight/file/FileInput",nt="moxie/runtime/silverlight/file/FileDrop",it="moxie/runtime/silverlight/file/FileReader",rt="moxie/runtime/silverlight/file/FileReaderSync",ot="moxie/runtime/silverlight/xhr/XMLHttpRequest",at="moxie/runtime/silverlight/runtime/Transporter",st="moxie/runtime/silverlight/image/Image",ut="moxie/runtime/html4/Runtime",ct="moxie/runtime/html4/file/FileInput",lt="moxie/runtime/html4/file/FileReader",dt="moxie/runtime/html4/xhr/XMLHttpRequest",ft="moxie/runtime/html4/image/Image";i(u,[],function(){var&nbsp;e=function(e){var&nbsp;t;return&nbsp;e===t?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},t=function(i){var&nbsp;r;return&nbsp;n(arguments,function(o,s){s&gt;0&amp;&amp;n(o,function(n,o){n!==r&amp;&amp;(e(i[o])===e(n)&amp;&amp;~a(e(n),["array","object"])?t(i[o],n):i[o]=n)})}),i},n=function(e,t){var&nbsp;n,i,r,o;if(e){try{n=e.length}catch(a){n=o}if(n===o){for(i&nbsp;in&nbsp;e)if(e.hasOwnProperty(i)&amp;&amp;t(e[i],i)===!1)return}else&nbsp;for(r=0;n&gt;r;r++)if(t(e[r],r)===!1)return}},i=function(t){var&nbsp;n;if(!t||"object"!==e(t))return!0;for(n&nbsp;in&nbsp;t)return!1;return!0},r=function(t,n){function&nbsp;i(r){"function"===e(t[r])&amp;&amp;t[r](function(e){++r&lt;o&amp;&amp;!e?i(r):n(e)})}var&nbsp;r=0,o=t.length;"function"!==e(n)&amp;&amp;(n=function(){}),t&amp;&amp;t.length||n(),i(r)},o=function(e,t){var&nbsp;i=0,r=e.length,o=new&nbsp;Array(r);n(e,function(e,n){e(function(e){if(e)return&nbsp;t(e);var&nbsp;a=[].slice.call(arguments);a.shift(),o[n]=a,i++,i===r&amp;&amp;(o.unshift(null),t.apply(this,o))})})},a=function(e,t){if(t){if(Array.prototype.indexOf)return&nbsp;Array.prototype.indexOf.call(t,e);for(var&nbsp;n=0,i=t.length;i&gt;n;n++)if(t[n]===e)return&nbsp;n}return-1},s=function(t,n){var&nbsp;i=[];"array"!==e(t)&amp;&amp;(t=[t]),"array"!==e(n)&amp;&amp;(n=[n]);for(var&nbsp;r&nbsp;in&nbsp;t)-1===a(t[r],n)&amp;&amp;i.push(t[r]);return&nbsp;i.length?i:!1},u=function(e,t){var&nbsp;i=[];return&nbsp;n(e,function(e){-1!==a(e,t)&amp;&amp;i.push(e)}),i.length?i:null},c=function(e){var&nbsp;t,n=[];for(t=0;t&lt;e.length;t++)n[t]=e[t];return&nbsp;n},l=function(){var&nbsp;e=0;return&nbsp;function(t){var&nbsp;n=(new&nbsp;Date).getTime().toString(32),i;for(i=0;5&gt;i;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+n+(e++).toString(32)}}(),d=function(e){return&nbsp;e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e},f=function(e){if("string"!=typeof&nbsp;e)return&nbsp;e;var&nbsp;t={t:1099511627776,g:1073741824,m:1048576,k:1024},n;return&nbsp;e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),n=e[2],e=+e[1],t.hasOwnProperty(n)&amp;&amp;(e*=t[n]),e};return{guid:l,typeOf:e,extend:t,each:n,isEmptyObj:i,inSeries:r,inParallel:o,inArray:a,arrayDiff:s,arrayIntersect:u,toArray:c,trim:d,parseSizeStr:f}}),i(c,[u],function(e){var&nbsp;t={};return{addI18n:function(n){return&nbsp;e.extend(t,n)},translate:function(e){return&nbsp;t[e]||e},_:function(e){return&nbsp;this.translate(e)},sprintf:function(t){var&nbsp;n=[].slice.call(arguments,1);return&nbsp;t.replace(/%[a-z]/g,function(){var&nbsp;t=n.shift();return"undefined"!==e.typeOf(t)?t:""})}}}),i(l,[u,c],function(e,t){var&nbsp;n="application/msword,doc&nbsp;dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps&nbsp;ai&nbsp;eps,application/rtf,rtf,application/vnd.ms-excel,xls&nbsp;xlb,application/vnd.ms-powerpoint,ppt&nbsp;pps&nbsp;pot,application/zip,zip,application/x-shockwave-flash,swf&nbsp;swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3&nbsp;mpga&nbsp;mpega&nbsp;mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga&nbsp;ogg,audio/aiff,aiff&nbsp;aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg&nbsp;jpeg&nbsp;jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg&nbsp;svgz,image/tiff,tiff&nbsp;tif,text/plain,asc&nbsp;txt&nbsp;text&nbsp;diff&nbsp;log,text/html,htm&nbsp;html&nbsp;xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg&nbsp;mpg&nbsp;mpe&nbsp;m2v,video/quicktime,qt&nbsp;mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp&nbsp;3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",i={mimes:{},extensions:{},addMimeType:function(e){var&nbsp;t=e.split(/,/),n,i,r;for(n=0;n&lt;t.length;n+=2){for(r=t[n+1].split(/&nbsp;/),i=0;i&lt;r.length;i++)this.mimes[r[i]]=t[n];this.extensions[t[n]]=r}},extList2mimes:function(t,n){var&nbsp;i=this,r,o,a,s,u=[];for(o=0;o&lt;t.length;o++)for(r=t[o].extensions.split(/\s*,\s*/),a=0;a&lt;r.length;a++){if("*"===r[a])return[];if(s=i.mimes[r[a]])-1===e.inArray(s,u)&amp;&amp;u.push(s);else{if(!n||!/^\w+$/.test(r[a]))return[];u.push("."+r[a])}}return&nbsp;u},mimes2exts:function(t){var&nbsp;n=this,i=[];return&nbsp;e.each(t,function(t){if("*"===t)return&nbsp;i=[],!1;var&nbsp;r=t.match(/^(\w+)\/(\*|\w+)$/);r&amp;&amp;("*"===r[2]?e.each(n.extensions,function(e,t){new&nbsp;RegExp("^"+r[1]+"/").test(t)&amp;&amp;[].push.apply(i,n.extensions[t])}):n.extensions[t]&amp;&amp;[].push.apply(i,n.extensions[t]))}),i},mimes2extList:function(n){var&nbsp;i=[],r=[];return"string"===e.typeOf(n)&amp;&amp;(n=e.trim(n).split(/\s*,\s*/)),r=this.mimes2exts(n),i.push({title:t.translate("Files"),extensions:r.length?r.join(","):"*"}),i.mimes=n,i},getFileExtension:function(e){var&nbsp;t=e&amp;&amp;e.match(/\.([^.]+)$/);return&nbsp;t?t[1].toLowerCase():""},getFileMime:function(e){return&nbsp;this.mimes[this.getFileExtension(e)]||""}};return&nbsp;i.addMimeType(n),i}),i(d,[u],function(e){function&nbsp;t(e,t,n){var&nbsp;i=0,r=0,o=0,a={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},s=function(e){return&nbsp;e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},u=function(e){return&nbsp;e?isNaN(e)?a[e]||-7:parseInt(e,10):0};for(e=s(e),t=s(t),r=Math.max(e.length,t.length),i=0;r&gt;i;i++)if(e[i]!=t[i]){if(e[i]=u(e[i]),t[i]=u(t[i]),e[i]&lt;t[i]){o=-1;break}if(e[i]&gt;t[i]){o=1;break}}if(!n)return&nbsp;o;switch(n){case"&gt;":case"gt":return&nbsp;o&gt;0;case"&gt;=":case"ge":return&nbsp;o&gt;=0;case"&lt;=":case"le":return&nbsp;0&gt;=o;case"==":case"=":case"eq":return&nbsp;0===o;case"&lt;&gt;":case"!=":case"ne":return&nbsp;0!==o;case"":case"&lt;":case"lt":return&nbsp;0&gt;o;default:return&nbsp;null}}var&nbsp;n=function(e){var&nbsp;t="",n="?",i="function",r="undefined",o="object",a="major",s="model",u="name",c="type",l="vendor",d="version",f="architecture",p="console",h="mobile",m="tablet",g={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return&nbsp;e.toLowerCase()}},v={rgx:function(){for(var&nbsp;t,n=0,a,s,u,c,l,d,f=arguments;n&lt;f.length;n+=2){var&nbsp;p=f[n],h=f[n+1];if(typeof&nbsp;t===r){t={};for(u&nbsp;in&nbsp;h)c=h[u],typeof&nbsp;c===o?t[c[0]]=e:t[c]=e}for(a=s=0;a&lt;p.length;a++)if(l=p[a].exec(this.getUA())){for(u=0;u&lt;h.length;u++)d=l[++s],c=h[u],typeof&nbsp;c===o&amp;&amp;c.length&gt;0?2==c.length?t[c[0]]=typeof&nbsp;c[1]==i?c[1].call(this,d):c[1]:3==c.length?t[c[0]]=typeof&nbsp;c[1]!==i||c[1].exec&amp;&amp;c[1].test?d?d.replace(c[1],c[2]):e:d?c[1].call(this,d,c[2]):e:4==c.length&amp;&amp;(t[c[0]]=d?c[3].call(this,d.replace(c[1],c[2])):e):t[c]=d?d:e;break}if(l)break}return&nbsp;t},str:function(t,i){for(var&nbsp;r&nbsp;in&nbsp;i)if(typeof&nbsp;i[r]===o&amp;&amp;i[r].length&gt;0){for(var&nbsp;a=0;a&lt;i[r].length;a++)if(g.has(i[r][a],t))return&nbsp;r===n?e:r}else&nbsp;if(g.has(i[r],t))return&nbsp;r===n?e:r;return&nbsp;t}},y={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo&nbsp;Shift&nbsp;4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT&nbsp;3.11":"NT3.51","NT&nbsp;4.0":"NT4.0",2000:"NT&nbsp;5.0",XP:["NT&nbsp;5.1","NT&nbsp;5.2"],Vista:"NT&nbsp;6.0",7:"NT&nbsp;6.1",8:"NT&nbsp;6.2",8.1:"NT&nbsp;6.3",RT:"ARM"}}}},w={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[u,d,a],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[u,"Opera"],d,a],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[u,d,a],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[u,"IE"],d,a],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[u,"Yandex"],d,a],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[u,/_/g,"&nbsp;"],d,a],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[u,d,a],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[u,"Dolphin"],d,a],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[u,"Chrome"],d,a],[/((?:android.+))version\/((\d+)?[\w\.]+)\smobile\ssafari/i],[[u,"Android&nbsp;Browser"],d,a],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[d,a,[u,"Mobile&nbsp;Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[d,a,u],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[u,[a,v.str,y.browser.oldsafari.major],[d,v.str,y.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[u,d,a],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[u,"Netscape"],d,a],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[u,d,a]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,d],[/rv\:([\w\.]+).*(gecko)/i],[d,u]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[d,v.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[d,v.str,y.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],d],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[u,d],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[u,"Symbian"],d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox&nbsp;OS"],d],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[u,d],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium&nbsp;OS"],d],[/(sunos)\s?([\w\.]+\d)*/i],[[u,"Solaris"],d],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[u,d],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[u,"iOS"],[d,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[u,[d,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[u,d]]},E=function(e){var&nbsp;n=e||(window&amp;&amp;window.navigator&amp;&amp;window.navigator.userAgent?window.navigator.userAgent:t);this.getBrowser=function(){return&nbsp;v.rgx.apply(this,w.browser)},this.getEngine=function(){return&nbsp;v.rgx.apply(this,w.engine)},this.getOS=function(){return&nbsp;v.rgx.apply(this,w.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return&nbsp;n},this.setUA=function(e){return&nbsp;n=e,this},this.setUA(n)};return(new&nbsp;E).getResult()}(),i=function(){var&nbsp;t={define_property:function(){return!1}(),create_canvas:function(){var&nbsp;e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var&nbsp;n=new&nbsp;XMLHttpRequest;if(n.open("get","/"),"responseType"in&nbsp;n)return&nbsp;n.responseType=t,n.responseType!==t?!1:!0}}catch(i){}return!1},use_data_uri:function(){var&nbsp;e=new&nbsp;Image;return&nbsp;e.onload=function(){t.use_data_uri=1===e.width&amp;&amp;1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return&nbsp;t.use_data_uri&amp;&amp;("IE"!==r.browser||r.version&gt;=9)},use_data_uri_of:function(e){return&nbsp;t.use_data_uri&amp;&amp;33e3&gt;e||t.use_data_uri_over32kb()},use_fileinput:function(){var&nbsp;e=document.createElement("input");return&nbsp;e.setAttribute("type","file"),!e.disabled}};return&nbsp;function(n){var&nbsp;i=[].slice.call(arguments);return&nbsp;i.shift(),"function"===e.typeOf(t[n])?t[n].apply(this,i):!!t[n]}}(),r={can:i,browser:n.browser.name,version:parseFloat(n.browser.major),os:n.os.name,osVersion:n.os.version,verComp:t,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return&nbsp;r.OS=r.os,r}),i(f,[d],function(e){var&nbsp;t=function(e){return"string"!=typeof&nbsp;e?e:document.getElementById(e)},n=function(e,t){if(!e.className)return!1;var&nbsp;n=new&nbsp;RegExp("(^|\\s+)"+t+"(\\s+|$)");return&nbsp;n.test(e.className)},i=function(e,t){n(e,t)||(e.className=e.className?e.className.replace(/\s+$/,"")+"&nbsp;"+t:t)},r=function(e,t){if(e.className){var&nbsp;n=new&nbsp;RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,function(e,t,n){return"&nbsp;"===t&amp;&amp;"&nbsp;"===n?"&nbsp;":""})}},o=function(e,t){return&nbsp;e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void&nbsp;0},a=function(t,n){function&nbsp;i(e){var&nbsp;t,n,i=0,r=0;return&nbsp;e&amp;&amp;(n=e.getBoundingClientRect(),t="CSS1Compat"===s.compatMode?s.documentElement:s.body,i=n.left+t.scrollLeft,r=n.top+t.scrollTop),{x:i,y:r}}var&nbsp;r=0,o=0,a,s=document,u,c;if(t=t,n=n||s.body,t&amp;&amp;t.getBoundingClientRect&amp;&amp;"IE"===e.browser&amp;&amp;(!s.documentMode||s.documentMode&lt;8))return&nbsp;u=i(t),c=i(n),{x:u.x-c.x,y:u.y-c.y};for(a=t;a&amp;&amp;a!=n&amp;&amp;a.nodeType;)r+=a.offsetLeft||0,o+=a.offsetTop||0,a=a.offsetParent;for(a=t.parentNode;a&amp;&amp;a!=n&amp;&amp;a.nodeType;)r-=a.scrollLeft||0,o-=a.scrollTop||0,a=a.parentNode;return{x:r,y:o}},s=function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}};return{get:t,hasClass:n,addClass:i,removeClass:r,getStyle:o,getPos:a,getSize:s}}),i(p,[u],function(e){function&nbsp;t(e,t){var&nbsp;n;for(n&nbsp;in&nbsp;e)if(e[n]===t)return&nbsp;n;return&nbsp;null}return{RuntimeError:function(){function&nbsp;n(e){this.code=e,this.name=t(i,e),this.message=this.name+":&nbsp;RuntimeError&nbsp;"+this.code}var&nbsp;i={NOT_INIT_ERR:1,NOT_SUPPORTED_ERR:9,JS_ERR:4};return&nbsp;e.extend(n,i),n.prototype=Error.prototype,n}(),OperationNotAllowedException:function(){function&nbsp;t(e){this.code=e,this.name="OperationNotAllowedException"}return&nbsp;e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function&nbsp;n(e){this.code=e,this.name=t(i,e),this.message=this.name+":&nbsp;ImageError&nbsp;"+this.code}var&nbsp;i={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2};return&nbsp;e.extend(n,i),n.prototype=Error.prototype,n}(),FileException:function(){function&nbsp;n(e){this.code=e,this.name=t(i,e),this.message=this.name+":&nbsp;FileException&nbsp;"+this.code}var&nbsp;i={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return&nbsp;e.extend(n,i),n.prototype=Error.prototype,n}(),DOMException:function(){function&nbsp;n(e){this.code=e,this.name=t(i,e),this.message=this.name+":&nbsp;DOMException&nbsp;"+this.code}var&nbsp;i={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return&nbsp;e.extend(n,i),n.prototype=Error.prototype,n}(),EventException:function(){function&nbsp;t(e){this.code=e,this.name="EventException"}return&nbsp;e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),i(h,[p,u],function(e,t){function&nbsp;n(){var&nbsp;n={};t.extend(this,{uid:null,init:function(){this.uid||(this.uid=t.guid("uid_"))},addEventListener:function(e,i,r,o){var&nbsp;a=this,s;return&nbsp;e=t.trim(e),/\s/.test(e)?(t.each(e.split(/\s+/),function(e){a.addEventListener(e,i,r,o)}),void&nbsp;0):(e=e.toLowerCase(),r=parseInt(r,10)||0,s=n[this.uid]&amp;&amp;n[this.uid][e]||[],s.push({fn:i,priority:r,scope:o||this}),n[this.uid]||(n[this.uid]={}),n[this.uid][e]=s,void&nbsp;0)},hasEventListener:function(e){return&nbsp;e?!(!n[this.uid]||!n[this.uid][e]):!!n[this.uid]},removeEventListener:function(e,i){e=e.toLowerCase();var&nbsp;r=n[this.uid]&amp;&amp;n[this.uid][e],o;if(r){if(i){for(o=r.length-1;o&gt;=0;o--)if(r[o].fn===i){r.splice(o,1);break}}else&nbsp;r=[];r.length||(delete&nbsp;n[this.uid][e],t.isEmptyObj(n[this.uid])&amp;&amp;delete&nbsp;n[this.uid])}},removeAllEventListeners:function(){n[this.uid]&amp;&amp;delete&nbsp;n[this.uid]},dispatchEvent:function(i){var&nbsp;r,o,a,s,u={},c=!0,l;if("string"!==t.typeOf(i)){if(s=i,"string"!==t.typeOf(s.type))throw&nbsp;new&nbsp;e.EventException(e.EventException.UNSPECIFIED_EVENT_TYPE_ERR);i=s.type,s.total!==l&amp;&amp;s.loaded!==l&amp;&amp;(u.total=s.total,u.loaded=s.loaded),u.async=s.async||!1}if(-1!==i.indexOf("::")?function(e){r=e[0],i=e[1]}(i.split("::")):r=this.uid,i=i.toLowerCase(),o=n[r]&amp;&amp;n[r][i]){o.sort(function(e,t){return&nbsp;t.priority-e.priority}),a=[].slice.call(arguments),a.shift(),u.type=i,a.unshift(u);var&nbsp;d=[];t.each(o,function(e){a[0].target=e.scope,u.async?d.push(function(t){setTimeout(function(){t(e.fn.apply(e.scope,a)===!1)},1)}):d.push(function(t){t(e.fn.apply(e.scope,a)===!1)})}),d.length&amp;&amp;t.inSeries(d,function(e){c=!e})}return&nbsp;c},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return&nbsp;this.dispatchEvent.apply(this,arguments)},convertEventPropsToHandlers:function(e){var&nbsp;n;"array"!==t.typeOf(e)&amp;&amp;(e=[e]);for(var&nbsp;i=0;i&lt;e.length;i++)n="on"+e[i],"function"===t.typeOf(this[n])?this.addEventListener(e[i],this[n]):"undefined"===t.typeOf(this[n])&amp;&amp;(this[n]=null)}})}return&nbsp;n.instance=new&nbsp;n,n}),i(m,[],function(){var&nbsp;e=function(e){return&nbsp;unescape(encodeURIComponent(e))},t=function(e){return&nbsp;decodeURIComponent(escape(e))},n=function(e,n){if("function"==typeof&nbsp;window.atob)return&nbsp;n?t(window.atob(e)):window.atob(e);var&nbsp;i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r,o,a,s,u,c,l,d,f=0,p=0,h="",m=[];if(!e)return&nbsp;e;e+="";do&nbsp;s=i.indexOf(e.charAt(f++)),u=i.indexOf(e.charAt(f++)),c=i.indexOf(e.charAt(f++)),l=i.indexOf(e.charAt(f++)),d=s&lt;&lt;18|u&lt;&lt;12|c&lt;&lt;6|l,r=255&amp;d&gt;&gt;16,o=255&amp;d&gt;&gt;8,a=255&amp;d,m[p++]=64==c?String.fromCharCode(r):64==l?String.fromCharCode(r,o):String.fromCharCode(r,o,a);while(f&lt;e.length);return&nbsp;h=m.join(""),n?t(h):h},i=function(t,n){if(n&amp;&amp;e(t),"function"==typeof&nbsp;window.btoa)return&nbsp;window.btoa(t);var&nbsp;i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r,o,a,s,u,c,l,d,f=0,p=0,h="",m=[];if(!t)return&nbsp;t;do&nbsp;r=t.charCodeAt(f++),o=t.charCodeAt(f++),a=t.charCodeAt(f++),d=r&lt;&lt;16|o&lt;&lt;8|a,s=63&amp;d&gt;&gt;18,u=63&amp;d&gt;&gt;12,c=63&amp;d&gt;&gt;6,l=63&amp;d,m[p++]=i.charAt(s)+i.charAt(u)+i.charAt(c)+i.charAt(l);while(f&lt;t.length);h=m.join("");var&nbsp;g=t.length%3;return(g?h.slice(0,g-3):h)+"===".slice(g||3)};return{utf8_encode:e,utf8_decode:t,atob:n,btoa:i}}),i(g,[u,f,h],function(e,t,n){function&nbsp;i(n,r,a,s,u){var&nbsp;c=this,l,d=e.guid(r+"_"),f=u||"browser";n=n||{},o[d]=this,a=e.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},a),n.preferred_caps&amp;&amp;(f=i.getMode(s,n.preferred_caps,f)),l=function(){var&nbsp;t={};return{exec:function(e,n,i,r){return&nbsp;l[n]&amp;&amp;(t[e]||(t[e]={context:this,instance:new&nbsp;l[n]}),t[e].instance[i])?t[e].instance[i].apply(this,r):void&nbsp;0},removeInstance:function(e){delete&nbsp;t[e]},removeAllInstances:function(){var&nbsp;n=this;e.each(t,function(t,i){"function"===e.typeOf(t.instance.destroy)&amp;&amp;t.instance.destroy.call(t.context),n.removeInstance(i)})}}}(),e.extend(this,{initialized:!1,uid:d,type:r,mode:i.getMode(s,n.required_caps,f),shimid:d+"_container",clients:0,options:n,can:function(t,n){var&nbsp;r=arguments[2]||a;if("string"===e.typeOf(t)&amp;&amp;"undefined"===e.typeOf(n)&amp;&amp;(t=i.parseCaps(t)),"object"===e.typeOf(t)){for(var&nbsp;o&nbsp;in&nbsp;t)if(!this.can(o,t[o],r))return!1;return!0}return"function"===e.typeOf(r[t])?r[t].call(this,n):n===r[t]},getShimContainer:function(){var&nbsp;n,i=t.get(this.shimid);return&nbsp;i||(n=this.options.container?t.get(this.options.container):document.body,i=document.createElement("div"),i.id=this.shimid,i.className="moxie-shim&nbsp;moxie-shim-"+this.type,e.extend(i.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),n.appendChild(i),n=null),i},getShim:function(){return&nbsp;l},shimExec:function(e,t){var&nbsp;n=[].slice.call(arguments,2);return&nbsp;c.getShim().exec.call(this,this.uid,e,t,n)},exec:function(e,t){var&nbsp;n=[].slice.call(arguments,2);return&nbsp;c[e]&amp;&amp;c[e][t]?c[e][t].apply(this,n):c.shimExec.apply(this,arguments)},destroy:function(){if(c){var&nbsp;e=t.get(this.shimid);e&amp;&amp;e.parentNode.removeChild(e),l&amp;&amp;l.removeAllInstances(),this.unbindAll(),delete&nbsp;o[this.uid],this.uid=null,d=c=l=e=null}}}),this.mode&amp;&amp;n.required_caps&amp;&amp;!this.can(n.required_caps)&amp;&amp;(this.mode=!1)}var&nbsp;r={},o={};return&nbsp;i.order="html5,flash,silverlight,html4",i.getRuntime=function(e){return&nbsp;o[e]?o[e]:!1},i.addConstructor=function(e,t){t.prototype=n.instance,r[e]=t},i.getConstructor=function(e){return&nbsp;r[e]||null},i.getInfo=function(e){var&nbsp;t=i.getRuntime(e);return&nbsp;t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return&nbsp;t.can.apply(t,arguments)}}:null},i.parseCaps=function(t){var&nbsp;n={};return"string"!==e.typeOf(t)?t||{}:(e.each(t.split(","),function(e){n[e]=!0}),n)},i.can=function(e,t){var&nbsp;n,r=i.getConstructor(e),o;return&nbsp;r?(n=new&nbsp;r({required_caps:t}),o=n.mode,n.destroy(),!!o):!1},i.thatCan=function(e,t){var&nbsp;n=(t||i.order).split(/\s*,\s*/);for(var&nbsp;r&nbsp;in&nbsp;n)if(i.can(n[r],e))return&nbsp;n[r];return&nbsp;null},i.getMode=function(t,n,i){var&nbsp;r=null;if("undefined"===e.typeOf(i)&amp;&amp;(i="browser"),n&amp;&amp;!e.isEmptyObj(t)){if(e.each(n,function(n,i){if(t.hasOwnProperty(i)){var&nbsp;o=t[i](n);if("string"==typeof&nbsp;o&amp;&amp;(o=[o]),r){if(!(r=e.arrayIntersect(r,o)))return&nbsp;r=!1}else&nbsp;r=o}}),r)return-1!==e.inArray(i,r)?i:r[0];if(r===!1)return!1}return&nbsp;i},i.capTrue=function(){return!0},i.capFalse=function(){return!1},i.capTest=function(e){return&nbsp;function(){return!!e}},i}),i(v,[p,u,g],function(e,t,n){return&nbsp;function&nbsp;i(){var&nbsp;i;t.extend(this,{connectRuntime:function(r){function&nbsp;o(t){var&nbsp;s,u;return&nbsp;t.length?(s=t.shift(),(u=n.getConstructor(s))?(i=new&nbsp;u(r),i.bind("Init",function(){i.initialized=!0,setTimeout(function(){i.clients++,a.trigger("RuntimeInit",i)},1)}),i.bind("Error",function(){i.destroy(),o(t)}),i.mode?(i.init(),void&nbsp;0):(i.trigger("Error"),void&nbsp;0)):(o(t),void&nbsp;0)):(a.trigger("RuntimeError",new&nbsp;e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)),i=null,void&nbsp;0)}var&nbsp;a=this,s;if("string"===t.typeOf(r)?s=r:"string"===t.typeOf(r.ruid)&amp;&amp;(s=r.ruid),s){if(i=n.getRuntime(s))return&nbsp;i.clients++,i;throw&nbsp;new&nbsp;e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)}o((r.runtime_order||n.order).split(/\s*,\s*/))},getRuntime:function(){return&nbsp;i&amp;&amp;i.uid?i:(i=null,null)},disconnectRuntime:function(){i&amp;&amp;--i.clients&lt;=0&amp;&amp;(i.destroy(),i=null)}})}}),i(y,[u,m,v],function(e,t,n){function&nbsp;i(o,a){function&nbsp;s(t,n,o){var&nbsp;a,s=r[this.uid];return"string"===e.typeOf(s)&amp;&amp;s.length?(a=new&nbsp;i(null,{type:o,size:n-t}),a.detach(s.substr(t,a.size)),a):null}n.call(this),o&amp;&amp;this.connectRuntime(o),a?"string"===e.typeOf(a)&amp;&amp;(a={data:a}):a={},e.extend(this,{uid:a.uid||e.guid("uid_"),ruid:o,size:a.size||0,type:a.type||"",slice:function(e,t,n){return&nbsp;this.isDetached()?s.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,n)},getSource:function(){return&nbsp;r[this.uid]?r[this.uid]:null},detach:function(e){this.ruid&amp;&amp;(this.getRuntime().exec.call(this,"Blob","destroy",r[this.uid]),this.disconnectRuntime(),this.ruid=null),e=e||"";var&nbsp;n=e.match(/^data:([^;]*);base64,/);n&amp;&amp;(this.type=n[1],e=t.atob(e.substring(e.indexOf("base64,")+7))),this.size=e.length,r[this.uid]=e},isDetached:function(){return!this.ruid&amp;&amp;"string"===e.typeOf(r[this.uid])},destroy:function(){this.detach(),delete&nbsp;r[this.uid]}}),a.data?this.detach(a.data):r[this.uid]=a}var&nbsp;r={};return&nbsp;i}),i(w,[u,l,y],function(e,t,n){function&nbsp;i(i,r){var&nbsp;o,a;if(r||(r={}),a=r.type&amp;&amp;""!==r.type?r.type:t.getFileMime(r.name),r.name)o=r.name.replace(/\\/g,"/"),o=o.substr(o.lastIndexOf("/")+1);else{var&nbsp;s=a.split("/")[0];o=e.guid((""!==s?s:"file")+"_"),t.extensions[a]&amp;&amp;(o+="."+t.extensions[a][0])}n.apply(this,arguments),e.extend(this,{type:a||"",name:o||e.guid("file_"),lastModifiedDate:r.lastModifiedDate||(new&nbsp;Date).toLocaleString()})}return&nbsp;i.prototype=n.prototype,i}),i(E,[u,l,f,p,h,c,w,g,v],function(e,t,n,i,r,o,a,s,u){function&nbsp;c(r){var&nbsp;c=this,d,f,p;if(-1!==e.inArray(e.typeOf(r),["string","node"])&amp;&amp;(r={browse_button:r}),f=n.get(r.browse_button),!f)throw&nbsp;new&nbsp;i.DOMException(i.DOMException.NOT_FOUND_ERR);p={accept:[{title:o.translate("All&nbsp;Files"),extensions:"*"}],name:"file",multiple:!1,required_caps:!1,container:f.parentNode||document.body},r=e.extend({},p,r),"string"==typeof&nbsp;r.required_caps&amp;&amp;(r.required_caps=s.parseCaps(r.required_caps)),"string"==typeof&nbsp;r.accept&amp;&amp;(r.accept=t.mimes2extList(r.accept)),d=n.get(r.container),d||(d=document.body),"static"===n.getStyle(d,"position")&amp;&amp;(d.style.position="relative"),d=f=null,u.call(c),e.extend(c,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){c.convertEventPropsToHandlers(l),c.bind("RuntimeInit",function(t,i){c.ruid=i.uid,c.shimid=i.shimid,c.bind("Ready",function(){c.trigger("Refresh")},999),c.bind("Change",function(){var&nbsp;t=i.exec.call(c,"FileInput","getFiles");c.files=[],e.each(t,function(e){return&nbsp;0===e.size?!0:(c.files.push(new&nbsp;a(c.ruid,e)),void&nbsp;0)})},999),c.bind("Refresh",function(){var&nbsp;t,o,a,s;a=n.get(r.browse_button),s=n.get(i.shimid),a&amp;&amp;(t=n.getPos(a,n.get(r.container)),o=n.getSize(a),s&amp;&amp;e.extend(s.style,{top:t.y+"px",left:t.x+"px",width:o.w+"px",height:o.h+"px"})),s=a=null}),i.exec.call(c,"FileInput","init",r)}),c.connectRuntime(e.extend({},r,{required_caps:{select_file:!0}}))},disable:function(t){var&nbsp;n=this.getRuntime();n&amp;&amp;n.exec.call(this,"FileInput","disable","undefined"===e.typeOf(t)?!0:t)},refresh:function(){c.trigger("Refresh")},destroy:function(){var&nbsp;t=this.getRuntime();t&amp;&amp;(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&amp;&amp;e.each(this.files,function(e){e.destroy()}),this.files=null}})}var&nbsp;l=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return&nbsp;c.prototype=r.instance,c}),i(_,[c,f,p,u,w,v,h,l],function(e,t,n,i,r,o,a,s){function&nbsp;u(n){var&nbsp;a=this,u;"string"==typeof&nbsp;n&amp;&amp;(n={drop_zone:n}),u={accept:[{title:e.translate("All&nbsp;Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},n="object"==typeof&nbsp;n?i.extend({},u,n):u,n.container=t.get(n.drop_zone)||document.body,"static"===t.getStyle(n.container,"position")&amp;&amp;(n.container.style.position="relative"),"string"==typeof&nbsp;n.accept&amp;&amp;(n.accept=s.mimes2extList(n.accept)),o.call(a),i.extend(a,{uid:i.guid("uid_"),ruid:null,files:null,init:function(){a.convertEventPropsToHandlers(c),a.bind("RuntimeInit",function(e,t){a.ruid=t.uid,a.bind("Drop",function(){var&nbsp;e=t.exec.call(a,"FileDrop","getFiles");a.files=[],i.each(e,function(e){a.files.push(new&nbsp;r(a.ruid,e))})},999),t.exec.call(a,"FileDrop","init",n),a.dispatchEvent("ready")}),a.connectRuntime(n)},destroy:function(){var&nbsp;e=this.getRuntime();e&amp;&amp;(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null}})}var&nbsp;c=["ready","dragenter","dragleave","drop","error"];return&nbsp;u.prototype=a.instance,u}),i(x,[u,v,h],function(e,t,n){function&nbsp;i(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return&nbsp;i.prototype=n.instance,i}),i(R,[u,m,p,h,y,w,x],function(e,t,n,i,r,o,a){function&nbsp;s(){function&nbsp;i(e,i){function&nbsp;l(e){o.readyState=s.DONE,o.error=e,o.trigger("error"),d()}function&nbsp;d(){c.destroy(),c=null,o.trigger("loadend")}function&nbsp;f(t){c.bind("Error",function(e,t){l(t)}),c.bind("Progress",function(e){o.result=t.exec.call(c,"FileReader","getResult"),o.trigger(e)}),c.bind("Load",function(e){o.readyState=s.DONE,o.result=t.exec.call(c,"FileReader","getResult"),o.trigger(e),d()}),t.exec.call(c,"FileReader","read",e,i)}if(c=new&nbsp;a,this.convertEventPropsToHandlers(u),this.readyState===s.LOADING)return&nbsp;l(new&nbsp;n.DOMException(n.DOMException.INVALID_STATE_ERR));if(this.readyState=s.LOADING,this.trigger("loadstart"),i&nbsp;instanceof&nbsp;r)if(i.isDetached()){var&nbsp;p=i.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=p;break;case"readAsDataURL":this.result="data:"+i.type+";base64,"+t.btoa(p)}this.readyState=s.DONE,this.trigger("load"),d()}else&nbsp;f(c.connectRuntime(i.ruid));else&nbsp;l(new&nbsp;n.DOMException(n.DOMException.NOT_FOUND_ERR))}var&nbsp;o=this,c;e.extend(this,{uid:e.guid("uid_"),readyState:s.EMPTY,result:null,error:null,readAsBinaryString:function(e){i.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){i.call(this,"readAsDataURL",e)},readAsText:function(e){i.call(this,"readAsText",e)<a name="line_13"></a></li>
<li id="line_14" class="even"><span class="lineNumber">14&nbsp;</span>},abort:function(){this.result=null,-1===e.inArray(this.readyState,[s.EMPTY,s.DONE])&amp;&amp;(this.readyState===s.LOADING&amp;&amp;(this.readyState=s.DONE),c&amp;&amp;c.getRuntime().exec.call(this,"FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),c&amp;&amp;(c.getRuntime().exec.call(this,"FileReader","destroy"),c.disconnectRuntime()),o=c=null}})}var&nbsp;u=["loadstart","progress","load","abort","error","loadend"];return&nbsp;s.EMPTY=0,s.LOADING=1,s.DONE=2,s.prototype=i.instance,s}),i(b,[],function(){var&nbsp;e=function(t,n){for(var&nbsp;i=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],r=i.length,o={http:80,https:443},a={},s=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,u=s.exec(t||"");r--;)u[r]&amp;&amp;(a[i[r]]=u[r]);if(!a.scheme){n&amp;&amp;"string"!=typeof&nbsp;n||(n=e(n||document.location.href)),a.scheme=n.scheme,a.host=n.host,a.port=n.port;var&nbsp;c="";/^[^\/]/.test(a.path)&amp;&amp;(c=n.path,/(\/|\/[^\.]+)$/.test(c)?c+="/":c=c.replace(/\/[^\/]+$/,"/")),a.path=c+(a.path||"")}return&nbsp;a.port||(a.port=o[a.scheme]||80),a.port=parseInt(a.port,10),a.path||(a.path="/"),delete&nbsp;a.source,a},t=function(t){var&nbsp;n={http:80,https:443},i=e(t);return&nbsp;i.scheme+"://"+i.host+(i.port!==n[i.scheme]?":"+i.port:"")+i.path+(i.query?i.query:"")},n=function(t){function&nbsp;n(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof&nbsp;t&amp;&amp;(t=e(t)),n(e())===n(t)};return{parseUrl:e,resolveUrl:t,hasSameOrigin:n}}),i(T,[u,v,m],function(e,t,n){return&nbsp;function(){function&nbsp;i(e,t){if(!t.isDetached()){var&nbsp;i=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return&nbsp;this.disconnectRuntime(),i}var&nbsp;r=t.getSource();switch(e){case"readAsBinaryString":return&nbsp;r;case"readAsDataURL":return"data:"+t.type+";base64,"+n.btoa(r);case"readAsText":for(var&nbsp;o="",a=0,s=r.length;s&gt;a;a++)o+=String.fromCharCode(r[a]);return&nbsp;o}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return&nbsp;i.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return&nbsp;i.call(this,"readAsDataURL",e)},readAsText:function(e){return&nbsp;i.call(this,"readAsText",e)}})}}),i(S,[p,u,y],function(e,t,n){function&nbsp;i(){var&nbsp;e,i=[];t.extend(this,{append:function(r,o){var&nbsp;a=this,s=t.typeOf(o);o&nbsp;instanceof&nbsp;n?e={name:r,value:o}:"array"===s?(r+="[]",t.each(o,function(e){a.append(r,e)})):"object"===s?t.each(o,function(e,t){a.append(r+"["+t+"]",e)}):"null"===s||"undefined"===s||"number"===s&amp;&amp;isNaN(o)?a.append(r,"false"):i.push({name:r,value:o.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return&nbsp;e&amp;&amp;e.value||null},getBlobName:function(){return&nbsp;e&amp;&amp;e.name||null},each:function(n){t.each(i,function(e){n(e.value,e.name)}),e&amp;&amp;n(e.value,e.name)},destroy:function(){e=null,i=[]}})}return&nbsp;i}),i(A,[u,p,h,m,b,g,x,y,T,S,d,l],function(e,t,n,i,r,o,a,s,u,c,l,d){function&nbsp;f(){this.uid=e.guid("uid_")}function&nbsp;p(){function&nbsp;n(e,t){return&nbsp;y.hasOwnProperty(e)?1===arguments.length?l.can("define_property")?y[e]:v[e]:(l.can("define_property")?y[e]=t:v[e]=t,void&nbsp;0):void&nbsp;0}function&nbsp;u(t){function&nbsp;i(){k.destroy(),k=null,s.dispatchEvent("loadend"),s=null}function&nbsp;r(r){k.bind("LoadStart",function(e){n("readyState",p.LOADING),s.dispatchEvent("readystatechange"),s.dispatchEvent(e),I&amp;&amp;s.upload.dispatchEvent(e)}),k.bind("Progress",function(e){n("readyState")!==p.LOADING&amp;&amp;(n("readyState",p.LOADING),s.dispatchEvent("readystatechange")),s.dispatchEvent(e)}),k.bind("UploadProgress",function(e){I&amp;&amp;s.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),k.bind("Load",function(t){n("readyState",p.DONE),n("status",Number(r.exec.call(k,"XMLHttpRequest","getStatus")||0)),n("statusText",h[n("status")]||""),n("response",r.exec.call(k,"XMLHttpRequest","getResponse",n("responseType"))),~e.inArray(n("responseType"),["text",""])?n("responseText",n("response")):"document"===n("responseType")&amp;&amp;n("responseXML",n("response")),U=r.exec.call(k,"XMLHttpRequest","getAllResponseHeaders"),s.dispatchEvent("readystatechange"),n("status")&gt;0?(I&amp;&amp;s.upload.dispatchEvent(t),s.dispatchEvent(t)):(N=!0,s.dispatchEvent("error")),i()}),k.bind("Abort",function(e){s.dispatchEvent(e),i()}),k.bind("Error",function(e){N=!0,n("readyState",p.DONE),s.dispatchEvent("readystatechange"),D=!0,s.dispatchEvent(e),i()}),r.exec.call(k,"XMLHttpRequest","send",{url:E,method:_,async:w,user:R,password:b,headers:x,mimeType:S,encoding:T,responseType:s.responseType,withCredentials:s.withCredentials,options:P},t)}var&nbsp;s=this;M=(new&nbsp;Date).getTime(),k=new&nbsp;a,"string"==typeof&nbsp;P.required_caps&amp;&amp;(P.required_caps=o.parseCaps(P.required_caps)),P.required_caps=e.extend({},P.required_caps,{return_response_type:s.responseType}),t&nbsp;instanceof&nbsp;c&amp;&amp;(P.required_caps.send_multipart=!0),L||(P.required_caps.do_cors=!0),P.ruid?r(k.connectRuntime(P)):(k.bind("RuntimeInit",function(e,t){r(t)}),k.bind("RuntimeError",function(e,t){s.dispatchEvent("RuntimeError",t)}),k.connectRuntime(P))}function&nbsp;g(){n("responseText",""),n("responseXML",null),n("response",null),n("status",0),n("statusText",""),M=C=null}var&nbsp;v=this,y={timeout:0,readyState:p.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},w=!0,E,_,x={},R,b,T=null,S=null,A=!1,O=!1,I=!1,D=!1,N=!1,L=!1,M,C,F=null,H=null,P={},k,U="",B;e.extend(this,y,{uid:e.guid("uid_"),upload:new&nbsp;f,open:function(o,a,s,u,c){var&nbsp;l;if(!o||!a)throw&nbsp;new&nbsp;t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(o)||i.utf8_encode(o)!==o)throw&nbsp;new&nbsp;t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(o.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&amp;&amp;(_=o.toUpperCase()),~e.inArray(_,["CONNECT","TRACE","TRACK"]))throw&nbsp;new&nbsp;t.DOMException(t.DOMException.SECURITY_ERR);if(a=i.utf8_encode(a),l=r.parseUrl(a),L=r.hasSameOrigin(l),E=r.resolveUrl(a),(u||c)&amp;&amp;!L)throw&nbsp;new&nbsp;t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(R=u||l.user,b=c||l.pass,w=s||!0,w===!1&amp;&amp;(n("timeout")||n("withCredentials")||""!==n("responseType")))throw&nbsp;new&nbsp;t.DOMException(t.DOMException.INVALID_ACCESS_ERR);A=!w,O=!1,x={},g.call(this),n("readyState",p.OPENED),this.convertEventPropsToHandlers(["readystatechange"]),this.dispatchEvent("readystatechange")},setRequestHeader:function(r,o){var&nbsp;a=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(n("readyState")!==p.OPENED||O)throw&nbsp;new&nbsp;t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(r)||i.utf8_encode(r)!==r)throw&nbsp;new&nbsp;t.DOMException(t.DOMException.SYNTAX_ERR);return&nbsp;r=e.trim(r).toLowerCase(),~e.inArray(r,a)||/^(proxy\-|sec\-)/.test(r)?!1:(x[r]?x[r]+=",&nbsp;"+o:x[r]=o,!0)},getAllResponseHeaders:function(){return&nbsp;U||""},getResponseHeader:function(t){return&nbsp;t=t.toLowerCase(),N||~e.inArray(t,["set-cookie","set-cookie2"])?null:U&amp;&amp;""!==U&amp;&amp;(B||(B={},e.each(U.split(/\r\n/),function(t){var&nbsp;n=t.split(/:\s+/);2===n.length&amp;&amp;(n[0]=e.trim(n[0]),B[n[0].toLowerCase()]={header:n[0],value:e.trim(n[1])})})),B.hasOwnProperty(t))?B[t].header+":&nbsp;"+B[t].value:null},overrideMimeType:function(i){var&nbsp;r,o;if(~e.inArray(n("readyState"),[p.LOADING,p.DONE]))throw&nbsp;new&nbsp;t.DOMException(t.DOMException.INVALID_STATE_ERR);if(i=e.trim(i.toLowerCase()),/;/.test(i)&amp;&amp;(r=i.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&amp;&amp;(i=r[1],r[2]&amp;&amp;(o=r[2])),!d.mimes[i])throw&nbsp;new&nbsp;t.DOMException(t.DOMException.SYNTAX_ERR);F=i,H=o},send:function(n,r){if(P="string"===e.typeOf(r)?{ruid:r}:r?r:{},this.convertEventPropsToHandlers(m),this.upload.convertEventPropsToHandlers(m),this.readyState!==p.OPENED||O)throw&nbsp;new&nbsp;t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n&nbsp;instanceof&nbsp;s)P.ruid=n.ruid,S=n.type||"application/octet-stream";else&nbsp;if(n&nbsp;instanceof&nbsp;c){if(n.hasBlob()){var&nbsp;o=n.getBlob();P.ruid=o.ruid,S=o.type||"application/octet-stream"}}else"string"==typeof&nbsp;n&amp;&amp;(T="UTF-8",S="text/plain;charset=UTF-8",n=i.utf8_encode(n));this.withCredentials||(this.withCredentials=P.required_caps&amp;&amp;P.required_caps.send_browser_cookies&amp;&amp;!L),I=!A&amp;&amp;this.upload.hasEventListener(),N=!1,D=!n,A||(O=!0),u.call(this,n)},abort:function(){if(N=!0,A=!1,~e.inArray(n("readyState"),[p.UNSENT,p.OPENED,p.DONE]))n("readyState",p.UNSENT);else{if(n("readyState",p.DONE),O=!1,!k)throw&nbsp;new&nbsp;t.DOMException(t.DOMException.INVALID_STATE_ERR);k.getRuntime().exec.call(k,"XMLHttpRequest","abort",D),D=!0}},destroy:function(){k&amp;&amp;("function"===e.typeOf(k.destroy)&amp;&amp;k.destroy(),k=null),this.unbindAll(),this.upload&amp;&amp;(this.upload.unbindAll(),this.upload=null)}})}var&nbsp;h={100:"Continue",101:"Switching&nbsp;Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative&nbsp;Information",204:"No&nbsp;Content",205:"Reset&nbsp;Content",206:"Partial&nbsp;Content",207:"Multi-Status",226:"IM&nbsp;Used",300:"Multiple&nbsp;Choices",301:"Moved&nbsp;Permanently",302:"Found",303:"See&nbsp;Other",304:"Not&nbsp;Modified",305:"Use&nbsp;Proxy",306:"Reserved",307:"Temporary&nbsp;Redirect",400:"Bad&nbsp;Request",401:"Unauthorized",402:"Payment&nbsp;Required",403:"Forbidden",404:"Not&nbsp;Found",405:"Method&nbsp;Not&nbsp;Allowed",406:"Not&nbsp;Acceptable",407:"Proxy&nbsp;Authentication&nbsp;Required",408:"Request&nbsp;Timeout",409:"Conflict",410:"Gone",411:"Length&nbsp;Required",412:"Precondition&nbsp;Failed",413:"Request&nbsp;Entity&nbsp;Too&nbsp;Large",414:"Request-URI&nbsp;Too&nbsp;Long",415:"Unsupported&nbsp;Media&nbsp;Type",416:"Requested&nbsp;Range&nbsp;Not&nbsp;Satisfiable",417:"Expectation&nbsp;Failed",422:"Unprocessable&nbsp;Entity",423:"Locked",424:"Failed&nbsp;Dependency",426:"Upgrade&nbsp;Required",500:"Internal&nbsp;Server&nbsp;Error",501:"Not&nbsp;Implemented",502:"Bad&nbsp;Gateway",503:"Service&nbsp;Unavailable",504:"Gateway&nbsp;Timeout",505:"HTTP&nbsp;Version&nbsp;Not&nbsp;Supported",506:"Variant&nbsp;Also&nbsp;Negotiates",507:"Insufficient&nbsp;Storage",510:"Not&nbsp;Extended"};f.prototype=n.instance;var&nbsp;m=["loadstart","progress","abort","error","load","timeout","loadend"],g=1,v=2;return&nbsp;p.UNSENT=0,p.OPENED=1,p.HEADERS_RECEIVED=2,p.LOADING=3,p.DONE=4,p.prototype=n.instance,p}),i(O,[u,m,v,h],function(e,t,n,i){function&nbsp;r(){function&nbsp;i(){l=d=0,c=this.result=null}function&nbsp;o(t,n){var&nbsp;i=this;u=n,i.bind("TransportingProgress",function(t){d=t.loaded,l&gt;d&amp;&amp;-1===e.inArray(i.state,[r.IDLE,r.DONE])&amp;&amp;a.call(i)},999),i.bind("TransportingComplete",function(){d=l,i.state=r.DONE,c=null,i.result=u.exec.call(i,"Transporter","getAsBlob",t||"")},999),i.state=r.BUSY,i.trigger("TransportingStarted"),a.call(i)}function&nbsp;a(){var&nbsp;e=this,n,i=l-d;f&gt;i&amp;&amp;(f=i),n=t.btoa(c.substr(d,f)),u.exec.call(e,"Transporter","receive",n,l)}var&nbsp;s,u,c,l,d,f;n.call(this),e.extend(this,{uid:e.guid("uid_"),state:r.IDLE,result:null,transport:function(t,n,r){var&nbsp;a=this;if(r=e.extend({chunk_size:204798},r),(s=r.chunk_size%3)&amp;&amp;(r.chunk_size+=3-s),f=r.chunk_size,i.call(this),c=t,l=t.length,"string"===e.typeOf(r)||r.ruid)o.call(a,n,this.connectRuntime(r));else{var&nbsp;u=function(e,t){a.unbind("RuntimeInit",u),o.call(a,n,t)};this.bind("RuntimeInit",u),this.connectRuntime(r)}},abort:function(){var&nbsp;e=this;e.state=r.IDLE,u&amp;&amp;(u.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),i.call(e)},destroy:function(){this.unbindAll(),u=null,this.disconnectRuntime(),i.call(this)}})}return&nbsp;r.IDLE=0,r.BUSY=1,r.DONE=2,r.prototype=i.instance,r}),i(I,[u,f,p,T,A,g,v,O,d,h,y,w,m],function(e,t,n,i,r,o,a,s,u,c,l,d,f){function&nbsp;p(){function&nbsp;i(e){e||(e=this.getRuntime().exec.call(this,"Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&amp;&amp;(this.name=e.name)}function&nbsp;c(t){var&nbsp;i=e.typeOf(t);try{if(t&nbsp;instanceof&nbsp;p){if(!t.size)throw&nbsp;new&nbsp;n.DOMException(n.DOMException.INVALID_STATE_ERR);m.apply(this,arguments)}else&nbsp;if(t&nbsp;instanceof&nbsp;l){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw&nbsp;new&nbsp;n.ImageError(n.ImageError.WRONG_FORMAT);g.apply(this,arguments)}else&nbsp;if(-1!==e.inArray(i,["blob","file"]))c.call(this,new&nbsp;d(null,t),arguments[1]);else&nbsp;if("string"===i)/^data:[^;]*;base64,/.test(t)?c.call(this,new&nbsp;l(null,{data:t}),arguments[1]):v.apply(this,arguments);else{if("node"!==i||"img"!==t.nodeName.toLowerCase())throw&nbsp;new&nbsp;n.DOMException(n.DOMException.TYPE_MISMATCH_ERR);c.call(this,t.src,arguments[1])}}catch(r){this.trigger("error",r)}}function&nbsp;m(t,n){var&nbsp;i=this.connectRuntime(t.ruid);this.ruid=i.uid,i.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(n)?!0:n)}function&nbsp;g(t,n){function&nbsp;i(e){r.ruid=e.uid,e.exec.call(r,"Image","loadFromBlob",t)}var&nbsp;r=this;r.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){i(t)}),n&amp;&amp;"string"==typeof&nbsp;n.required_caps&amp;&amp;(n.required_caps=o.parseCaps(n.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},n))):i(this.connectRuntime(t.ruid))}function&nbsp;v(e,t){var&nbsp;n=this,i;i=new&nbsp;r,i.open("get",e),i.responseType="blob",i.onprogress=function(e){n.trigger(e)},i.onload=function(){g.call(n,i.response,!0)},i.onerror=function(e){n.trigger(e)},i.onloadend=function(){i.destroy()},i.bind("RuntimeError",function(e,t){n.trigger("RuntimeError",t)}),i.send(null,t)}a.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){this.bind("Load&nbsp;Resize",function(){i.call(this)},999),this.convertEventPropsToHandlers(h),c.apply(this,arguments)},downsize:function(t,i,r,o){try{if(!this.size)throw&nbsp;new&nbsp;n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width&gt;p.MAX_RESIZE_WIDTH||this.height&gt;p.MAX_RESIZE_HEIGHT)throw&nbsp;new&nbsp;n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);(!t&amp;&amp;!i||"undefined"===e.typeOf(r))&amp;&amp;(r=!1),t=t||this.width,i=i||this.height,o="undefined"===e.typeOf(o)?!0:!!o,this.getRuntime().exec.call(this,"Image","downsize",t,i,r,o)}catch(a){this.trigger("error",a)}},crop:function(e,t,n){this.downsize(e,t,!0,n)},getAsCanvas:function(){if(!u.can("create_canvas"))throw&nbsp;new&nbsp;n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);var&nbsp;e=this.connectRuntime(this.ruid);return&nbsp;e.exec.call(this,"Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw&nbsp;new&nbsp;n.DOMException(n.DOMException.INVALID_STATE_ERR);return&nbsp;e||(e="image/jpeg"),"image/jpeg"!==e||t||(t=90),this.getRuntime().exec.call(this,"Image","getAsBlob",e,t)},getAsDataURL:function(e,t){if(!this.size)throw&nbsp;new&nbsp;n.DOMException(n.DOMException.INVALID_STATE_ERR);return&nbsp;this.getRuntime().exec.call(this,"Image","getAsDataURL",e,t)},getAsBinaryString:function(e,t){var&nbsp;n=this.getAsDataURL(e,t);return&nbsp;f.atob(n.substring(n.indexOf("base64,")+7))},embed:function(i){function&nbsp;r(){if(u.can("create_canvas")){var&nbsp;t=a.getAsCanvas();if(t)return&nbsp;i.appendChild(t),t=null,a.destroy(),o.trigger("embedded"),void&nbsp;0}var&nbsp;r=a.getAsDataURL(c,l);if(!r)throw&nbsp;new&nbsp;n.ImageError(n.ImageError.WRONG_FORMAT);if(u.can("use_data_uri_of",r.length))i.innerHTML='&lt;img&nbsp;src="'+r+'"&nbsp;width="'+a.width+'"&nbsp;height="'+a.height+'"&nbsp;/&gt;',a.destroy(),o.trigger("embedded");else{var&nbsp;d=new&nbsp;s;d.bind("TransportingComplete",function(){v=o.connectRuntime(this.result.ruid),o.bind("Embedded",function(){e.extend(v.getShimContainer().style,{top:"0px",left:"0px",width:a.width+"px",height:a.height+"px"}),v=null},999),v.exec.call(o,"ImageView","display",this.result.uid,m,g),a.destroy()}),d.transport(f.atob(r.substring(r.indexOf("base64,")+7)),c,e.extend({},h,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:i}))}}var&nbsp;o=this,a,c,l,d,h=arguments[1]||{},m=this.width,g=this.height,v;try{if(!(i=t.get(i)))throw&nbsp;new&nbsp;n.DOMException(n.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw&nbsp;new&nbsp;n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width&gt;p.MAX_RESIZE_WIDTH||this.height&gt;p.MAX_RESIZE_HEIGHT)throw&nbsp;new&nbsp;n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);if(c=h.type||this.type||"image/jpeg",l=h.quality||90,d="undefined"!==e.typeOf(h.crop)?h.crop:!1,h.width)m=h.width,g=h.height||m;else{var&nbsp;y=t.getSize(i);y.w&amp;&amp;y.h&amp;&amp;(m=y.w,g=y.h)}return&nbsp;a=new&nbsp;p,a.bind("Resize",function(){r.call(o)}),a.bind("Load",function(){a.downsize(m,g,d,!1)}),a.clone(this,!1),a}catch(w){this.trigger("error",w)}},destroy:function(){this.ruid&amp;&amp;(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.unbindAll()}})}var&nbsp;h=["progress","load","error","resize","embedded"];return&nbsp;p.MAX_RESIZE_WIDTH=6500,p.MAX_RESIZE_HEIGHT=6500,p.prototype=c.instance,p}),i(D,[u,p,g,d],function(e,t,n,i){function&nbsp;r(t){var&nbsp;r=this,s=n.capTest,u=n.capTrue,c=e.extend({access_binary:s(window.FileReader||window.File&amp;&amp;window.File.getAsDataURL),access_image_binary:function(){return&nbsp;r.can("access_binary")&amp;&amp;!!a.Image},display_media:s(i.can("create_canvas")||i.can("use_data_uri_over32kb")),do_cors:s(window.XMLHttpRequest&amp;&amp;"withCredentials"in&nbsp;new&nbsp;XMLHttpRequest),drag_and_drop:s(function(){var&nbsp;e=document.createElement("div");return("draggable"in&nbsp;e||"ondragstart"in&nbsp;e&amp;&amp;"ondrop"in&nbsp;e)&amp;&amp;("IE"!==i.browser||i.version&gt;9)}()),filter_by_extension:s(function(){return"Chrome"===i.browser&amp;&amp;i.version&gt;=28||"IE"===i.browser&amp;&amp;i.version&gt;=10}()),return_response_headers:u,return_response_type:function(e){return"json"===e&amp;&amp;window.JSON?!0:i.can("return_response_type",e)},return_status_code:u,report_upload_progress:s(window.XMLHttpRequest&amp;&amp;(new&nbsp;XMLHttpRequest).upload),resize_image:function(){return&nbsp;r.can("access_binary")&amp;&amp;i.can("create_canvas")},select_file:function(){return&nbsp;i.can("use_fileinput")&amp;&amp;window.File},select_folder:function(){return&nbsp;r.can("select_file")&amp;&amp;"Chrome"===i.browser&amp;&amp;i.version&gt;=21},select_multiple:function(){return!(!r.can("select_file")||"Safari"===i.browser&amp;&amp;"Windows"===i.os||"iOS"===i.os&amp;&amp;i.verComp(i.osVersion,"7.0.4","&lt;"))},send_binary_string:s(window.XMLHttpRequest&amp;&amp;((new&nbsp;XMLHttpRequest).sendAsBinary||window.Uint8Array&amp;&amp;window.ArrayBuffer)),send_custom_headers:s(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&amp;&amp;(new&nbsp;XMLHttpRequest).upload&amp;&amp;window.FormData)||r.can("send_binary_string")},slice_blob:s(window.File&amp;&amp;(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return&nbsp;r.can("slice_blob")&amp;&amp;r.can("send_multipart")},summon_file_dialog:s(function(){return"Firefox"===i.browser&amp;&amp;i.version&gt;=4||"Opera"===i.browser&amp;&amp;i.version&gt;=12||"IE"===i.browser&amp;&amp;i.version&gt;=10||!!~e.inArray(i.browser,["Chrome","Safari"])}()),upload_filesize:u},arguments[2]);n.call(this,t,arguments[1]||o,c),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return&nbsp;function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),a)}var&nbsp;o="html5",a={};return&nbsp;n.addConstructor(o,r),a}),i(N,[D,y],function(e,t){function&nbsp;n(){function&nbsp;e(e,t,n){var&nbsp;i;if(!window.File.prototype.slice)return(i=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?i.call(e,t,n):null;try{return&nbsp;e.slice(),e.slice(t,n)}catch(r){return&nbsp;e.slice(t,n-t)}}this.slice=function(){return&nbsp;new&nbsp;t(this.getRuntime().uid,e.apply(this,arguments))}}return&nbsp;e.Blob=n}),i(L,[u],function(e){function&nbsp;t(){this.returnValue=!1}function&nbsp;n(){this.cancelBubble=!0}var&nbsp;i={},r="moxie_"+e.guid(),o=function(o,a,s,u){var&nbsp;c,l;a=a.toLowerCase(),o.addEventListener?(c=s,o.addEventListener(a,c,!1)):o.attachEvent&amp;&amp;(c=function(){var&nbsp;e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=n,s(e)},o.attachEvent("on"+a,c)),o[r]||(o[r]=e.guid()),i.hasOwnProperty(o[r])||(i[o[r]]={}),l=i[o[r]],l.hasOwnProperty(a)||(l[a]=[]),l[a].push({func:c,orig:s,key:u})},a=function(t,n,o){var&nbsp;a,s;if(n=n.toLowerCase(),t[r]&amp;&amp;i[t[r]]&amp;&amp;i[t[r]][n]){a=i[t[r]][n];for(var&nbsp;u=a.length-1;u&gt;=0&amp;&amp;(a[u].orig!==o&amp;&amp;a[u].key!==o||(t.removeEventListener?t.removeEventListener(n,a[u].func,!1):t.detachEvent&amp;&amp;t.detachEvent("on"+n,a[u].func),a[u].orig=null,a[u].func=null,a.splice(u,1),o===s));u--);if(a.length||delete&nbsp;i[t[r]][n],e.isEmptyObj(i[t[r]])){delete&nbsp;i[t[r]];try{delete&nbsp;t[r]}catch(c){t[r]=s}}}},s=function(t,n){t&amp;&amp;t[r]&amp;&amp;e.each(i[t[r]],function(e,i){a(t,i,n)})};return{addEvent:o,removeEvent:a,removeAllEvents:s}}),i(M,[D,u,f,L,l,d],function(e,t,n,i,r,o){function&nbsp;a(){var&nbsp;e=[],a;t.extend(this,{init:function(s){var&nbsp;u=this,c=u.getRuntime(),l,d,f,p,h,m;a=s,e=[],f=a.accept.mimes||r.extList2mimes(a.accept,c.can("filter_by_extension")),d=c.getShimContainer(),d.innerHTML='&lt;input&nbsp;id="'+c.uid+'"&nbsp;type="file"&nbsp;style="font-size:999px;opacity:0;"'+(a.multiple&amp;&amp;c.can("select_multiple")?"multiple":"")+(a.directory&amp;&amp;c.can("select_folder")?"webkitdirectory&nbsp;directory":"")+(f?'&nbsp;accept="'+f.join(",")+'"':"")+"&nbsp;/&gt;",l=n.get(c.uid),t.extend(l.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),p=n.get(a.browse_button),c.can("summon_file_dialog")&amp;&amp;("static"===n.getStyle(p,"position")&amp;&amp;(p.style.position="relative"),h=parseInt(n.getStyle(p,"z-index"),10)||1,p.style.zIndex=h,d.style.zIndex=h-1,i.addEvent(p,"click",function(e){var&nbsp;t=n.get(c.uid);t&amp;&amp;!t.disabled&amp;&amp;t.click(),e.preventDefault()},u.uid)),m=c.can("summon_file_dialog")?p:d,i.addEvent(m,"mouseover",function(){u.trigger("mouseenter")},u.uid),i.addEvent(m,"mouseout",function(){u.trigger("mouseleave")},u.uid),i.addEvent(m,"mousedown",function(){u.trigger("mousedown")},u.uid),i.addEvent(n.get(a.container),"mouseup",function(){u.trigger("mouseup")},u.uid),l.onchange=function&nbsp;g(){if(e=[],a.directory?t.each(this.files,function(t){"."!==t.name&amp;&amp;e.push(t)}):e=[].slice.call(this.files),"IE"!==o.browser)this.value="";else{var&nbsp;n=this.cloneNode(!0);this.parentNode.replaceChild(n,this),n.onchange=g}u.trigger("change")},u.trigger({type:"ready",async:!0}),d=null},getFiles:function(){return&nbsp;e},disable:function(e){var&nbsp;t=this.getRuntime(),i;(i=n.get(t.uid))&amp;&amp;(i.disabled=!!e)},destroy:function(){var&nbsp;t=this.getRuntime(),r=t.getShim(),o=t.getShimContainer();i.removeAllEvents(o,this.uid),i.removeAllEvents(a&amp;&amp;n.get(a.container),this.uid),i.removeAllEvents(a&amp;&amp;n.get(a.browse_button),this.uid),o&amp;&amp;(o.innerHTML=""),r.removeInstance(this.uid),e=a=o=r=null}})}return&nbsp;e.FileInput=a}),i(C,[D,u,f,L,l],function(e,t,n,i,r){function&nbsp;o(){function&nbsp;e(e){for(var&nbsp;n=[],i=0;i&lt;e.length;i++)[].push.apply(n,e[i].extensions.split(/\s*,\s*/));return-1===t.inArray("*",n)?n:[]}function&nbsp;o(e){var&nbsp;n=r.getFileExtension(e.name);return!n||!d.length||-1!==t.inArray(n,d)}function&nbsp;a(e,n){var&nbsp;i=[];t.each(e,function(e){var&nbsp;t=e.webkitGetAsEntry();if(t)if(t.isFile){var&nbsp;n=e.getAsFile();o(n)&amp;&amp;l.push(n)}else&nbsp;i.push(t)}),i.length?s(i,n):n()}function&nbsp;s(e,n){var&nbsp;i=[];t.each(e,function(e){i.push(function(t){u(e,t)})}),t.inSeries(i,function(){n()})}function&nbsp;u(e,t){e.isFile?e.file(function(e){o(e)&amp;&amp;l.push(e),t()},function(){t()}):e.isDirectory?c(e,t):t()}function&nbsp;c(e,t){function&nbsp;n(e){r.readEntries(function(t){t.length?([].push.apply(i,t),n(e)):e()},e)}var&nbsp;i=[],r=e.createReader();n(function(){s(i,t)})}var&nbsp;l=[],d=[],f;t.extend(this,{init:function(n){var&nbsp;r=this,s;f=n,d=e(f.accept),s=f.container,i.addEvent(s,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},r.uid),i.addEvent(s,"drop",function(e){e.preventDefault(),e.stopPropagation(),l=[],e.dataTransfer.items&amp;&amp;e.dataTransfer.items[0].webkitGetAsEntry?a(e.dataTransfer.items,function(){r.trigger("drop")}):(t.each(e.dataTransfer.files,function(e){o(e)&amp;&amp;l.push(e)}),r.trigger("drop"))},r.uid),i.addEvent(s,"dragenter",function(e){e.preventDefault(),e.stopPropagation(),r.trigger("dragenter")},r.uid),i.addEvent(s,"dragleave",function(e){e.preventDefault(),e.stopPropagation(),r.trigger("dragleave")},r.uid)},getFiles:function(){return&nbsp;l},destroy:function(){i.removeAllEvents(f&amp;&amp;n.get(f.container),this.uid),l=d=f=null}})}return&nbsp;e.FileDrop=o}),i(F,[D,m,u],function(e,t,n){function&nbsp;i(){function&nbsp;e(e){return&nbsp;t.atob(e.substring(e.indexOf("base64,")+7))}var&nbsp;i,r=!1;n.extend(this,{read:function(e,t){var&nbsp;o=this;i=new&nbsp;window.FileReader,i.addEventListener("progress",function(e){o.trigger(e)}),i.addEventListener("load",function(e){o.trigger(e)}),i.addEventListener("error",function(e){o.trigger(e,i.error)}),i.addEventListener("loadend",function(){i=null}),"function"===n.typeOf(i[e])?(r=!1,i[e](t.getSource())):"readAsBinaryString"===e&amp;&amp;(r=!0,i.readAsDataURL(t.getSource()))},getResult:function(){return&nbsp;i&amp;&amp;i.result?r?e(i.result):i.result:null},abort:function(){i&amp;&amp;i.abort()},destroy:function(){i=null}})}return&nbsp;e.FileReader=i}),i(H,[D,u,l,b,w,y,S,p,d],function(e,t,n,i,r,o,a,s,u){function&nbsp;c(){function&nbsp;e(e,t){var&nbsp;n=this,i,r;i=t.getBlob().getSource(),r=new&nbsp;window.FileReader,r.onload=function(){t.append(t.getBlobName(),new&nbsp;o(null,{type:i.type,data:r.result})),f.send.call(n,e,t)},r.readAsBinaryString(i)}function&nbsp;c(){return!window.XMLHttpRequest||"IE"===u.browser&amp;&amp;u.version&lt;8?function(){for(var&nbsp;e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t&lt;e.length;t++)try{return&nbsp;new&nbsp;ActiveXObject(e[t])}catch(n){}}():new&nbsp;window.XMLHttpRequest}function&nbsp;l(e){var&nbsp;t=e.responseXML,n=e.responseText;return"IE"===u.browser&amp;&amp;n&amp;&amp;t&amp;&amp;!t.documentElement&amp;&amp;/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&amp;&amp;(t=new&nbsp;window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.validateOnParse=!1,t.loadXML(n)),t&amp;&amp;("IE"===u.browser&amp;&amp;0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}function&nbsp;d(e){var&nbsp;t="----moxieboundary"+(new&nbsp;Date).getTime(),n="--",i="\r\n",r="",a=this.getRuntime();if(!a.can("send_binary_string"))throw&nbsp;new&nbsp;s.RuntimeError(s.RuntimeError.NOT_SUPPORTED_ERR);return&nbsp;p.setRequestHeader("Content-Type","multipart/form-data;&nbsp;boundary="+t),e.each(function(e,a){r+=e&nbsp;instanceof&nbsp;o?n+t+i+'Content-Disposition:&nbsp;form-data;&nbsp;name="'+a+'";&nbsp;filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+i+"Content-Type:&nbsp;"+(e.type||"application/octet-stream")+i+i+e.getSource()+i:n+t+i+'Content-Disposition:&nbsp;form-data;&nbsp;name="'+a+'"'+i+i+unescape(encodeURIComponent(e))+i}),r+=n+t+n+i}var&nbsp;f=this,p,h;t.extend(this,{send:function(n,r){var&nbsp;s=this,l="Mozilla"===u.browser&amp;&amp;u.version&gt;=4&amp;&amp;u.version&lt;7,f="Android&nbsp;Browser"===u.browser,m=!1;if(h=n.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),p=c(),p.open(n.method,n.url,n.async,n.user,n.password),r&nbsp;instanceof&nbsp;o)r.isDetached()&amp;&amp;(m=!0),r=r.getSource();else&nbsp;if(r&nbsp;instanceof&nbsp;a){if(r.hasBlob())if(r.getBlob().isDetached())r=d.call(s,r),m=!0;else&nbsp;if((l||f)&amp;&amp;"blob"===t.typeOf(r.getBlob().getSource())&amp;&amp;window.FileReader)return&nbsp;e.call(s,n,r),void&nbsp;0;if(r&nbsp;instanceof&nbsp;a){var&nbsp;g=new&nbsp;window.FormData;r.each(function(e,t){e&nbsp;instanceof&nbsp;o?g.append(t,e.getSource()):g.append(t,e)}),r=g}}p.upload?(n.withCredentials&amp;&amp;(p.withCredentials=!0),p.addEventListener("load",function(e){s.trigger(e)}),p.addEventListener("error",function(e){s.trigger(e)}),p.addEventListener("progress",function(e){s.trigger(e)}),p.upload.addEventListener("progress",function(e){s.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):p.onreadystatechange=function&nbsp;v(){switch(p.readyState){case&nbsp;1:break;case&nbsp;2:break;case&nbsp;3:var&nbsp;e,t;try{i.hasSameOrigin(n.url)&amp;&amp;(e=p.getResponseHeader("Content-Length")||0),p.responseText&amp;&amp;(t=p.responseText.length)}catch(r){e=t=0}s.trigger({type:"progress",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case&nbsp;4:p.onreadystatechange=function(){},0===p.status?s.trigger("error"):s.trigger("load")}},t.isEmptyObj(n.headers)||t.each(n.headers,function(e,t){p.setRequestHeader(t,e)}),""!==n.responseType&amp;&amp;"responseType"in&nbsp;p&amp;&amp;(p.responseType="json"!==n.responseType||u.can("return_response_type","json")?n.responseType:"text"),m?p.sendAsBinary?p.sendAsBinary(r):function(){for(var&nbsp;e=new&nbsp;Uint8Array(r.length),t=0;t&lt;r.length;t++)e[t]=255&amp;r.charCodeAt(t);p.send(e.buffer)}():p.send(r),s.trigger("loadstart")},getStatus:function(){try{if(p)return&nbsp;p.status}catch(e){}return&nbsp;0},getResponse:function(e){var&nbsp;t=this.getRuntime();try{switch(e){case"blob":var&nbsp;i=new&nbsp;r(t.uid,p.response),o=p.getResponseHeader("Content-Disposition");if(o){var&nbsp;a=o.match(/filename=([\'\"'])([^\1]+)\1/);a&amp;&amp;(h=a[2])}return&nbsp;i.name=h,i.type||(i.type=n.getFileMime(h)),i;case"json":return&nbsp;u.can("return_response_type","json")?p.response:200===p.status&amp;&amp;window.JSON?JSON.parse(p.responseText):null;case"document":return&nbsp;l(p);default:return""!==p.responseText?p.responseText:null}}catch(s){return&nbsp;null}},getAllResponseHeaders:function(){try{return&nbsp;p.getAllResponseHeaders()}catch(e){}return""},abort:function(){p&amp;&amp;p.abort()},destroy:function(){f=h=null}})}return&nbsp;e.XMLHttpRequest=c}),i(P,[],function(){return&nbsp;function(){function&nbsp;e(e,t){var&nbsp;n=r?0:-8*(t-1),i=0,a;for(a=0;t&gt;a;a++)i|=o.charCodeAt(e+a)&lt;&lt;Math.abs(n+8*a);return&nbsp;i}function&nbsp;n(e,t,n){n=3===arguments.length?n:o.length-t-1,o=o.substr(0,t)+e+o.substr(n+t)}function&nbsp;i(e,t,i){var&nbsp;o="",a=r?0:-8*(i-1),s;for(s=0;i&gt;s;s++)o+=String.fromCharCode(255&amp;t&gt;&gt;Math.abs(a+8*s));n(o,e,i)}var&nbsp;r=!1,o;return{II:function(e){return&nbsp;e===t?r:(r=e,void&nbsp;0)},init:function(e){r=!1,o=e},SEGMENT:function(e,t,i){switch(arguments.length){case&nbsp;1:return&nbsp;o.substr(e,o.length-e-1);case&nbsp;2:return&nbsp;o.substr(e,t);case&nbsp;3:n(i,e,t);break;default:return&nbsp;o}},BYTE:function(t){return&nbsp;e(t,1)},SHORT:function(t){return&nbsp;e(t,2)},LONG:function(n,r){return&nbsp;r===t?e(n,4):(i(n,r,4),void&nbsp;0)},SLONG:function(t){var&nbsp;n=e(t,4);return&nbsp;n&gt;2147483647?n-4294967296:n},STRING:function(t,n){var&nbsp;i="";for(n+=t;n&gt;t;t++)i+=String.fromCharCode(e(t,1));return&nbsp;i}}}}),i(k,[P],function(e){return&nbsp;function&nbsp;t(n){var&nbsp;i=[],r,o,a,s=0;if(r=new&nbsp;e,r.init(n),65496===r.SHORT(0)){for(o=2;o&lt;=n.length;)if(a=r.SHORT(o),a&gt;=65488&amp;&amp;65495&gt;=a)o+=2;else{if(65498===a||65497===a)break;s=r.SHORT(o+2)+2,a&gt;=65505&amp;&amp;65519&gt;=a&amp;&amp;i.push({hex:a,name:"APP"+(15&amp;a),start:o,length:s,segment:r.SEGMENT(o,s)}),o+=s}return&nbsp;r.init(null),{headers:i,restore:function(e){var&nbsp;t,n;for(r.init(e),o=65504==r.SHORT(2)?4+r.SHORT(4):2,n=0,t=i.length;t&gt;n;n++)r.SEGMENT(o,0,i[n].segment),o+=i[n].length;return&nbsp;e=r.SEGMENT(),r.init(null),e},strip:function(e){var&nbsp;n,i,o;for(i=new&nbsp;t(e),n=i.headers,i.purge(),r.init(e),o=n.length;o--;)r.SEGMENT(n[o].start,n[o].length,"");return&nbsp;e=r.SEGMENT(),r.init(null),e},get:function(e){for(var&nbsp;t=[],n=0,r=i.length;r&gt;n;n++)i[n].name===e.toUpperCase()&amp;&amp;t.push(i[n].segment);return&nbsp;t},set:function(e,t){var&nbsp;n=[],r,o,a;for("string"==typeof&nbsp;t?n.push(t):n=t,r=o=0,a=i.length;a&gt;r&amp;&amp;(i[r].name===e.toUpperCase()&amp;&amp;(i[r].segment=n[o],i[r].length=n[o].length,o++),!(o&gt;=n.length));r++);},purge:function(){i=[],r.init(null),r=null}}}}}),i(U,[u,P],function(e,n){return&nbsp;function&nbsp;i(){function&nbsp;i(e,n){var&nbsp;i=a.SHORT(e),r,o,s,u,d,f,p,h,m=[],g={};for(r=0;i&gt;r;r++)if(p=f=e+12*r+2,s=n[a.SHORT(p)],s!==t){switch(u=a.SHORT(p+=2),d=a.LONG(p+=2),p+=4,m=[],u){case&nbsp;1:case&nbsp;7:for(d&gt;4&amp;&amp;(p=a.LONG(p)+c.tiffHeader),o=0;d&gt;o;o++)m[o]=a.BYTE(p+o);break;case&nbsp;2:d&gt;4&amp;&amp;(p=a.LONG(p)+c.tiffHeader),g[s]=a.STRING(p,d-1);continue;case&nbsp;3:for(d&gt;2&amp;&amp;(p=a.LONG(p)+c.tiffHeader),o=0;d&gt;o;o++)m[o]=a.SHORT(p+2*o);break;case&nbsp;4:for(d&gt;1&amp;&amp;(p=a.LONG(p)+c.tiffHeader),o=0;d&gt;o;o++)m[o]=a.LONG(p+4*o);break;case&nbsp;5:for(p=a.LONG(p)+c.tiffHeader,o=0;d&gt;o;o++)m[o]=a.LONG(p+4*o)/a.LONG(p+4*o+4);break;case&nbsp;9:for(p=a.LONG(p)+c.tiffHeader,o=0;d&gt;o;o++)m[o]=a.SLONG(p+4*o);break;case&nbsp;10:for(p=a.LONG(p)+c.tiffHeader,o=0;d&gt;o;o++)m[o]=a.SLONG(p+4*o)/a.SLONG(p+4*o+4);break;default:continue}h=1==d?m[0]:m,g[s]=l.hasOwnProperty(s)&amp;&amp;"object"!=typeof&nbsp;h?l[s][h]:h}return&nbsp;g}function&nbsp;r(){var&nbsp;e=c.tiffHeader;return&nbsp;a.II(18761==a.SHORT(e)),42!==a.SHORT(e+=2)?!1:(c.IFD0=c.tiffHeader+a.LONG(e+=2),u=i(c.IFD0,s.tiff),"ExifIFDPointer"in&nbsp;u&amp;&amp;(c.exifIFD=c.tiffHeader+u.ExifIFDPointer,delete&nbsp;u.ExifIFDPointer),"GPSInfoIFDPointer"in&nbsp;u&amp;&amp;(c.gpsIFD=c.tiffHeader+u.GPSInfoIFDPointer,delete&nbsp;u.GPSInfoIFDPointer),!0)}function&nbsp;o(e,t,n){var&nbsp;i,r,o,u=0;if("string"==typeof&nbsp;t){var&nbsp;l=s[e.toLowerCase()];for(var&nbsp;d&nbsp;in&nbsp;l)if(l[d]===t){t=d;break}}i=c[e.toLowerCase()+"IFD"],r=a.SHORT(i);for(var&nbsp;f=0;r&gt;f;f++)if(o=i+12*f+2,a.SHORT(o)==t){u=o+8;break}return&nbsp;u?(a.LONG(u,n),!0):!1}var&nbsp;a,s,u,c={},l;return&nbsp;a=new&nbsp;n,s={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},l={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine&nbsp;weather",10:"Cloudy&nbsp;weather",11:"Shade",12:"Daylight&nbsp;fluorescent&nbsp;(D&nbsp;5700&nbsp;-&nbsp;7100K)",13:"Day&nbsp;white&nbsp;fluorescent&nbsp;(N&nbsp;4600&nbsp;-5400K)",14:"Cool&nbsp;white&nbsp;fluorescent&nbsp;(W&nbsp;3900&nbsp;-&nbsp;4500K)",15:"White&nbsp;fluorescent&nbsp;(WW&nbsp;3200&nbsp;-&nbsp;3700K)",17:"Standard&nbsp;light&nbsp;A",18:"Standard&nbsp;light&nbsp;B",19:"Standard&nbsp;light&nbsp;C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO&nbsp;studio&nbsp;tungsten",255:"Other"},Flash:{0:"Flash&nbsp;did&nbsp;not&nbsp;fire.",1:"Flash&nbsp;fired.",5:"Strobe&nbsp;return&nbsp;light&nbsp;not&nbsp;detected.",7:"Strobe&nbsp;return&nbsp;light&nbsp;detected.",9:"Flash&nbsp;fired,&nbsp;compulsory&nbsp;flash&nbsp;mode",13:"Flash&nbsp;fired,&nbsp;compulsory&nbsp;flash&nbsp;mode,&nbsp;return&nbsp;light&nbsp;not&nbsp;detected",15:"Flash&nbsp;fired,&nbsp;compulsory&nbsp;flash&nbsp;mode,&nbsp;return&nbsp;light&nbsp;detected",16:"Flash&nbsp;did&nbsp;not&nbsp;fire,&nbsp;compulsory&nbsp;flash&nbsp;mode",24:"Flash&nbsp;did&nbsp;not&nbsp;fire,&nbsp;auto&nbsp;mode",25:"Flash&nbsp;fired,&nbsp;auto&nbsp;mode",29:"Flash&nbsp;fired,&nbsp;auto&nbsp;mode,&nbsp;return&nbsp;light&nbsp;not&nbsp;detected",31:"Flash&nbsp;fired,&nbsp;auto&nbsp;mode,&nbsp;return&nbsp;light&nbsp;detected",32:"No&nbsp;flash&nbsp;function",65:"Flash&nbsp;fired,&nbsp;red-eye&nbsp;reduction&nbsp;mode",69:"Flash&nbsp;fired,&nbsp;red-eye&nbsp;reduction&nbsp;mode,&nbsp;return&nbsp;light&nbsp;not&nbsp;detected",71:"Flash&nbsp;fired,&nbsp;red-eye&nbsp;reduction&nbsp;mode,&nbsp;return&nbsp;light&nbsp;detected",73:"Flash&nbsp;fired,&nbsp;compulsory&nbsp;flash&nbsp;mode,&nbsp;red-eye&nbsp;reduction&nbsp;mode",77:"Flash&nbsp;fired,&nbsp;compulsory&nbsp;flash&nbsp;mode,&nbsp;red-eye&nbsp;reduction&nbsp;mode,&nbsp;return&nbsp;light&nbsp;not&nbsp;detected",79:"Flash&nbsp;fired,&nbsp;compulsory&nbsp;flash&nbsp;mode,&nbsp;red-eye&nbsp;reduction&nbsp;mode,&nbsp;return&nbsp;light&nbsp;detected",89:"Flash&nbsp;fired,&nbsp;auto&nbsp;mode,&nbsp;red-eye&nbsp;reduction&nbsp;mode",93:"Flash&nbsp;fired,&nbsp;auto&nbsp;mode,&nbsp;return&nbsp;light&nbsp;not&nbsp;detected,&nbsp;red-eye&nbsp;reduction&nbsp;mode",95:"Flash&nbsp;fired,&nbsp;auto&nbsp;mode,&nbsp;return&nbsp;light&nbsp;detected,&nbsp;red-eye&nbsp;reduction&nbsp;mode"},ExposureMode:{0:"Auto&nbsp;exposure",1:"Manual&nbsp;exposure",2:"Auto&nbsp;bracket"},WhiteBalance:{0:"Auto&nbsp;white&nbsp;balance",1:"Manual&nbsp;white&nbsp;balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night&nbsp;scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low&nbsp;saturation",2:"High&nbsp;saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North&nbsp;latitude",S:"South&nbsp;latitude"},GPSLongitudeRef:{E:"East&nbsp;longitude",W:"West&nbsp;longitude"}},{init:function(e){return&nbsp;c={tiffHeader:10},e!==t&amp;&amp;e.length?(a.init(e),65505===a.SHORT(0)&amp;&amp;"EXIF\0"===a.STRING(4,5).toUpperCase()?r():!1):!1<a name="line_14"></a></li>
<li id="line_15" class="odd"><span class="lineNumber">15&nbsp;</span>},TIFF:function(){return&nbsp;u},EXIF:function(){var&nbsp;t;if(t=i(c.exifIFD,s.exif),t.ExifVersion&amp;&amp;"array"===e.typeOf(t.ExifVersion)){for(var&nbsp;n=0,r="";n&lt;t.ExifVersion.length;n++)r+=String.fromCharCode(t.ExifVersion[n]);t.ExifVersion=r}return&nbsp;t},GPS:function(){var&nbsp;t;return&nbsp;t=i(c.gpsIFD,s.gps),t.GPSVersionID&amp;&amp;"array"===e.typeOf(t.GPSVersionID)&amp;&amp;(t.GPSVersionID=t.GPSVersionID.join(".")),t},setExif:function(e,t){return"PixelXDimension"!==e&amp;&amp;"PixelYDimension"!==e?!1:o("exif",e,t)},getBinary:function(){return&nbsp;a.SEGMENT()},purge:function(){a.init(null),a=u=null,c={}}}}}),i(B,[u,p,k,P,U],function(e,t,n,i,r){function&nbsp;o(o){function&nbsp;a(){for(var&nbsp;e=0,t,n;e&lt;=u.length;){if(t=c.SHORT(e+=2),t&gt;=65472&amp;&amp;65475&gt;=t)return&nbsp;e+=5,{height:c.SHORT(e),width:c.SHORT(e+=2)};n=c.SHORT(e+=2),e+=n-2}return&nbsp;null}function&nbsp;s(){d&amp;&amp;l&amp;&amp;c&amp;&amp;(d.purge(),l.purge(),c.init(null),u=f=l=d=c=null)}var&nbsp;u,c,l,d,f,p;if(u=o,c=new&nbsp;i,c.init(u),65496!==c.SHORT(0))throw&nbsp;new&nbsp;t.ImageError(t.ImageError.WRONG_FORMAT);l=new&nbsp;n(o),d=new&nbsp;r,p=!!d.init(l.get("app1")[0]),f=a.call(this),e.extend(this,{type:"image/jpeg",size:u.length,width:f&amp;&amp;f.width||0,height:f&amp;&amp;f.height||0,setExif:function(t,n){return&nbsp;p?("object"===e.typeOf(t)?e.each(t,function(e,t){d.setExif(t,e)}):d.setExif(t,n),l.set("app1",d.getBinary()),void&nbsp;0):!1},writeHeaders:function(){return&nbsp;arguments.length?l.restore(arguments[0]):u=l.restore(u)},stripHeaders:function(e){return&nbsp;l.strip(e)},purge:function(){s.call(this)}}),p&amp;&amp;(this.meta={tiff:d.TIFF(),exif:d.EXIF(),gps:d.GPS()})}return&nbsp;o}),i(z,[p,u,P],function(e,t,n){function&nbsp;i(i){function&nbsp;r(){var&nbsp;e,t;return&nbsp;e=a.call(this,8),"IHDR"==e.type?(t=e.start,{width:u.LONG(t),height:u.LONG(t+=4)}):null}function&nbsp;o(){u&amp;&amp;(u.init(null),s=d=c=l=u=null)}function&nbsp;a(e){var&nbsp;t,n,i,r;return&nbsp;t=u.LONG(e),n=u.STRING(e+=4,4),i=e+=4,r=u.LONG(e+t),{length:t,type:n,start:i,CRC:r}}var&nbsp;s,u,c,l,d;s=i,u=new&nbsp;n,u.init(s),function(){var&nbsp;t=0,n=0,i=[35152,20039,3338,6666];for(n=0;n&lt;i.length;n++,t+=2)if(i[n]!=u.SHORT(t))throw&nbsp;new&nbsp;e.ImageError(e.ImageError.WRONG_FORMAT)}(),d=r.call(this),t.extend(this,{type:"image/png",size:s.length,width:d.width,height:d.height,purge:function(){o.call(this)}}),o.call(this)}return&nbsp;i}),i(G,[u,p,B,z],function(e,t,n,i){return&nbsp;function(r){var&nbsp;o=[n,i],a;a=function(){for(var&nbsp;e=0;e&lt;o.length;e++)try{return&nbsp;new&nbsp;o[e](r)}catch(n){}throw&nbsp;new&nbsp;t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return&nbsp;e},stripHeaders:function(e){return&nbsp;e},purge:function(){}}),e.extend(this,a),this.purge=function(){a.purge(),a=null}}}),i(q,[],function(){function&nbsp;e(e,i,r){var&nbsp;o=e.naturalWidth,a=e.naturalHeight,s=r.width,u=r.height,c=r.x||0,l=r.y||0,d=i.getContext("2d");t(e)&amp;&amp;(o/=2,a/=2);var&nbsp;f=1024,p=document.createElement("canvas");p.width=p.height=f;for(var&nbsp;h=p.getContext("2d"),m=n(e,o,a),g=0;a&gt;g;){for(var&nbsp;v=g+f&gt;a?a-g:f,y=0;o&gt;y;){var&nbsp;w=y+f&gt;o?o-y:f;h.clearRect(0,0,f,f),h.drawImage(e,-y,-g);var&nbsp;E=y*s/o+c&lt;&lt;0,_=Math.ceil(w*s/o),x=g*u/a/m+l&lt;&lt;0,R=Math.ceil(v*u/a/m);d.drawImage(p,0,0,w,v,E,x,_,R),y+=f}g+=f}p=h=null}function&nbsp;t(e){var&nbsp;t=e.naturalWidth,n=e.naturalHeight;if(t*n&gt;1048576){var&nbsp;i=document.createElement("canvas");i.width=i.height=1;var&nbsp;r=i.getContext("2d");return&nbsp;r.drawImage(e,-t+1,0),0===r.getImageData(0,0,1,1).data[3]}return!1}function&nbsp;n(e,t,n){var&nbsp;i=document.createElement("canvas");i.width=1,i.height=n;var&nbsp;r=i.getContext("2d");r.drawImage(e,0,0);for(var&nbsp;o=r.getImageData(0,0,1,n).data,a=0,s=n,u=n;u&gt;a;){var&nbsp;c=o[4*(u-1)+3];0===c?s=u:a=u,u=s+a&gt;&gt;1}i=null;var&nbsp;l=u/n;return&nbsp;0===l?1:l}return{isSubsampled:t,renderTo:e}}),i(X,[D,u,p,m,w,G,q,l,d],function(e,t,n,i,r,o,a,s,u){function&nbsp;c(){function&nbsp;e(){if(!E&amp;&amp;!y)throw&nbsp;new&nbsp;n.ImageError(n.DOMException.INVALID_STATE_ERR);return&nbsp;E||y}function&nbsp;c(e){return&nbsp;i.atob(e.substring(e.indexOf("base64,")+7))}function&nbsp;l(e,t){return"data:"+(t||"")+";base64,"+i.btoa(e)}function&nbsp;d(e){var&nbsp;t=this;y=new&nbsp;Image,y.onerror=function(){g.call(this),t.trigger("error",new&nbsp;n.ImageError(n.ImageError.WRONG_FORMAT))},y.onload=function(){t.trigger("load")},y.src=/^data:[^;]*;base64,/.test(e)?e:l(e,x.type)}function&nbsp;f(e,t){var&nbsp;i=this,r;return&nbsp;window.FileReader?(r=new&nbsp;FileReader,r.onload=function(){t(this.result)},r.onerror=function(){i.trigger("error",new&nbsp;n.FileException(n.FileException.NOT_READABLE_ERR))},r.readAsDataURL(e),void&nbsp;0):t(e.getAsDataURL())}function&nbsp;p(n,i,r,o){var&nbsp;a=this,s,u,c=0,l=0,d,f,p,g;if(b=o,g=this.meta&amp;&amp;this.meta.tiff&amp;&amp;this.meta.tiff.Orientation||1,-1!==t.inArray(g,[5,6,7,8])){var&nbsp;v=n;n=i,i=v}return&nbsp;d=e(),u=r?Math.max:Math.min,s=u(n/d.width,i/d.height),s&gt;1&amp;&amp;(!r||o)?(this.trigger("Resize"),void&nbsp;0):(E||(E=document.createElement("canvas")),f=Math.round(d.width*s),p=Math.round(d.height*s),r?(E.width=n,E.height=i,f&gt;n&amp;&amp;(c=Math.round((f-n)/2)),p&gt;i&amp;&amp;(l=Math.round((p-i)/2))):(E.width=f,E.height=p),b||m(E.width,E.height,g),h.call(this,d,E,-c,-l,f,p),this.width=E.width,this.height=E.height,R=!0,a.trigger("Resize"),void&nbsp;0)}function&nbsp;h(e,t,n,i,r,o){if("iOS"===u.OS)a.renderTo(e,t,{width:r,height:o,x:n,y:i});else{var&nbsp;s=t.getContext("2d");s.drawImage(e,n,i,r,o)}}function&nbsp;m(e,t,n){switch(n){case&nbsp;5:case&nbsp;6:case&nbsp;7:case&nbsp;8:E.width=t,E.height=e;break;default:E.width=e,E.height=t}var&nbsp;i=E.getContext("2d");switch(n){case&nbsp;2:i.translate(e,0),i.scale(-1,1);break;case&nbsp;3:i.translate(e,t),i.rotate(Math.PI);break;case&nbsp;4:i.translate(0,t),i.scale(1,-1);break;case&nbsp;5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case&nbsp;6:i.rotate(.5*Math.PI),i.translate(0,-t);break;case&nbsp;7:i.rotate(.5*Math.PI),i.translate(e,-t),i.scale(-1,1);break;case&nbsp;8:i.rotate(-.5*Math.PI),i.translate(-e,0)}}function&nbsp;g(){w&amp;&amp;(w.purge(),w=null),_=y=E=x=null,R=!1}var&nbsp;v=this,y,w,E,_,x,R=!1,b=!0;t.extend(this,{loadFromBlob:function(e){var&nbsp;t=this,i=t.getRuntime(),r=arguments.length&gt;1?arguments[1]:!0;if(!i.can("access_binary"))throw&nbsp;new&nbsp;n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return&nbsp;x=e,e.isDetached()?(_=e.getSource(),d.call(this,_),void&nbsp;0):(f.call(this,e.getSource(),function(e){r&amp;&amp;(_=c(e)),d.call(t,e)}),void&nbsp;0)},loadFromImage:function(e,t){this.meta=e.meta,x=new&nbsp;r(null,{name:e.name,size:e.size,type:e.type}),d.call(this,t?_=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var&nbsp;t=this.getRuntime(),n;return!w&amp;&amp;_&amp;&amp;t.can("access_image_binary")&amp;&amp;(w=new&nbsp;o(_)),n={width:e().width||0,height:e().height||0,type:x.type||s.getFileMime(x.name),size:_&amp;&amp;_.length||x.size||0,name:x.name||"",meta:w&amp;&amp;w.meta||this.meta||{}}},downsize:function(){p.apply(this,arguments)},getAsCanvas:function(){return&nbsp;E&amp;&amp;(E.id=this.uid+"_canvas"),E},getAsBlob:function(e,t){return&nbsp;e!==this.type&amp;&amp;p.call(this,this.width,this.height,!1),new&nbsp;r(null,{name:x.name||"",type:e,data:v.getAsBinaryString.call(this,e,t)})},getAsDataURL:function(e){var&nbsp;t=arguments[1]||90;if(!R)return&nbsp;y.src;if("image/jpeg"!==e)return&nbsp;E.toDataURL("image/png");try{return&nbsp;E.toDataURL("image/jpeg",t/100)}catch(n){return&nbsp;E.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!R)return&nbsp;_||(_=c(v.getAsDataURL(e,t))),_;if("image/jpeg"!==e)_=c(v.getAsDataURL(e,t));else{var&nbsp;n;t||(t=90);try{n=E.toDataURL("image/jpeg",t/100)}catch(i){n=E.toDataURL("image/jpeg")}_=c(n),w&amp;&amp;(_=w.stripHeaders(_),b&amp;&amp;(w.meta&amp;&amp;w.meta.exif&amp;&amp;w.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),_=w.writeHeaders(_)),w.purge(),w=null)}return&nbsp;R=!1,_},destroy:function(){v=null,g.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return&nbsp;e.Image=c}),i(j,[u,d,f,p,g],function(e,t,n,i,r){function&nbsp;o(){var&nbsp;e;try{e=navigator.plugins["Shockwave&nbsp;Flash"],e=e.description}catch(t){try{e=new&nbsp;ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(n){e="0.0"}}return&nbsp;e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}function&nbsp;a(a){var&nbsp;c=this,l;a=e.extend({swf_url:t.swf_url},a),r.call(this,a,s,{access_binary:function(e){return&nbsp;e&amp;&amp;"browser"===c.mode},access_image_binary:function(e){return&nbsp;e&amp;&amp;"browser"===c.mode},display_media:r.capTrue,do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===c.mode},resize_image:r.capTrue,return_response_headers:!1,return_response_type:function(t){return"json"===t&amp;&amp;window.JSON?!0:!e.arrayDiff(t,["","text","document"])||"browser"===c.mode},return_status_code:function(t){return"browser"===c.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:function(e){return&nbsp;e&amp;&amp;"browser"===c.mode},send_browser_cookies:function(e){return&nbsp;e&amp;&amp;"browser"===c.mode},send_custom_headers:function(e){return&nbsp;e&amp;&amp;"browser"===c.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:function(e){return&nbsp;e&amp;&amp;"browser"===c.mode},summon_file_dialog:!1,upload_filesize:function(t){return&nbsp;e.parseSizeStr(t)&lt;=2097152||"client"===c.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return&nbsp;e?"browser":"client"},access_image_binary:function(e){return&nbsp;e?"browser":"client"},report_upload_progress:function(e){return&nbsp;e?"browser":"client"},return_response_type:function(t){return&nbsp;e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return&nbsp;e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return&nbsp;e?"browser":"client"},send_browser_cookies:function(e){return&nbsp;e?"browser":"client"},send_custom_headers:function(e){return&nbsp;e?"browser":"client"},stream_upload:function(e){return&nbsp;e?"client":"browser"},upload_filesize:function(t){return&nbsp;e.parseSizeStr(t)&gt;=2097152?"client":"browser"}},"client"),o()&lt;10&amp;&amp;(this.mode=!1),e.extend(this,{getShim:function(){return&nbsp;n.get(this.uid)},shimExec:function(e,t){var&nbsp;n=[].slice.call(arguments,2);return&nbsp;c.getShim().exec(this.uid,e,t,n)},init:function(){var&nbsp;n,r,o;o=this.getShimContainer(),e.extend(o.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),n='&lt;object&nbsp;id="'+this.uid+'"&nbsp;type="application/x-shockwave-flash"&nbsp;data="'+a.swf_url+'"&nbsp;',"IE"===t.browser&amp;&amp;(n+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"&nbsp;'),n+='width="100%"&nbsp;height="100%"&nbsp;style="outline:0"&gt;&lt;param&nbsp;name="movie"&nbsp;value="'+a.swf_url+'"&nbsp;/&gt;'+'&lt;param&nbsp;name="flashvars"&nbsp;value="uid='+escape(this.uid)+"&amp;target="+t.global_event_dispatcher+'"&nbsp;/&gt;'+'&lt;param&nbsp;name="wmode"&nbsp;value="transparent"&nbsp;/&gt;'+'&lt;param&nbsp;name="allowscriptaccess"&nbsp;value="always"&nbsp;/&gt;'+"&lt;/object&gt;","IE"===t.browser?(r=document.createElement("div"),o.appendChild(r),r.outerHTML=n,r=o=null):o.innerHTML=n,l=setTimeout(function(){c&amp;&amp;!c.initialized&amp;&amp;c.trigger("Error",new&nbsp;i.RuntimeError(i.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return&nbsp;function(){e.call(c),clearTimeout(l),a=l=e=c=null}}(this.destroy)},u)}var&nbsp;s="flash",u={};return&nbsp;r.addConstructor(s,a),u}),i(V,[j,y],function(e,t){var&nbsp;n={slice:function(e,n,i,r){var&nbsp;o=this.getRuntime();return&nbsp;0&gt;n?n=Math.max(e.size+n,0):n&gt;0&amp;&amp;(n=Math.min(n,e.size)),0&gt;i?i=Math.max(e.size+i,0):i&gt;0&amp;&amp;(i=Math.min(i,e.size)),e=o.shimExec.call(this,"Blob","slice",n,i,r||""),e&amp;&amp;(e=new&nbsp;t(o.uid,e)),e}};return&nbsp;e.Blob=n}),i(W,[j],function(e){var&nbsp;t={init:function(e){this.getRuntime().shimExec.call(this,"FileInput","init",{name:e.name,accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return&nbsp;e.FileInput=t}),i(Y,[j,m],function(e,t){function&nbsp;n(e,n){switch(n){case"readAsText":return&nbsp;t.atob(e,"utf8");case"readAsBinaryString":return&nbsp;t.atob(e);case"readAsDataURL":return&nbsp;e}return&nbsp;null}var&nbsp;i="",r={read:function(e,t){var&nbsp;r=this,o=r.getRuntime();return"readAsDataURL"===e&amp;&amp;(i="data:"+(t.type||"")+";base64,"),r.bind("Progress",function(t,r){r&amp;&amp;(i+=n(r,e))}),o.shimExec.call(this,"FileReader","readAsBase64",t.uid)},getResult:function(){return&nbsp;i},destroy:function(){i=null}};return&nbsp;e.FileReader=r}),i($,[j,m],function(e,t){function&nbsp;n(e,n){switch(n){case"readAsText":return&nbsp;t.atob(e,"utf8");case"readAsBinaryString":return&nbsp;t.atob(e);case"readAsDataURL":return&nbsp;e}return&nbsp;null}var&nbsp;i={read:function(e,t){var&nbsp;i,r=this.getRuntime();return(i=r.shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&amp;&amp;(i="data:"+(t.type||"")+";base64,"+i),n(i,e,t.type)):null}};return&nbsp;e.FileReaderSync=i}),i(J,[j,u,y,w,T,S,O],function(e,t,n,i,r,o,a){var&nbsp;s={send:function(e,i){function&nbsp;r(){e.transport=l.mode,l.shimExec.call(c,"XMLHttpRequest","send",e,i)}function&nbsp;s(e,t){l.shimExec.call(c,"XMLHttpRequest","appendBlob",e,t.uid),i=null,r()}function&nbsp;u(e,t){var&nbsp;n=new&nbsp;a;n.bind("TransportingComplete",function(){t(this.result)}),n.transport(e.getSource(),e.type,{ruid:l.uid})}var&nbsp;c=this,l=c.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){l.shimExec.call(c,"XMLHttpRequest","setRequestHeader",t,e.toString())}),i&nbsp;instanceof&nbsp;o){var&nbsp;d;if(i.each(function(e,t){e&nbsp;instanceof&nbsp;n?d=t:l.shimExec.call(c,"XMLHttpRequest","append",t,e)}),i.hasBlob()){var&nbsp;f=i.getBlob();f.isDetached()?u(f,function(e){f.destroy(),s(d,e)}):s(d,f)}else&nbsp;i=null,r()}else&nbsp;i&nbsp;instanceof&nbsp;n?i.isDetached()?u(i,function(e){i.destroy(),i=e.uid,r()}):(i=i.uid,r()):r()},getResponse:function(e){var&nbsp;n,o,a=this.getRuntime();if(o=a.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(o=new&nbsp;i(a.uid,o),"blob"===e)return&nbsp;o;try{if(n=new&nbsp;r,~t.inArray(e,["","text"]))return&nbsp;n.readAsText(o);if("json"===e&amp;&amp;window.JSON)return&nbsp;JSON.parse(n.readAsText(o))}finally{o.destroy()}}return&nbsp;null},abort:function(e){var&nbsp;t=this.getRuntime();t.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return&nbsp;e.XMLHttpRequest=s}),i(Z,[j,y],function(e,t){var&nbsp;n={getAsBlob:function(e){var&nbsp;n=this.getRuntime(),i=n.shimExec.call(this,"Transporter","getAsBlob",e);return&nbsp;i?new&nbsp;t(n.uid,i):null}};return&nbsp;e.Transporter=n}),i(K,[j,u,O,y,T],function(e,t,n,i,r){var&nbsp;o={loadFromBlob:function(e){function&nbsp;t(e){r.shimExec.call(i,"Image","loadFromBlob",e.uid),i=r=null}var&nbsp;i=this,r=i.getRuntime();if(e.isDetached()){var&nbsp;o=new&nbsp;n;o.bind("TransportingComplete",function(){t(o.result.getSource())}),o.transport(e.getSource(),e.type,{ruid:r.uid})}else&nbsp;t(e.getSource())},loadFromImage:function(e){var&nbsp;t=this.getRuntime();return&nbsp;t.shimExec.call(this,"Image","loadFromImage",e.uid)},getAsBlob:function(e,t){var&nbsp;n=this.getRuntime(),r=n.shimExec.call(this,"Image","getAsBlob",e,t);return&nbsp;r?new&nbsp;i(n.uid,r):null},getAsDataURL:function(){var&nbsp;e=this.getRuntime(),t=e.Image.getAsBlob.apply(this,arguments),n;return&nbsp;t?(n=new&nbsp;r,n.readAsDataURL(t)):null}};return&nbsp;e.Image=o}),i(Q,[u,d,f,p,g],function(e,t,n,i,r){function&nbsp;o(e){var&nbsp;t=!1,n=null,i,r,o,a,s,u=0;try{try{n=new&nbsp;ActiveXObject("AgControl.AgControl"),n.IsVersionSupported(e)&amp;&amp;(t=!0),n=null}catch(c){var&nbsp;l=navigator.plugins["Silverlight&nbsp;Plug-In"];if(l){for(i=l.description,"1.0.30226.2"===i&amp;&amp;(i="2.0.30226.2"),r=i.split(".");r.length&gt;3;)r.pop();for(;r.length&lt;4;)r.push(0);for(o=e.split(".");o.length&gt;4;)o.pop();do&nbsp;a=parseInt(o[u],10),s=parseInt(r[u],10),u++;while(u&lt;o.length&amp;&amp;a===s);s&gt;=a&amp;&amp;!isNaN(a)&amp;&amp;(t=!0)}}}catch(d){t=!1}return&nbsp;t}function&nbsp;a(a){var&nbsp;c=this,l;a=e.extend({xap_url:t.xap_url},a),r.call(this,a,s,{access_binary:r.capTrue,access_image_binary:r.capTrue,display_media:r.capTrue,do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:r.capTrue,resize_image:r.capTrue,return_response_headers:function(e){return&nbsp;e&amp;&amp;"client"===c.mode},return_response_type:function(e){return"json"!==e?!0:!!window.JSON},return_status_code:function(t){return"client"===c.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:r.capTrue,send_browser_cookies:function(e){return&nbsp;e&amp;&amp;"browser"===c.mode},send_custom_headers:function(e){return&nbsp;e&amp;&amp;"client"===c.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:r.capTrue,use_http_method:function(t){return"client"===c.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return&nbsp;e?"client":"browser"},return_status_code:function(t){return&nbsp;e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return&nbsp;e?"browser":"client"},send_custom_headers:function(e){return&nbsp;e?"client":"browser"},use_http_method:function(t){return&nbsp;e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),o("2.0.31005.0")&amp;&amp;"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return&nbsp;n.get(this.uid).content.Moxie},shimExec:function(e,t){var&nbsp;n=[].slice.call(arguments,2);return&nbsp;c.getShim().exec(this.uid,e,t,n)},init:function(){var&nbsp;e;e=this.getShimContainer(),e.innerHTML='&lt;object&nbsp;id="'+this.uid+'"&nbsp;data="data:application/x-silverlight,"&nbsp;type="application/x-silverlight-2"&nbsp;width="100%"&nbsp;height="100%"&nbsp;style="outline:none;"&gt;'+'&lt;param&nbsp;name="source"&nbsp;value="'+a.xap_url+'"/&gt;'+'&lt;param&nbsp;name="background"&nbsp;value="Transparent"/&gt;'+'&lt;param&nbsp;name="windowless"&nbsp;value="true"/&gt;'+'&lt;param&nbsp;name="enablehtmlaccess"&nbsp;value="true"/&gt;'+'&lt;param&nbsp;name="initParams"&nbsp;value="uid='+this.uid+",target="+t.global_event_dispatcher+'"/&gt;'+"&lt;/object&gt;",l=setTimeout(function(){c&amp;&amp;!c.initialized&amp;&amp;c.trigger("Error",new&nbsp;i.RuntimeError(i.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return&nbsp;function(){e.call(c),clearTimeout(l),a=l=e=c=null}}(this.destroy)},u)}var&nbsp;s="silverlight",u={};return&nbsp;r.addConstructor(s,a),u}),i(et,[Q,u,V],function(e,t,n){return&nbsp;e.Blob=t.extend({},n)}),i(tt,[Q],function(e){var&nbsp;t={init:function(e){function&nbsp;t(e){for(var&nbsp;t="",n=0;n&lt;e.length;n++)t+=(""!==t?"|":"")+e[n].title+"&nbsp;|&nbsp;*."+e[n].extensions.replace(/,/g,";*.");return&nbsp;t}this.getRuntime().shimExec.call(this,"FileInput","init",t(e.accept),e.name,e.multiple),this.trigger("ready")}};return&nbsp;e.FileInput=t}),i(nt,[Q,f,L],function(e,t,n){var&nbsp;i={init:function(){var&nbsp;e=this,i=e.getRuntime(),r;return&nbsp;r=i.getShimContainer(),n.addEvent(r,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},e.uid),n.addEvent(r,"dragenter",function(e){e.preventDefault();var&nbsp;n=t.get(i.uid).dragEnter(e);n&amp;&amp;e.stopPropagation()},e.uid),n.addEvent(r,"drop",function(e){e.preventDefault();var&nbsp;n=t.get(i.uid).dragDrop(e);n&amp;&amp;e.stopPropagation()},e.uid),i.shimExec.call(this,"FileDrop","init")}};return&nbsp;e.FileDrop=i}),i(it,[Q,u,Y],function(e,t,n){return&nbsp;e.FileReader=t.extend({},n)}),i(rt,[Q,u,$],function(e,t,n){return&nbsp;e.FileReaderSync=t.extend({},n)}),i(ot,[Q,u,J],function(e,t,n){return&nbsp;e.XMLHttpRequest=t.extend({},n)}),i(at,[Q,u,Z],function(e,t,n){return&nbsp;e.Transporter=t.extend({},n)}),i(st,[Q,u,K],function(e,t,n){return&nbsp;e.Image=t.extend({},n,{getInfo:function(){var&nbsp;e=this.getRuntime(),n=["tiff","exif","gps"],i={meta:{}},r=e.shimExec.call(this,"Image","getInfo");return&nbsp;r.meta&amp;&amp;t.each(n,function(e){var&nbsp;t=r.meta[e],n,o,a,s;if(t&amp;&amp;t.keys)for(i.meta[e]={},o=0,a=t.keys.length;a&gt;o;o++)n=t.keys[o],s=t[n],s&amp;&amp;(/^(\d|[1-9]\d+)$/.test(s)?s=parseInt(s,10):/^\d*\.\d+$/.test(s)&amp;&amp;(s=parseFloat(s)),i.meta[e][n]=s)}),i.width=parseInt(r.width,10),i.height=parseInt(r.height,10),i.size=parseInt(r.size,10),i.type=r.type,i.name=r.name,i}})}),i(ut,[u,p,g,d],function(e,t,n,i){function&nbsp;r(t){var&nbsp;r=this,s=n.capTest,u=n.capTrue;n.call(this,t,o,{access_binary:s(window.FileReader||window.File&amp;&amp;File.getAsDataURL),access_image_binary:!1,display_media:s(a.Image&amp;&amp;(i.can("create_canvas")||i.can("use_data_uri_over32kb"))),do_cors:!1,drag_and_drop:!1,filter_by_extension:s(function(){return"Chrome"===i.browser&amp;&amp;i.version&gt;=28||"IE"===i.browser&amp;&amp;i.version&gt;=10}()),resize_image:function(){return&nbsp;a.Image&amp;&amp;r.can("access_binary")&amp;&amp;i.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return"json"===t&amp;&amp;window.JSON?!0:!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return&nbsp;i.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return&nbsp;r.can("select_file")},summon_file_dialog:s(function(){return"Firefox"===i.browser&amp;&amp;i.version&gt;=4||"Opera"===i.browser&amp;&amp;i.version&gt;=12||!!~e.inArray(i.browser,["Chrome","Safari"])}()),upload_filesize:u,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return&nbsp;function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),a)}var&nbsp;o="html4",a={};return&nbsp;n.addConstructor(o,r),a}),i(ct,[ut,u,f,L,l,d],function(e,t,n,i,r,o){function&nbsp;a(){function&nbsp;e(){var&nbsp;r=this,l=r.getRuntime(),d,f,p,h,m,g;g=t.guid("uid_"),d=l.getShimContainer(),a&amp;&amp;(p=n.get(a+"_form"),p&amp;&amp;t.extend(p.style,{top:"100%"})),h=document.createElement("form"),h.setAttribute("id",g+"_form"),h.setAttribute("method","post"),h.setAttribute("enctype","multipart/form-data"),h.setAttribute("encoding","multipart/form-data"),t.extend(h.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),m=document.createElement("input"),m.setAttribute("id",g),m.setAttribute("type","file"),m.setAttribute("name",c.name||"Filedata"),m.setAttribute("accept",u.join(",")),t.extend(m.style,{fontSize:"999px",opacity:0}),h.appendChild(m),d.appendChild(h),t.extend(m.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===o.browser&amp;&amp;o.version&lt;10&amp;&amp;t.extend(m.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),m.onchange=function(){var&nbsp;t;this.value&amp;&amp;(t=this.files?this.files[0]:{name:this.value},s=[t],this.onchange=function(){},e.call(r),r.bind("change",function&nbsp;i(){var&nbsp;e=n.get(g),t=n.get(g+"_form"),o;r.unbind("change",i),r.files.length&amp;&amp;e&amp;&amp;t&amp;&amp;(o=r.files[0],e.setAttribute("id",o.uid),t.setAttribute("id",o.uid+"_form"),t.setAttribute("target",o.uid+"_iframe")),e=t=null},998),m=h=null,r.trigger("change"))},l.can("summon_file_dialog")&amp;&amp;(f=n.get(c.browse_button),i.removeEvent(f,"click",r.uid),i.addEvent(f,"click",function(e){m&amp;&amp;!m.disabled&amp;&amp;m.click(),e.preventDefault()},r.uid)),a=g,d=p=f=null}var&nbsp;a,s=[],u=[],c;t.extend(this,{init:function(t){var&nbsp;o=this,a=o.getRuntime(),s;c=t,u=t.accept.mimes||r.extList2mimes(t.accept,a.can("filter_by_extension")),s=a.getShimContainer(),function(){var&nbsp;e,r,u;e=n.get(t.browse_button),a.can("summon_file_dialog")&amp;&amp;("static"===n.getStyle(e,"position")&amp;&amp;(e.style.position="relative"),r=parseInt(n.getStyle(e,"z-index"),10)||1,e.style.zIndex=r,s.style.zIndex=r-1),u=a.can("summon_file_dialog")?e:s,i.addEvent(u,"mouseover",function(){o.trigger("mouseenter")},o.uid),i.addEvent(u,"mouseout",function(){o.trigger("mouseleave")},o.uid),i.addEvent(u,"mousedown",function(){o.trigger("mousedown")},o.uid),i.addEvent(n.get(t.container),"mouseup",function(){o.trigger("mouseup")},o.uid),e=null}(),e.call(this),s=null,o.trigger({type:"ready",async:!0})},getFiles:function(){return&nbsp;s},disable:function(e){var&nbsp;t;(t=n.get(a))&amp;&amp;(t.disabled=!!e)},destroy:function(){var&nbsp;e=this.getRuntime(),t=e.getShim(),r=e.getShimContainer();i.removeAllEvents(r,this.uid),i.removeAllEvents(c&amp;&amp;n.get(c.container),this.uid),i.removeAllEvents(c&amp;&amp;n.get(c.browse_button),this.uid),r&amp;&amp;(r.innerHTML=""),t.removeInstance(this.uid),a=s=u=c=r=t=null}})}return&nbsp;e.FileInput=a}),i(lt,[ut,F],function(e,t){return&nbsp;e.FileReader=t}),i(dt,[ut,u,f,b,p,L,y,S],function(e,t,n,i,r,o,a,s){function&nbsp;u(){function&nbsp;e(e){var&nbsp;t=this,i,r,a,s,u=!1;if(l){if(i=l.id.replace(/_iframe$/,""),r=n.get(i+"_form")){for(a=r.getElementsByTagName("input"),s=a.length;s--;)switch(a[s].getAttribute("type")){case"hidden":a[s].parentNode.removeChild(a[s]);break;case"file":u=!0}a=[],u||r.parentNode.removeChild(r),r=null}setTimeout(function(){o.removeEvent(l,"load",t.uid),l.parentNode&amp;&amp;l.parentNode.removeChild(l);var&nbsp;n=t.getRuntime().getShimContainer();n.children.length||n.parentNode.removeChild(n),n=l=null,e()},1)}}var&nbsp;u,c,l;t.extend(this,{send:function(d,f){function&nbsp;p(){var&nbsp;n=m.getShimContainer()||document.body,r=document.createElement("div");r.innerHTML='&lt;iframe&nbsp;id="'+g+'_iframe"&nbsp;name="'+g+'_iframe"&nbsp;src="javascript:&amp;quot;&amp;quot;"&nbsp;style="display:none"&gt;&lt;/iframe&gt;',l=r.firstChild,n.appendChild(l),o.addEvent(l,"load",function(){var&nbsp;n;try{n=l.contentWindow.document||l.contentDocument||window.frames[l.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(n.title)?u=n.title.replace(/^(\d+).*$/,"$1"):(u=200,c=t.trim(n.body.innerHTML),h.trigger({type:"progress",loaded:c.length,total:c.length}),w&amp;&amp;h.trigger({type:"uploadprogress",loaded:w.size||1025,total:w.size||1025}))}catch(r){if(!i.hasSameOrigin(d.url))return&nbsp;e.call(h,function(){h.trigger("error")}),void&nbsp;0;u=404}e.call(h,function(){h.trigger("load")})},h.uid)}var&nbsp;h=this,m=h.getRuntime(),g,v,y,w;if(u=c=null,f&nbsp;instanceof&nbsp;s&amp;&amp;f.hasBlob()){if(w=f.getBlob(),g=w.uid,y=n.get(g),v=n.get(g+"_form"),!v)throw&nbsp;new&nbsp;r.DOMException(r.DOMException.NOT_FOUND_ERR)}else&nbsp;g=t.guid("uid_"),v=document.createElement("form"),v.setAttribute("id",g+"_form"),v.setAttribute("method",d.method),v.setAttribute("enctype","multipart/form-data"),v.setAttribute("encoding","multipart/form-data"),v.setAttribute("target",g+"_iframe"),m.getShimContainer().appendChild(v);f&nbsp;instanceof&nbsp;s&amp;&amp;f.each(function(e,n){if(e&nbsp;instanceof&nbsp;a)y&amp;&amp;y.setAttribute("name",n);else{var&nbsp;i=document.createElement("input");t.extend(i,{type:"hidden",name:n,value:e}),y?v.insertBefore(i,y):v.appendChild(i)}}),v.setAttribute("action",d.url),p(),v.submit(),h.trigger("loadstart")},getStatus:function(){return&nbsp;u},getResponse:function(e){if("json"===e&amp;&amp;"string"===t.typeOf(c)&amp;&amp;window.JSON)try{return&nbsp;JSON.parse(c.replace(/^\s*&lt;pre[^&gt;]*&gt;/,"").replace(/&lt;\/pre&gt;\s*$/,""))}catch(n){return&nbsp;null}return&nbsp;c},abort:function(){var&nbsp;t=this;l&amp;&amp;l.contentWindow&amp;&amp;(l.contentWindow.stop?l.contentWindow.stop():l.contentWindow.document.execCommand?l.contentWindow.document.execCommand("Stop"):l.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})}})}return&nbsp;e.XMLHttpRequest=u}),i(ft,[ut,X],function(e,t){return&nbsp;e.Image=t}),a([u,c,l,d,f,p,h,m,g,v,y,w,E,_,x,R,b,T,S,A,O,I,L])}(this);;(function(){"use&nbsp;strict";var&nbsp;e={},t=moxie.core.utils.Basic.inArray;return&nbsp;function&nbsp;n(r){var&nbsp;i,s;for(i&nbsp;in&nbsp;r)s=typeof&nbsp;r[i],s==="object"&amp;&amp;!~t(i,["Exceptions","Env","Mime"])?n(r[i]):s==="function"&amp;&amp;(e[i]=r[i])}(window.moxie),e.Env=window.moxie.core.utils.Env,e.Mime=window.moxie.core.utils.Mime,e.Exceptions=window.moxie.core.Exceptions,window.mOxie=e,window.o||(window.o=e),e})();<a name="line_15"></a></li>
<li id="line_16" class="even"><span class="lineNumber">16&nbsp;</span>/**<a name="line_16"></a></li>
<li id="line_17" class="odd"><span class="lineNumber">17&nbsp;</span>&nbsp;*&nbsp;Plupload&nbsp;-&nbsp;multi-runtime&nbsp;File&nbsp;Uploader<a name="line_17"></a></li>
<li id="line_18" class="even"><span class="lineNumber">18&nbsp;</span>&nbsp;*&nbsp;v2.1.1<a name="line_18"></a></li>
<li id="line_19" class="odd"><span class="lineNumber">19&nbsp;</span>&nbsp;*<a name="line_19"></a></li>
<li id="line_20" class="even"><span class="lineNumber">20&nbsp;</span>&nbsp;*&nbsp;Copyright&nbsp;2013,&nbsp;Moxiecode&nbsp;Systems&nbsp;AB<a name="line_20"></a></li>
<li id="line_21" class="odd"><span class="lineNumber">21&nbsp;</span>&nbsp;*&nbsp;Released&nbsp;under&nbsp;GPL&nbsp;License.<a name="line_21"></a></li>
<li id="line_22" class="even"><span class="lineNumber">22&nbsp;</span>&nbsp;*<a name="line_22"></a></li>
<li id="line_23" class="odd"><span class="lineNumber">23&nbsp;</span>&nbsp;*&nbsp;License:&nbsp;http://www.plupload.com/license<a name="line_23"></a></li>
<li id="line_24" class="even"><span class="lineNumber">24&nbsp;</span>&nbsp;*&nbsp;Contributing:&nbsp;http://www.plupload.com/contributing<a name="line_24"></a></li>
<li id="line_25" class="odd"><span class="lineNumber">25&nbsp;</span>&nbsp;*<a name="line_25"></a></li>
<li id="line_26" class="even"><span class="lineNumber">26&nbsp;</span>&nbsp;*&nbsp;Date:&nbsp;2014-01-16<a name="line_26"></a></li>
<li id="line_27" class="odd"><span class="lineNumber">27&nbsp;</span>&nbsp;*/<a name="line_27"></a></li>
<li id="line_28" class="even"><span class="lineNumber">28&nbsp;</span>;(function(e,t,n){function&nbsp;s(e){function&nbsp;r(e,t,r){var&nbsp;i={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};i[e]?n[i[e]]=t:r||(n[e]=t)}var&nbsp;t=e.required_features,n={};return&nbsp;typeof&nbsp;t=="string"?o.each(t.split(/\s*,\s*/),function(e){r(e,!0)}):typeof&nbsp;t=="object"?o.each(t,function(e,t){r(t,e)}):t===!0&amp;&amp;(e.multipart||(n.send_binary_string=!0),e.chunk_size&gt;0&amp;&amp;(n.slice_blob=!0),e.resize.enabled&amp;&amp;(n.send_binary_string=!0),o.each(e,function(e,t){r(t,!!e,!0)})),n}var&nbsp;r=e.setTimeout,i={},o={VERSION:"2.1.1",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:t.mimes,ua:t.ua,typeOf:t.typeOf,extend:t.extend,guid:t.guid,get:function(n){var&nbsp;r=[],i;t.typeOf(n)!=="array"&amp;&amp;(n=[n]);var&nbsp;s=n.length;while(s--)i=t.get(n[s]),i&amp;&amp;r.push(i);return&nbsp;r.length?r:null},each:t.each,getPos:t.getPos,getSize:t.getSize,xmlEncode:function(e){var&nbsp;t={"&lt;":"lt","&gt;":"gt","&amp;":"amp",'"':"quot","'":"#39"},n=/[&lt;&gt;&amp;\"\']/g;return&nbsp;e?(""+e).replace(n,function(e){return&nbsp;t[e]?"&amp;"+t[e]+";":e}):e},toArray:t.toArray,inArray:t.inArray,addI18n:t.addI18n,translate:t.translate,isEmptyObj:t.isEmptyObj,hasClass:t.hasClass,addClass:t.addClass,removeClass:t.removeClass,getStyle:t.getStyle,addEvent:t.addEvent,removeEvent:t.removeEvent,removeAllEvents:t.removeAllEvents,cleanName:function(e){var&nbsp;t,n;n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(t=0;t&lt;n.length;t+=2)e=e.replace(n[t],n[t+1]);return&nbsp;e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,""),e},buildUrl:function(e,t){var&nbsp;n="";return&nbsp;o.each(t,function(e,t){n+=(n?"&amp;":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),n&amp;&amp;(e+=(e.indexOf("?")&gt;0?"&amp;":"?")+n),e},formatSize:function(e){function&nbsp;t(e,t){return&nbsp;Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===n||/\D/.test(e))return&nbsp;o.translate("N/A");var&nbsp;r=Math.pow(1024,4);return&nbsp;e&gt;r?t(e/r,1)+"&nbsp;"+o.translate("tb"):e&gt;(r/=1024)?t(e/r,1)+"&nbsp;"+o.translate("gb"):e&gt;(r/=1024)?t(e/r,1)+"&nbsp;"+o.translate("mb"):e&gt;1024?Math.round(e/1024)+"&nbsp;"+o.translate("kb"):e+"&nbsp;"+o.translate("b")},parseSize:t.parseSizeStr,predictRuntime:function(e,n){var&nbsp;r,i;return&nbsp;r=new&nbsp;o.Uploader(e),i=t.Runtime.thatCan(r.getOption().required_features,n||e.runtimes),r.destroy(),i},addFileFilter:function(e,t){i[e]=t}};o.addFileFilter("mime_types",function(e,t,n){e.length&amp;&amp;!e.regexp.test(t.name)?(this.trigger("Error",{code:o.FILE_EXTENSION_ERROR,message:o.translate("File&nbsp;extension&nbsp;error."),file:t}),n(!1)):n(!0)}),o.addFileFilter("max_file_size",function(e,t,n){var&nbsp;r;e=o.parseSize(e),t.size!==r&amp;&amp;e&amp;&amp;t.size&gt;e?(this.trigger("Error",{code:o.FILE_SIZE_ERROR,message:o.translate("File&nbsp;size&nbsp;error."),file:t}),n(!1)):n(!0)}),o.addFileFilter("prevent_duplicates",function(e,t,n){if(e){var&nbsp;r=this.files.length;while(r--)if(t.name===this.files[r].name&amp;&amp;t.size===this.files[r].size){this.trigger("Error",{code:o.FILE_DUPLICATE_ERROR,message:o.translate("Duplicate&nbsp;file&nbsp;error."),file:t}),n(!1);return}}n(!0)}),o.Uploader=function(e){function&nbsp;g(){var&nbsp;e,t=0,n;if(this.state==o.STARTED){for(n=0;n&lt;f.length;n++)!e&amp;&amp;f[n].status==o.QUEUED?(e=f[n],this.trigger("BeforeUpload",e)&amp;&amp;(e.status=o.UPLOADING,this.trigger("UploadFile",e))):t++;t==f.length&amp;&amp;(this.state!==o.STOPPED&amp;&amp;(this.state=o.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",f))}}function&nbsp;y(e){e.percent=e.size&gt;0?Math.ceil(e.loaded/e.size*100):100,b()}function&nbsp;b(){var&nbsp;e,t;d.reset();for(e=0;e&lt;f.length;e++)t=f[e],t.size!==n?(d.size+=t.origSize,d.loaded+=t.loaded*t.origSize/t.size):d.size=n,t.status==o.DONE?d.uploaded++:t.status==o.FAILED?d.failed++:d.queued++;d.size===n?d.percent=f.length&gt;0?Math.ceil(d.uploaded/f.length*100):0:(d.bytesPerSec=Math.ceil(d.loaded/((+(new&nbsp;Date)-p||1)/1e3)),d.percent=d.size&gt;0?Math.ceil(d.loaded/d.size*100):0)}function&nbsp;w(){var&nbsp;e=c[0]||h[0];return&nbsp;e?e.getRuntime().uid:!1}function&nbsp;E(e,n){if(e.ruid){var&nbsp;r=t.Runtime.getInfo(e.ruid);if(r)return&nbsp;r.can(n)}return!1}function&nbsp;S(){this.bind("FilesAdded",C),this.bind("CancelUpload",M),this.bind("BeforeUpload",k),this.bind("UploadFile",L),this.bind("UploadProgress",A),this.bind("StateChanged",O),this.bind("QueueChanged",b),this.bind("Error",D),this.bind("FileUploaded",_),this.bind("Destroy",P)}function&nbsp;x(e,n){var&nbsp;r=this,i=0,s=[],u={accept:e.filters.mime_types,runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:l,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};o.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&amp;&amp;(u[t]=e[t])}),e.browse_button&amp;&amp;o.each(e.browse_button,function(n){s.push(function(s){var&nbsp;a=new&nbsp;t.FileInput(o.extend({},u,{name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:n}));a.onready=function(){var&nbsp;e=t.Runtime.getInfo(this.ruid);t.extend(r.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),i++,c.push(this),s()},a.onchange=function(){r.addFile(this.files)},a.bind("mouseenter&nbsp;mouseleave&nbsp;mousedown&nbsp;mouseup",function(r){v||(e.browse_button_hover&amp;&amp;("mouseenter"===r.type?t.addClass(n,e.browse_button_hover):"mouseleave"===r.type&amp;&amp;t.removeClass(n,e.browse_button_hover)),e.browse_button_active&amp;&amp;("mousedown"===r.type?t.addClass(n,e.browse_button_active):"mouseup"===r.type&amp;&amp;t.removeClass(n,e.browse_button_active)))}),a.bind("error&nbsp;runtimeerror",function(){a=null,s()}),a.init()})}),e.drop_element&amp;&amp;o.each(e.drop_element,function(e){s.push(function(n){var&nbsp;s=new&nbsp;t.FileDrop(o.extend({},u,{drop_zone:e}));s.onready=function(){var&nbsp;e=t.Runtime.getInfo(this.ruid);r.features.dragdrop=e.can("drag_and_drop"),i++,h.push(this),n()},s.ondrop=function(){r.addFile(this.files)},s.bind("error&nbsp;runtimeerror",function(){s=null,n()}),s.init()})}),t.inSeries(s,function(){typeof&nbsp;n=="function"&amp;&amp;n(i)})}function&nbsp;T(e,n,r){var&nbsp;i=new&nbsp;t.Image;try{i.onload=function(){i.downsize(n.width,n.height,n.crop,n.preserve_headers)},i.onresize=function(){r(this.getAsBlob(e.type,n.quality)),this.destroy()},i.onerror=function(){r(e)},i.load(e)}catch(s){r(e)}}function&nbsp;N(e,n,r){function&nbsp;f(e,t,n){var&nbsp;r=a[e];switch(e){case"max_file_size":e==="max_file_size"&amp;&amp;(a.max_file_size=a.filters.max_file_size=t);break;case"chunk_size":if(t=o.parseSize(t))a[e]=t;break;case"filters":o.typeOf(t)==="array"&amp;&amp;(t={mime_types:t}),n?o.extend(a.filters,t):a.filters=t,t.mime_types&amp;&amp;(a.filters.mime_types.regexp=function(e){var&nbsp;t=[];return&nbsp;o.each(e,function(e){o.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new&nbsp;RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&amp;")+"]","g"),"\\$&amp;"))})}),new&nbsp;RegExp("("+t.join("|")+")$","i")}(a.filters.mime_types));break;case"resize":n?o.extend(a.resize,t,{enabled:!0}):a.resize=t;break;case"prevent_duplicates":a.prevent_duplicates=a.filters.prevent_duplicates=!!t;break;case"browse_button":case"drop_element":t=o.get(t);case"container":case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":a[e]=t,n||(u=!0);break;default:a[e]=t}n||i.trigger("OptionChanged",e,t,r)}var&nbsp;i=this,u=!1;typeof&nbsp;e=="object"?o.each(e,function(e,t){f(t,e,r)}):f(e,n,r),r?(a.required_features=s(o.extend({},a)),l=s(o.extend({},a,{required_features:!0}))):u&amp;&amp;(i.trigger("Destroy"),x.call(i,a,function(e){e?(i.runtime=t.Runtime.getInfo(w()).type,i.trigger("Init",{runtime:i.runtime}),i.trigger("PostInit")):i.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init&nbsp;error.")})}))}function&nbsp;C(e,t){[].push.apply(f,t),e.trigger("QueueChanged"),e.refresh()}function&nbsp;k(e,t){if(a.unique_names){var&nbsp;n=t.name.match(/\.([^.]+)$/),r="part";n&amp;&amp;(r=n[1]),t.target_name=t.id+"."+r}}function&nbsp;L(e,n){function&nbsp;h(){u--&gt;0?r(p,1e3):(n.loaded=f,e.trigger("Error",{code:o.HTTP_ERROR,message:o.translate("HTTP&nbsp;Error."),file:n,response:m.responseText,status:m.status,responseHeaders:m.getAllResponseHeaders()}))}function&nbsp;p(){var&nbsp;d,v,g,y;if(n.status==o.DONE||n.status==o.FAILED||e.state==o.STOPPED)return;g={name:n.target_name||n.name},s&amp;&amp;a.chunks&amp;&amp;c.size&gt;s?(y=Math.min(s,c.size-f),d=c.slice(f,f+y)):(y=c.size,d=c),s&amp;&amp;a.chunks&amp;&amp;(e.settings.send_chunk_number?(g.chunk=Math.ceil(f/s),g.chunks=Math.ceil(c.size/s)):(g.offset=f,g.total=c.size)),m=new&nbsp;t.XMLHttpRequest,m.upload&amp;&amp;(m.upload.onprogress=function(t){n.loaded=Math.min(n.size,f+t.loaded),e.trigger("UploadProgress",n)}),m.onload=function(){if(m.status&gt;=400){h();return}u=e.settings.max_retries,y&lt;c.size?(d.destroy(),f+=y,n.loaded=Math.min(f,c.size),e.trigger("ChunkUploaded",n,{offset:n.loaded,total:c.size,response:m.responseText,status:m.status,responseHeaders:m.getAllResponseHeaders()}),t.Env.browser==="Android&nbsp;Browser"&amp;&amp;e.trigger("UploadProgress",n)):n.loaded=n.size,d=v=null,!f||f&gt;=c.size?(n.size!=n.origSize&amp;&amp;(c.destroy(),c=null),e.trigger("UploadProgress",n),n.status=o.DONE,e.trigger("FileUploaded",n,{response:m.responseText,status:m.status,responseHeaders:m.getAllResponseHeaders()})):r(p,1)},m.onerror=function(){h()},m.onloadend=function(){this.destroy(),m=null},e.settings.multipart&amp;&amp;a.multipart?(g.name=n.target_name||n.name,m.open("post",i,!0),o.each(e.settings.headers,function(e,t){m.setRequestHeader(t,e)}),v=new&nbsp;t.FormData,o.each(o.extend(g,e.settings.multipart_params),function(e,t){v.append(t,e)}),v.append(e.settings.file_data_name,d),m.send(v,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:l,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})):(i=o.buildUrl(e.settings.url,o.extend(g,e.settings.multipart_params)),m.open("post",i,!0),m.setRequestHeader("Content-Type","application/octet-stream"),o.each(e.settings.headers,function(e,t){m.setRequestHeader(t,e)}),m.send(d,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:l,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url}))}var&nbsp;i=e.settings.url,s=e.settings.chunk_size,u=e.settings.max_retries,a=e.features,f=0,c;n.loaded&amp;&amp;(f=n.loaded=s*Math.floor(n.loaded/s)),c=n.getSource(),e.settings.resize.enabled&amp;&amp;E(c,"send_binary_string")&amp;&amp;!!~t.inArray(c.type,["image/jpeg","image/png"])?T.call(this,c,e.settings.resize,function(e){c=e,n.size=e.size,p()}):p()}function&nbsp;A(e,t){y(t)}function&nbsp;O(e){if(e.state==o.STARTED)p=+(new&nbsp;Date);else&nbsp;if(e.state==o.STOPPED)for(var&nbsp;t=e.files.length-1;t&gt;=0;t--)e.files[t].status==o.UPLOADING&amp;&amp;(e.files[t].status=o.QUEUED,b())}function&nbsp;M(){m&amp;&amp;m.abort()}function&nbsp;_(e){b(),r(function(){g.call(e)},1)}function&nbsp;D(e,t){t.file&amp;&amp;(t.file.status=o.FAILED,y(t.file),e.state==o.STARTED&amp;&amp;(e.trigger("CancelUpload"),r(function(){g.call(e)},1)))}function&nbsp;P(e){e.stop(),o.each(f,function(e){e.destroy()}),f=[],c.length&amp;&amp;(o.each(c,function(e){e.destroy()}),c=[]),h.length&amp;&amp;(o.each(h,function(e){e.destroy()}),h=[]),l={},v=!1,p=m=null,d.reset()}var&nbsp;u=o.guid(),a,f=[],l={},c=[],h=[],p,d,v=!1,m;a={runtimes:t.Runtime.order,max_retries:0,chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",flash_swf_url:"js/Moxie.swf",silverlight_xap_url:"js/Moxie.xap",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},resize:{enabled:!1,preserve_headers:!0,crop:!1},send_chunk_number:!0},N.call(this,e,null,!0),d=new&nbsp;o.QueueProgress,o.extend(this,{id:u,uid:u,state:o.STOPPED,features:{},runtime:null,files:f,settings:a,total:d,init:function(){var&nbsp;e=this;typeof&nbsp;a.preinit=="function"?a.preinit(e):o.each(a.preinit,function(t,n){e.bind(n,t)});if(!a.browse_button||!a.url){this.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init&nbsp;error.")});return}S.call(this),x.call(this,a,function(n){typeof&nbsp;a.init=="function"?a.init(e):o.each(a.init,function(t,n){e.bind(n,t)}),n?(e.runtime=t.Runtime.getInfo(w()).type,e.trigger("Init",{runtime:e.runtime}),e.trigger("PostInit")):e.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init&nbsp;error.")})})},setOption:function(e,t){N.call(this,e,t,!this.runtime)},getOption:function(e){return&nbsp;e?a[e]:a},refresh:function(){c.length&amp;&amp;o.each(c,function(e){e.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=o.STARTED&amp;&amp;(this.state=o.STARTED,this.trigger("StateChanged"),g.call(this))},stop:function(){this.state!=o.STOPPED&amp;&amp;(this.state=o.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){v=arguments[0]!==n?arguments[0]:!0,c.length&amp;&amp;o.each(c,function(e){e.disable(v)}),this.trigger("DisableBrowse",v)},getFile:function(e){var&nbsp;t;for(t=f.length-1;t&gt;=0;t--)if(f[t].id===e)return&nbsp;f[t]},addFile:function(e,n){function&nbsp;l(e,n){var&nbsp;r=[];t.each(s.settings.filters,function(t,n){i[n]&amp;&amp;r.push(function(r){i[n].call(s,t,e,function(e){r(!e)})})}),t.inSeries(r,n)}function&nbsp;c(e){var&nbsp;i=t.typeOf(e);if(e&nbsp;instanceof&nbsp;t.File){if(!e.ruid&amp;&amp;!e.isDetached()){if(!f)return!1;e.ruid=f,e.connectRuntime(f)}c(new&nbsp;o.File(e))}else&nbsp;e&nbsp;instanceof&nbsp;t.Blob?(c(e.getSource()),e.destroy()):e&nbsp;instanceof&nbsp;o.File?(n&amp;&amp;(e.name=n),u.push(function(t){l(e,function(n){n||(a.push(e),s.trigger("FileFiltered",e)),r(t,1)})})):t.inArray(i,["file","blob"])!==-1?c(new&nbsp;t.File(null,e)):i==="node"&amp;&amp;t.typeOf(e.files)==="filelist"?t.each(e.files,c):i==="array"&amp;&amp;(n=null,t.each(e,c))}var&nbsp;s=this,u=[],a=[],f;f=w(),c(e),u.length&amp;&amp;t.inSeries(u,function(){a.length&amp;&amp;s.trigger("FilesAdded",a)})},removeFile:function(e){var&nbsp;t=typeof&nbsp;e=="string"?e:e.id;for(var&nbsp;n=f.length-1;n&gt;=0;n--)if(f[n].id===t)return&nbsp;this.splice(n,1)[0]},splice:function(e,t){var&nbsp;r=f.splice(e===n?0:e,t===n?f.length:t),i=!1;return&nbsp;this.state==o.STARTED&amp;&amp;(i=!0,this.stop()),this.trigger("FilesRemoved",r),o.each(r,function(e){e.destroy()}),this.trigger("QueueChanged"),this.refresh(),i&amp;&amp;this.start(),r},bind:function(e,t,n){var&nbsp;r=this;o.Uploader.prototype.bind.call(this,e,function(){var&nbsp;e=[].slice.call(arguments);return&nbsp;e.splice(0,1,r),t.apply(this,e)},0,n)},destroy:function(){this.trigger("Destroy"),a=d=null,this.unbindAll()}})},o.Uploader.prototype=t.EventTarget.instance,o.File=function(){function&nbsp;n(n){o.extend(this,{id:o.guid(),name:n.name||n.fileName,type:n.type||"",size:n.size||n.fileSize,origSize:n.size||n.fileSize,loaded:0,percent:0,status:o.QUEUED,lastModifiedDate:n.lastModifiedDate||(new&nbsp;Date).toLocaleString(),getNative:function(){var&nbsp;e=this.getSource().getSource();return&nbsp;t.inArray(t.typeOf(e),["blob","file"])!==-1?e:null},getSource:function(){return&nbsp;e[this.id]?e[this.id]:null},destroy:function(){var&nbsp;t=this.getSource();t&amp;&amp;(t.destroy(),delete&nbsp;e[this.id])}}),e[this.id]=n}var&nbsp;e={};return&nbsp;n}(),o.QueueProgress=function(){var&nbsp;e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=o})(window,mOxie);<a name="line_28"></a></li></ol></div></body></html>
                    </div>
    </body>
</html>
